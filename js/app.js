webpackJsonp([1],[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(202),i=r(a),o=n(1),s=r(o),l=n(49),u=n(457),c=r(u),d=n(163),f=r(d),p=n(9),h=r(p),m=n(15),y=n(609),v=r(y),g=n(621);n(786),n(759);var b=n(76),_=r(b),w=n(8),E=r(w),k=n(161),T=n(61),S=n(17),C=n(622),P=n(610),O=window.location,N=O.pathname;N.length>1&&(N=N.replace(/\/$/,""));var A=_.default.getState();A.data&&A.data.route===N||_.default.dispatch((0,k.fetchPage)(N)),(0,T.initGa)(),(0,S.initCleverTap)(),(0,C.initializeWebWorker)(),(0,m.onUser)(function(e){e&&e.email&&(0,P.pushToDatalayer)("user_email",e.email)}),"SVOD"===window.settings.serviceType&&((0,T.initEnhancedECommerce)(),(0,m.refreshUser)().then(function(){var e=E.default.getState().user||{};if(e.userId){var t={Name:e.name,Email:e.email,Identity:e.userId,Phone:e.phone?e.phone.number:"","User Status":e.isSubscribed?"Subscribed":"Registered and Never Subscribed",registration_method:e.provider,registration_platform:(0,g.capitalize)(e.registerdVia.split("_")[0]),registration_date:e.registeredOn,registration_country:e.country};e.isSubscribed?(0,m.fetchUserSubscription)().then(function(){(0,i.default)(e,E.default.getState().user),(0,i.default)(t,{paymentMode:e.subscription.subscriptionInfo.cardType,paymentHandler:e.subscription.subscriptionInfo.paymentHandler,subscriptionStartDate:e.subscription.subscriptionInfo.subscriptionStartDate,subscriptionEndDate:e.subscription.subscriptionInfo.subscriptionEndDate,transactionId:e.subscription.subscriptionInfo.vlTransactionId,discountAmount:e.subscription.subscriptionInfo.planAmount,paymentPlan:e.subscription.subscriptionPlanInfo.name,freeTrial:e.subscription.subscriptionInfo.freeTrial?"Yes":"No",country:e.subscription.subscriptionInfo.countryCode,currency:e.subscription.subscriptionInfo.currencyCode,amount:e.subscription.subscriptionPlanInfo.planDetails[0].strikeThroughPrice}),(0,S.addUserProfile)("Site",t)}):(0,S.addUserProfile)("Site",t),window.settings.notifications&&window.settings.notifications.enableWebPushNotification&&(0,C.requestUserPermission)()}else(0,S.addUserProfile)("Site",{"User Status":"Anonymous"})}),setInterval(function(){return(0,m.refreshUser)()},3e5));var j=(0,f.default)("forwardParams"),I=(0,f.default)("app");if(I&&window.sessionStorage.setItem("isApp",!0),j){var x=new URLSearchParams(window.location.search),M=x.get("forwardParams"),D=x.get("offer");window.sessionStorage.setItem("plans",M.split("=")[1]),D&&window.sessionStorage.setItem("offer",D)}var L=(0,f.default)("popup");L&&h.default[L]&&h.default[L](),(0,l.render)(s.default.createElement(c.default,null),document.getElementById("root")),(0,v.default)()},,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(119),i=n(238),o=r(i),s=n(237),l=r(s),u=n(606),c=r(u),d=[(0,l.default)(),o.default],f=a.applyMiddleware.apply(void 0,d),p=(0,a.createStore)(c.default,f);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(271),i=r(a),o=n(40),s=n(55),l=r(s);e.exports={error:function(e){return i.default.store.dispatch({type:"error",args:e})},createSubscription:function(e){return i.default.store.dispatch({type:"createSubscription",args:{selected:e}})},login:function(e){return i.default.store.dispatch({type:"login"})},updateProfile:function(e){return i.default.store.dispatch({type:"updateProfile"})},changePassword:function(e){return i.default.store.dispatch({type:"changePassword"})},manageDevices:function(e){return i.default.store.dispatch({type:"manageDevices",args:e})},forgotPassword:function(e){return i.default.store.dispatch({type:"forgotPassword",args:e})},cancelSubscription:function(e){return i.default.store.dispatch({type:"cancelSubscription"})},upgradeSubscription:function(e){return i.default.store.dispatch({type:"upgradeSubscription"})},updateStripePayment:function(e){return i.default.store.dispatch({type:"updateStripePayment"})},billingHistory:function(e){return i.default.store.dispatch({type:"billingHistory"})},notice:function(e){return i.default.store.dispatch({type:"notice"})},episodeOverlay:function(e){return i.default.store.dispatch({type:"EpisodeOverlay",args:e})},search:function(e){return i.default.store.dispatch({type:"search"})},hide:function(e){return i.default.store.dispatch({type:"hide"})},purchase:function(e,t,n,r){return i.default.store.dispatch({type:"purchase",args:{plan:e,content:t,fn:n,purchase:r}})},equipment:function(e){return i.default.store.dispatch({type:"equipment"})},getSubscriptionPlans:function(e){return(0,o.getSubscriptionPlans)()},getSymbolFromCurrency:function(e){return(0,l.default)(e)}}},,,function(e,t){"use strict";function n(e,t,n){var r=function(){var e=n.getState();this.setState(Object.assign({},this.state,t(e)))},a=e.prototype.componentWillMount;e.prototype.componentWillMount=function(){var e=this;r.call(this),window.DONT_LISTEN_HACK||(this.unsubscribeFromStore=n.subscribe(function(t){r.call(e)})),a&&a.call(this)};var i=e.prototype.componentWillUnmount;e.prototype.componentWillUnmount=function(){this.unsubscribeFromStore&&this.unsubscribeFromStore(),i&&i.call(this)}}e.exports=n},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=b.default.getState(),n=t.user;b.default.subscribe(function(t){var r=b.default.getState().user;(n&&n.userId)!==(r&&r.userId)&&(n=r,e(n))}),e(n)}function i(e){b.default.subscribe(function(t){e(b.default.getState().user)}),e(b.default.getState().user)}function o(){var e=b.default.getState(),t=e.user;return t&&t.userId?b.default.dispatch((0,_.refresh)()):Promise.resolve()}function s(e){var t=b.default.getState();return e&&e(t.user),Promise.resolve(t.user)}function l(e){return b.default.dispatch((0,_.update)(e))}function u(e){return b.default.dispatch({type:"USER_CARD_DETAILS",payload:e})}function c(){return b.default.dispatch((0,_.logout)())}function d(e){return b.default.dispatch((0,_.getMySubscription)(e))}function f(){return(0,w.cancelMySubscription)().then(function(){setTimeout(function(e){d()},2e3)})}function p(e,t){return(0,w.upgradeMySubscription)(e,t).then(function(){setTimeout(function(e){d()},2e3)})}function h(e){return(0,w.updatePayment)(e).then(function(){setTimeout(function(e){d()},2e3)})}function m(e){return(0,E.getToken)().then(function(t){return(0,v.default)({url:"/identity/password",baseURL:window.settings.apiBaseUrl,method:"POST",params:{site:window.settings.internalName},headers:{Authorization:t,"Content-Type":"application/json","x-api-key":window.settings.baseAPIKey},data:JSON.stringify(e)})}).then(function(e){return e.data})}Object.defineProperty(t,"__esModule",{value:!0}),t.onUserAuth=a,t.onUser=i,t.refreshUser=o,t.getUser=s,t.updateUser=l,t.updateUserCard=u,t.logout=c,t.fetchUserSubscription=d,t.cancelSubscription=f,t.upgradeSubscription=p,t.updateStripePayment=h,t.changePassword=m;var y=n(6),v=r(y),g=n(8),b=r(g),_=n(77),w=n(40),E=n(20)},,function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){if(c){window.clevertap={event:[],profile:[],account:[],onUserLogin:[],notifications:[],privacy:[]},window.clevertap.account.push({id:c}),window.clevertap.privacy.push({optOut:!1}),window.clevertap.privacy.push({useIP:!1});var e=("https:"===document.location.protocol?"https://d2r1yp2w7bby2u.cloudfront.net":"http://static.clevertap.com")+"/js/a.js";!function(e,t,n,r,a,i){a=t.createElement(n),i=t.getElementsByTagName(n)[0],a.async=1,a.src=r,i.parentNode.insertBefore(a,i)}(window,document,"script",e)}}function a(e,t){var n=window.clevertap;n&&n.event.push(e,t)}function i(e,t){var r=window.clevertap;r&&r.profile.push(n({},e,t))}function o(){var e=window.clevertap;e&&(a("Logout",{platform:"Web"}),e.logout())}function s(){return window.sessionStorage.getItem("playSourcePrefix")||""}function l(e){window.sessionStorage.setItem("playSourcePrefix",e)}function u(e){var t=window.sessionStorage.getItem("currentPage");window.sessionStorage.setItem("currentPage",e),t!==e&&window.sessionStorage.setItem("prevPage",t)}Object.defineProperty(t,"__esModule",{value:!0}),t.initCleverTap=r,t.trackEvent=a,t.addUserProfile=i,t.logoutUser=o,t.getPlaySourcePrefix=s,t.setPlaySourcePrefix=l,t.setCurrentPage=u;var c=(window.settings||{}).cleverTapAnalyticsId},,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e||!e.authorizationToken)throw new Error("Invalid request to update token");f={expiration:t||new Date((new Date).getTime()+18e5),authorizationToken:e.authorizationToken,refreshToken:e.refreshToken},window.localStorage.setItem("token",JSON.stringify(f))}function i(){console.log("Clearing token."),window.localStorage.removeItem("token"),f={}}function o(e){return new Promise(function(t,n){if(f.authorizationToken){var r=new Date;if(r<f.expiration)return e&&e(f.authorizationToken,f.refreshToken),void t(f.authorizationToken,f.refreshToken)}if(f.refreshToken||d&&d.user&&Object.keys(d).length>0)return void(0,l.default)({method:"GET",url:window.settings.apiBaseUrl+"/identity/refresh/"+(f.refreshToken||d.user.refreshToken)}).then(function(n){var r=n.data&&{authorizationToken:n.data.authorization_token,refreshToken:n.data.refresh_token};a(r),e&&e(r.authorizationToken,r.refreshToken),t(r.authorizationToken,f.refreshToken)}).catch(function(e){console.error("Error refreshing token",e),i(),n(e)});var o=window.SERVER_SIDE_RENDERING?window.settings.apiBaseUrl+"/identity/server-token":window.settings.apiBaseUrl+"/identity/anonymous-token";(0,l.default)({method:"GET",url:o,params:{site:window.settings.internalName},headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(n){var r=n.data&&{authorizationToken:n.data.authorizationToken};a(r,Date()+31536e6),e&&e(r.authorizationToken,r.refreshToken),t(r.authorizationToken,r.refreshToken)}).catch(function(e){console.error("Error fetching anonymous token",e),n(e)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.setToken=a,t.clearToken=i,t.getToken=o;var s=n(6),l=r(s),u=window.localStorage.getItem("token"),c=window.localStorage.getItem("user"),d=c?JSON.parse(c):{},f=u?JSON.parse(u):{};f&&f.expiration&&(f.expiration=new Date(f.expiration))},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return"object"!==_(e[t])&&""!==e[t]&&e.hasOwnProperty(t)}function i(e,t){if((0,b.default)(t))return"GAME"===e?"FINAL"!==t.gamescore.boxscore.gameinformation.gamestatus.status:t.LiveEvents[0].Fights.filter(function(e){return"2"===e.FightStatus}).length!==t.LiveEvents[0].Fights.length}function o(e,t,n){var r=[];if(null===e||""===e||void 0===e)return r;var a=function(e){var r=(0,v.default)(e,t),a=(0,v.default)(e,n);return r+(1===r.length?". ":" ")+a};if(Array.isArray(e[0])&&e.length>1)for(var i=0;i<e.length;i++)r.push(e[i].map(function(e){return Object.assign({fullname:a(e)},e)}));else e=Array.isArray(e)?e:[e],r=e.map(function(e){return Object.assign({fullname:a(e)},e)});return r}function s(e){return(0,m.default)(e,function(e,t){return e[t.name]=t.value,e},{})}function l(e){var t=e.filter(function(e){return 1e3*(e.schedule.gameTime+10800)>Date.now()})[0];return e.indexOf(t)}function u(e){var t=60*new Date(e).getTimezoneOffset()*1e3;return new Date(e+t)}function c(){var e=Math.floor(new Date("January 01, "+(new Date).getFullYear()).valueOf()/1e3),t=Math.floor(new Date("December 31, "+(new Date).getFullYear()).valueOf()/1e3),n=window.settings,r=n.internalName,a=n.apiBaseUrl;return E.default.get(a+"/content/game/schedule?site="+r+"&from="+e+"&to="+t).then(function(e){var t=e.data.map(function(e){return e.gist.gameSchedule.map(function(t){return{schedule:t,homeTeam:e.gist.homeTeam.gist,awayTeam:e.gist.awayTeam.gist,ticket:e.gist.ticketUrl,stream:e.gist.livestreamUrl,dataId:e.gist.dataId,link:e.gist.permalink}})}),n=(0,p.default)(t),r=n.sort(function(e,t){return e.schedule.gameTime-t.schedule.gameTime});return r}).catch(function(e){console.log(e)})}function d(e){var t=e/1e3,n=Math.floor(t/86400),r=Math.floor((t-86400*n)/3600),a=Math.floor((t-3600*r-86400*n)/60),i=Math.floor(t-60*a-3600*r-86400*n);return{getDays:function(){return n<10?"0"+n:n},getHours:function(){return r<10?"0"+r:r},getMinutes:function(){return a<10?"0"+a:a},getSeconds:function(){return i<10?"0"+i:i}}}Object.defineProperty(t,"__esModule",{value:!0});var f=n(1067),p=r(f),h=n(109),m=r(h),y=n(3),v=r(y),g=n(23),b=r(g),_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.labelIsValid=a,t.isLive=i,t.combineNames=o,t.reduceMetadata=s,t.nextGame=l,t.offsetTimezone=u,t.getGames=c,t.getDuration=d;var w=n(6),E=r(w)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FiltersSVG=t.TimerSVG=t.CalendarIcon=t.TriangleIcon=t.BackArrowIcon=t.RemoveFromWatchlistIcon=t.AddToWatchlistIcon=t.AddToFavoritesIcon=t.RemoveFromFavoritesIcon=t.TrashIcon=t.UserIcon=t.EmailIcon=t.InstagramIcon=t.FacebookIcon=t.TwitterIcon=t.WhatsAppIcon=t.SearchIcon=t.CloseIcon=t.MenuIcon=void 0;var a=n(1),i=r(a);t.MenuIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 1024 1024"},i.default.createElement("path",{d:"M0 852.329h1024v-114.447h-1024v114.447zM0 569.224h1024v-114.447h-1024v114.447zM0 171.671v114.447h1024v-114.447h-1024z"}))},t.CloseIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 357 357"},i.default.createElement("path",{d:"M357 35.7L321.3 0 178.5 142.8 35.7 0 0 35.7l142.8 142.8L0 321.3 35.7 357l142.8-142.8L321.3 357l35.7-35.7-142.8-142.8"}))},t.SearchIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 1024 1024"},i.default.createElement("path",{d:"M995.2 902.4l-214.4-214.4c51.2-70.4 76.8-150.4 76.8-243.2 0-230.4-188.8-419.2-419.2-419.2s-422.4 185.6-422.4 416c0 233.6 188.8 422.4 419.2 422.4 96 0 185.6-35.2 259.2-89.6l163.2 163.2c3.2 3.2 3.2 3.2 6.4 3.2l41.6 41.6 89.6-80zM435.2 768c-176 0-320-144-320-320s144-320 320-320c176 0 320 144 320 320 0 73.6-25.6 144-64 195.2-16 19.2-32 35.2-44.8 51.2-57.6 44.8-131.2 73.6-211.2 73.6v0z"}))},t.WhatsAppIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 32 32"},i.default.createElement("path",{d:"M27.281 4.65c-2.994-3-6.975-4.65-11.219-4.65-8.738 0-15.85 7.112-15.85 15.856 0 2.794 0.731 5.525 2.119 7.925l-2.25 8.219 8.406-2.206c2.319 1.262 4.925 1.931 7.575 1.931h0.006c0 0 0 0 0 0 8.738 0 15.856-7.113 15.856-15.856 0-4.238-1.65-8.219-4.644-11.219zM16.069 29.050v0c-2.369 0-4.688-0.637-6.713-1.837l-0.481-0.288-4.987 1.306 1.331-4.863-0.313-0.5c-1.325-2.094-2.019-4.519-2.019-7.012 0-7.269 5.912-13.181 13.188-13.181 3.519 0 6.831 1.375 9.319 3.862 2.488 2.494 3.856 5.8 3.856 9.325-0.006 7.275-5.919 13.188-13.181 13.188zM23.294 19.175c-0.394-0.2-2.344-1.156-2.706-1.288s-0.625-0.2-0.894 0.2c-0.262 0.394-1.025 1.288-1.256 1.556-0.231 0.262-0.462 0.3-0.856 0.1s-1.675-0.619-3.188-1.969c-1.175-1.050-1.975-2.35-2.206-2.744s-0.025-0.613 0.175-0.806c0.181-0.175 0.394-0.463 0.594-0.694s0.262-0.394 0.394-0.662c0.131-0.262 0.069-0.494-0.031-0.694s-0.894-2.15-1.219-2.944c-0.319-0.775-0.65-0.669-0.894-0.681-0.231-0.012-0.494-0.012-0.756-0.012s-0.694 0.1-1.056 0.494c-0.363 0.394-1.387 1.356-1.387 3.306s1.419 3.831 1.619 4.1c0.2 0.262 2.794 4.269 6.769 5.981 0.944 0.406 1.681 0.65 2.256 0.837 0.95 0.3 1.813 0.256 2.494 0.156 0.762-0.113 2.344-0.956 2.675-1.881s0.331-1.719 0.231-1.881c-0.094-0.175-0.356-0.275-0.756-0.475z"}))},t.TwitterIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 32 32"},i.default.createElement("path",{d:"M32 7.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"}))},t.FacebookIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 32 32"},i.default.createElement("path",{d:"M19 6h5v-6h-5c-3.86 0-7 3.14-7 7v3h-4v6h4v16h6v-16h5l1-6h-6v-3c0-0.542 0.458-1 1-1z"}))},t.InstagramIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 512 512"},i.default.createElement("path",{d:"M336 96c21.2 0 41.3 8.4 56.5 23.5S416 154.8 416 176v160c0 21.2-8.4 41.3-23.5 56.5S357.2 416 336 416H176c-21.2 0-41.3-8.4-56.5-23.5S96 357.2 96 336V176c0-21.2 8.4-41.3 23.5-56.5S154.8 96 176 96h160m0-32H176c-61.6 0-112 50.4-112 112v160c0 61.6 50.4 112 112 112h160c61.6 0 112-50.4 112-112V176c0-61.6-50.4-112-112-112z"}),i.default.createElement("path",{d:"M360 176c-13.3 0-24-10.7-24-24s10.7-24 24-24c13.2 0 24 10.7 24 24s-10.8 24-24 24zM256 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64m0-32c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96z"}))},t.EmailIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 32 32"},i.default.createElement("path",{d:"M29 4h-26c-1.657 0-3 1.343-3 3v18c0 1.656 1.343 3 3 3h26c1.657 0 3-1.344 3-3v-18c0-1.657-1.343-3-3-3zM2.741 25.99l-0.731-0.732 8.249-8.248 0.731 0.732-8.249 8.248zM29.259 25.99l-8.249-8.248 0.731-0.732 8.249 8.248-0.731 0.732zM17 19.325v0.675h-2v-0.675l-12.997-12.050 1.272-1.272 12.725 11.798 12.725-11.798 1.272 1.272-12.997 12.050z"}))},t.UserIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 26 26"},i.default.createElement("path",{d:"M13 2.71c-1.775 0-3.22 1.445-3.22 3.22 0 1.775 1.445 3.22 3.22 3.22 1.775-.002 3.218-1.446 3.218-3.22 0-1.775-1.443-3.22-3.218-3.22m0 8.438c-2.878 0-5.22-2.34-5.22-5.218C7.78 3.053 10.123.71 13 .71c2.877 0 5.22 2.343 5.22 5.22s-2.343 5.22-5.22 5.22M3.61 23.29h18.78c-1.61-3.683-5.298-6.157-9.39-6.157-4.09 0-7.78 2.474-9.39 6.156zm21.525 2H.865l.365-1.276c1.495-5.23 6.334-8.88 11.77-8.88s10.276 3.65 11.77 8.88l.365 1.275z"}))},t.TrashIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 30 30"},i.default.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"#fff",fillRule:"evenodd"},i.default.createElement("g",{id:"icon-trash",stroke:"#000"},i.default.createElement("g",{id:"Group-4",transform:"translate(5.000000, 5.000000)"},i.default.createElement("rect",{id:"Rectangle-4",x:"7.5",y:"0.5",width:"6",height:"3"}),i.default.createElement("rect",{id:"Rectangle-4",x:"3.5",y:"3.5",width:"14",height:"17"}),i.default.createElement("path",{d:"M0.5,3.5 L20.5,3.5",id:"Line",strokeLinecap:"square"}),i.default.createElement("path",{d:"M7.5,7.5 L7.5,16.5",id:"Line",strokeLinecap:"square"}),i.default.createElement("path",{d:"M10.5,7.5 L10.5,16.5",id:"Line",strokeLinecap:"square"}),i.default.createElement("path",{d:"M13.5,7.5 L13.5,16.5",id:"Line",strokeLinecap:"square"})))))},t.RemoveFromFavoritesIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 59.02 49.11"},i.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},i.default.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},i.default.createElement("g",{id:"oAFm60"},i.default.createElement("path",{style:{fill:"#db0000",strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"3.95px"},d:"M29,10.86c.16-.38.27-.68.4-1A12.32,12.32,0,0,1,38,2.73a16,16,0,0,1,8.57-.15,13.1,13.1,0,0,1,9.24,8.82A21.22,21.22,0,0,1,57,16.68,15.19,15.19,0,0,1,55.17,25a35.39,35.39,0,0,1-7,9.07,73.63,73.63,0,0,1-14.13,10.5c-1.65,1-3.33,1.91-5,2.87C27,46.16,24.93,45,22.92,43.7a69.32,69.32,0,0,1-12-9.33A35.3,35.3,0,0,1,3.53,24.31,15.55,15.55,0,0,1,2,16.94,22.23,22.23,0,0,1,3.33,10.7,12.88,12.88,0,0,1,17.11,2.05a16.33,16.33,0,0,1,5,1.21A12.06,12.06,0,0,1,29,10.86Z"})))))},t.AddToFavoritesIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 59.02 49.11"},i.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},i.default.createElement("g",{id:"Layer_2-2","data-name":"Layer 2"},i.default.createElement("g",{id:"oAFm60"},i.default.createElement("path",{style:{fill:"none",stroke:"white",strokeLinecap:"round",strokeLinejoin:"bevel",strokeWidth:"3.95px"},d:"M29,10.86c.16-.38.27-.68.4-1A12.32,12.32,0,0,1,38,2.73a16,16,0,0,1,8.57-.15,13.1,13.1,0,0,1,9.24,8.82A21.22,21.22,0,0,1,57,16.68,15.19,15.19,0,0,1,55.17,25a35.39,35.39,0,0,1-7,9.07,73.63,73.63,0,0,1-14.13,10.5c-1.65,1-3.33,1.91-5,2.87C27,46.16,24.93,45,22.92,43.7a69.32,69.32,0,0,1-12-9.33A35.3,35.3,0,0,1,3.53,24.31,15.55,15.55,0,0,1,2,16.94,22.23,22.23,0,0,1,3.33,10.7,12.88,12.88,0,0,1,17.11,2.05a16.33,16.33,0,0,1,5,1.21A12.06,12.06,0,0,1,29,10.86Z"})))))},t.AddToWatchlistIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 40 40"},i.default.createElement("defs",null,i.default.createElement("circle",{id:"path-1",cx:"20",cy:"20",r:"20"})),i.default.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"Buttons/watchlist"},i.default.createElement("g",{id:"Group-2"},i.default.createElement("g",{id:"Oval-5"},i.default.createElement("use",{fillOpacity:"0.75",fillRule:"evenodd",xlinkHref:"#path-1"}),i.default.createElement("circle",{stroke:"currentColor",strokeWidth:"2",cx:"20",cy:"20",r:"19"})),i.default.createElement("polygon",{id:"Combined-Shape",fill:"currentColor",points:"22.0650107 17.9266945 22.0650107 9.48854866 17.9349893 9.48854866 17.9349893 17.9266945 9.60467529 17.9266945 9.60467529 22.0733055 17.9349893 22.0733055 17.9349893 30.5114513 22.0650107 30.5114513 22.0650107 22.0733055 30.3953247 22.0733055 30.3953247 17.9266945"})))))},t.RemoveFromWatchlistIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 40 40"},i.default.createElement("defs",null,i.default.createElement("circle",{id:"b",cx:"20",cy:"20",r:"20"}),i.default.createElement("filter",{id:"a",width:"137.5%",height:"137.5%",x:"-11.2%",y:"-13.7%",filterUnits:"objectBoundingBox"},i.default.createElement("feOffset",{dx:"3",dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.default.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.default.createElement("feComposite",{in:"shadowBlurOuter1",in2:"SourceAlpha",operator:"out",result:"shadowBlurOuter1"}),i.default.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.225600091 0",in:"shadowBlurOuter1"}))),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("use",{filter:"url(#a)",xlinkHref:"#b"}),i.default.createElement("use",{fillOpacity:".75",xlinkHref:"#b"}),i.default.createElement("circle",{cx:"20",cy:"20",r:"19",stroke:"currentColor",strokeWidth:"2"}),i.default.createElement("path",{fill:"currentColor",d:"M9.605 17.927v4.146h20.79v-4.146"})))},t.BackArrowIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,viewBox:"0 0 16 16"},i.default.createElement("g",{fillRule:"evenodd"},i.default.createElement("g",null,i.default.createElement("path",{d:"M16 7H3.83l5.59-5.59L8 0 0 8l8 8 1.41-1.41L3.83 9H16z"}))))},t.TriangleIcon=function(e){var t=e.className,n=e.color;return i.default.createElement("svg",{role:"presentation",className:t,width:"20px",height:"10px",viewBox:"0 0 20 10"},i.default.createElement("g",{id:"WebApps-No-Playlist",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"W01-Home-Loggedin",transform:"translate(-943.000000, -46.000000)",fill:n||"#FFFFFF"},i.default.createElement("g",{id:"Group-4",transform:"translate(50.000000, 15.000000)"},i.default.createElement("g",{id:"Group-2",transform:"translate(354.000000, 22.000000)"},i.default.createElement("polygon",{id:"Triangle",points:"549 19 539 9 559 9"}))))))},t.CalendarIcon=function(e){var t=e.className;return i.default.createElement("svg",{role:"presentation",className:t,width:"21px",height:"24px",viewBox:"0 0 21 24",version:"1.1"},i.default.createElement("g",{id:"Symbols",stroke:"none",strokeWidth:"2",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"icon-/-calendar",transform:"translate(-1.000000, 0.000000)"},i.default.createElement("g",{id:"calendar",transform:"translate(2.000000, 1.000000)"},i.default.createElement("path",{d:"M2,2 L16,2 C17.1045695,2 18,2.8954305 18,4 C18,6.69637044 18,9.39274089 18,12.0891113 C18,14.0594076 18,16.0297038 18,18 L18,18 C18,19.1045695 17.1045695,20 16,20 C13.634196,20 11.2683919,20 8.90258789,20 C6.60172526,20 4.30086263,20 2,20 L2,20 C0.8954305,20 1.3527075e-16,19.1045695 0,18 L0,4 C-1.3527075e-16,2.8954305 0.8954305,2 2,2 Z",id:"Rectangle-path",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.default.createElement("rect",{id:"Rectangle",fill:"#222222",x:"10",y:"13",width:"10",height:"10"}),i.default.createElement("path",{d:"M13,0 L13,4",id:"Shape1",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.default.createElement("path",{d:"M5,0 L5,4",id:"Shape2",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.default.createElement("path",{d:"M0,8 L18,8",id:"Shape3",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.default.createElement("path",{d:"M13,18 L17,18",id:"Shape-Copy1",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"}),i.default.createElement("path",{d:"M15,16 L15,20",id:"Shape-Copy2",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"})))))},t.TimerSVG=function(e){var t=e.className;return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 53.48 60.05"},i.default.createElement("defs",null),i.default.createElement("title",null,"timer"),i.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},i.default.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},i.default.createElement("path",{className:"cls-1",fill:"#ed1c24",d:"M32,0H21.89a2,2,0,0,0-2,2h0a2,2,0,0,0,2,2h.23l.08,1.9A23.14,23.14,0,0,1,32,6V3.93h0a2,2,0,0,0,2-2h0A2,2,0,0,0,32,0Z"}),i.default.createElement("path",{className:"cls-1",fill:"none",stroke:"#ed1c24",strokeMiterlimit:"10",strokeWidth:"2.32px",d:"M9,10.37l-.92-1,.2-.21A1.53,1.53,0,0,0,8.29,7l-.11-.11A1.53,1.53,0,0,0,6,6.91L1.45,11.49a1.51,1.51,0,0,0,0,2.15l.11.12a1.52,1.52,0,0,0,1.93.17l.86.92a1.81,1.81,0,0,0,.3,1.77,46.13,46.13,0,0,1,6.08-6A1.88,1.88,0,0,0,9,10.37Z"}),i.default.createElement("path",{className:"cls-1",fill:"none",stroke:"#ed1c24",strokeMiterlimit:"10",strokeWidth:"2.32px",d:"M52.49,11.49,47.9,6.91a1.53,1.53,0,0,0-2.15,0L45.64,7a1.53,1.53,0,0,0,0,2.15l.21.21-.93,1a1.86,1.86,0,0,0-1.71.24,46.39,46.39,0,0,1,6.07,6,1.83,1.83,0,0,0,.31-1.77l.85-.92a1.53,1.53,0,0,0,1.94-.17l.11-.12A1.53,1.53,0,0,0,52.49,11.49Z"}),i.default.createElement("path",{className:"cls-2",fill:"none",stroke:"#ed1c24",strokeMiterlimit:"10",strokeWidth:"2.32px",d:"M26.74,7.73A25.58,25.58,0,1,0,52.32,33.31,25.58,25.58,0,0,0,26.74,7.73Z"}))))},t.FiltersSVG=function(e){var t=e.className;return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 68.07 48.79"},i.default.createElement("title",null,"menu-filter"),i.default.createElement("g",{id:"Layer_2","data-name":"Layer 2"},i.default.createElement("g",{id:"Layer_4","data-name":"Layer 4"},i.default.createElement("circle",{cx:"12.88",cy:"7.36",r:"7.36"}),i.default.createElement("circle",{cx:"53.22",cy:"24.53",r:"7.36"}),i.default.createElement("circle",{cx:"27.6",cy:"41.43",r:"7.36"}),i.default.createElement("rect",{y:"4.91",width:"68.07",height:"5.52"}),i.default.createElement("rect",{y:"21.46",width:"68.07",height:"5.52"}),i.default.createElement("rect",{y:"38.02",width:"68.07",height:"5.52"}))))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(797);var o=function(){return i.default.createElement("div",{className:"spinner site-color"})};t.default=o},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return y[e]?t(y[e]):void(0,f.getToken)(function(n){return n?void(0,m.default)({method:"GET",url:window.settings.apiBaseUrl+"/user/info/video/"+e,params:{site:window.settings.internalName},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}}).then(function(n){y[e]=n.data,t(y[e])}).catch(function(e){console.error(e)}):void console.error("No user token")})}function i(e,t,n){(0,p.getUser)(function(r){(0,f.getToken)(function(i){(0,m.default)({method:"POST",url:window.settings.apiBaseUrl+"/user/queues",params:{site:window.settings.internalName},headers:{Authorization:i,"x-api-key":window.settings.baseAPIKey},data:{userId:r.userId,contentId:e,position:1,contentType:t}}).then(function(t){y[e]&&(y[e].isQueued=!0),a(e,n)}).catch(function(e){console.error(e)})})})}function o(e,t){(0,f.getToken)(function(n){(0,m.default)({method:"PUT",url:window.settings.apiBaseUrl+"/transaction/changeStatus",params:{userId:e,videoId:t},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}}).then(function(e){}).catch(function(e){console.error(e)})})}function s(e,t){(0,p.getUser)(function(n){(0,f.getToken)(function(r){(0,m.default)({method:"DELETE",url:window.settings.apiBaseUrl+"/user/queues",params:{site:window.settings.internalName,userId:n.userId,contentIds:e},headers:{Authorization:r,"x-api-key":window.settings.baseAPIKey}}).then(function(n){y[e]&&(y[e].isQueued=!1),a(e,t)}).catch(function(e){console.error(e)})})})}function l(e){return(0,p.getUser)().then(function(t){return(0,f.getToken)().then(function(n){return(0,m.default)({method:"DELETE",url:window.settings.apiBaseUrl+"/content/video/history/user/"+t.userId,params:Object.assign({},e&&{videoIds:e},{site:window.settings.internalName}),headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}}).catch(function(e){return console.log(e)})})})}function u(e,t){return(0,f.getToken)().then(function(n){return(0,m.default)({method:"GET",url:window.settings.apiBaseUrl+"/content/video/history/user/"+e,params:Object.assign({site:window.settings.internalName,userId:e,limit:25},t&&{page:t}),headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return e&&e.data&&e.data.records||[]})})}function c(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return(0,f.getToken)().then(function(n){return(0,m.default)({method:"GET",url:window.settings.apiBaseUrl+"/transaction/getData",params:Object.assign({site:window.settings.internalName,userId:e,contentMeta:t},1===r.length&&{page:r[0],limit:25},r.length>1&&{type:r[0],contentId:r[1]}),headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}}).catch(function(e){return console.log(e)})})}function d(e){(0,f.getToken)().then(function(t){(0,m.default)({url:"/content/video/history",baseURL:window.settings.apiBaseUrl,method:"POST",headers:{Authorization:t,"content-type":"application/json",
"x-api-key":window.settings.baseAPIKey},data:JSON.stringify(e)})}).catch(function(e){console.error(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoInfo=a,t.addToQueue=i,t.playVideo=o,t.removeFromQueue=s,t.deleteHistory=l,t.fetchHistory=u,t.getTransactionInfo=c,t.saveWatchHistory=d;var f=n(20),p=n(15),h=n(6),m=r(h),y={}},,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(44),p=r(f),h=n(164),m=r(h),y=n(257),v=r(y),g=n(259),b=r(g),_=n(245),w=r(_),E=n(76),k=r(E);n(68),n(782);var T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=k.default.getState(),o=r.data.categoryMap,s=(0,l.default)(e,"data.filters.categories[0]");return n.state={categoryUrl:(0,l.default)(e,"data.categoryUrl")||s&&o&&o[s],filter:(0,l.default)(e,"data.filter",s),items:(0,l.default)(e,"data.contentData",[]),title:(0,l.default)(e,"data.title","")},n.goToTrayItem=n.goToTrayItem.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({innerWidth:window.innerWidth});var t=this.container.querySelector(".slick-next");null!==t&&t.addEventListener("click",function(t){!e.state.clickNext&&e.setState({clickNext:!0})})}},{key:"componentWillReceiveProps",value:function(e){this.setState({items:(0,l.default)(e,"data.contentData",[])})}},{key:"goToTrayItem",value:function(e){this.slider.slickGoTo(e)}},{key:"render",value:function(){var e=this,t=this.props.layout.settings,n=t.columns||{},r=(0,l.default)(this.state,"items.length",0)>n.desktop,a=new m.default(n);return d.default.createElement("div",{ref:function(t){return e.container=t},className:"video-tray "+(t.infoHover?"infoHover":"")+" "+(t.thumbnailType?t.thumbnailType:"")+" "+((0,l.default)(this.props,"layout.settings.isHidden")?"hide":"")},(0,l.default)(this.props,"data.noBlockTitle")?d.default.createElement("div",{className:"tray-header"},this.state.title):d.default.createElement(w.default,null,this.state.title),d.default.createElement("div",{className:"items"},this.state.items&&this.state.items.length>0&&d.default.createElement(p.default,Object.assign({ref:function(t){return e.slider=t},dots:!1,infinite:t.loop,arrows:r,slidesToShow:a.slidesToShow,slidesToScroll:a.slidesToScroll,responsive:a.responsiveBreakpoints,lazyLoad:void 0===this.props.lazyLoad||this.props.lazyLoad},this.props.settings),this.state.items.map(function(n,r){return d.default.createElement("div",{key:r},e.props.netflix?d.default.createElement(v.default,{noBadgeImage:e.props.noBadgeImage,item:n,maxWidth:e.state.innerWidth<600?a.mobileMaxWidth:a.maxWidth,infoHover:t.infoHover,thumbnailType:t.thumbnailType,isEpisode:(0,l.default)(e.props,"data.isEpisode"),noEpisodeNumber:e.props.data.noEpisodeNumber,index:r,season:e.props.season,sharing:e.props.data.sharing,noBoxshadow:e.props.data.noBoxshadow,openEpisodeOverlay:e.props.openEpisodeOverlay,onFocus:e.goToTrayItem,clickNext:e.state.clickNext,lazyLoad:void 0===e.props.lazyLoad||e.props.lazyLoad,refItems:e.state.items,slidesToScroll:a.slidesToScroll}):d.default.createElement(b.default,{item:n,maxWidth:e.state.innerWidth<600?a.mobileMaxWidth:a.maxWidth,infoHover:t.infoHover,thumbnailType:t.thumbnailType,isEpisode:(0,l.default)(e.props,"data.isEpisode"),noEpisodeNumber:e.props.data.noEpisodeNumber,index:r,season:e.props.season,sharing:e.props.data.sharing,noBoxshadow:e.props.data.noBoxshadow,openEpisodeOverlay:e.props.openEpisodeOverlay,onFocus:e.goToTrayItem,clickNext:e.state.clickNext,trayTitle:e.props.trayTitle?e.props.trayTitle:e.state.title,lazyLoad:void 0===e.props.lazyLoad||e.props.lazyLoad,refItems:e.state.items}))}),this.state.categoryUrl&&d.default.createElement("a",{className:"tray-last-item",href:this.state.categoryUrl},d.default.createElement("div",{className:"image-and-details"},"landscape"!==t.thumbnailType&&d.default.createElement("div",{className:"image"},d.default.createElement("img",{src:(0,l.default)(window.settings,"images.desktopLogo"),alt:"logo"})),d.default.createElement("div",{className:"details"},d.default.createElement("div",{className:"see-all"},"See All"),d.default.createElement("div",{className:"category-name"},this.state.filter)))))))}}]),t}(d.default.Component);e.exports=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),s=o.value}catch(l){return void n(l)}return o.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0}),t.updatePayment=t.upgradeMySubscription=t.cancelMySubscription=t.getMyBillingHistory=t.getInvisiblePlans=t.getSubscriptionPlans=t.subscribeByTransactionOfferCode=t.subscribeBySubscriptionOfferCode=t.getDiscountPrice=t.validateTransactionOfferCode=t.validateSubscriptionOfferCode=t.subscribe=void 0;var i=n(279),o=r(i),s=n(6),l=r(s),u=n(20),c=n(91),d=r(c),f=n(77),p=n(8),h=r(p);t.subscribe=function(e){return h.default.dispatch((0,f.subscribe)(e))},t.validateSubscriptionOfferCode=function(){var e=a(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getToken)();case 2:return n=e.sent,e.prev=3,e.next=6,(0,l.default)({method:"POST",url:window.settings.apiBaseUrl+"/subscription/offer/validate",params:{site:window.settings.internalName},data:{offerCode:t},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}});case 6:return r=e.sent,e.abrupt("return",{isError:!1,data:r.data});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{isError:!0,error:e.t0.response&&e.t0.response.data&&e.t0.response.data.message||"An error occuredd. Try again later"});case 13:case"end":return e.stop()}},e,void 0,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),t.validateTransactionOfferCode=function(){var e=a(o.default.mark(function e(t){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.getToken)();case 2:return n=e.sent,e.prev=3,e.next=6,(0,l.default)({method:"POST",url:window.settings.apiBaseUrl+"/subscription/transaction/validate",params:{site:window.settings.internalName},data:{couponCode:t},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}});case 6:return r=e.sent,e.abrupt("return",{isError:!1,data:r.data});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{isError:!0,error:e.t0.response&&e.t0.response.data&&e.t0.response.data.message||"An error occuredd. Try again later"});case 13:case"end":return e.stop()}},e,void 0,[[3,10]])}));return function(t){return e.apply(this,arguments)}}(),t.getDiscountPrice=function(e){return(0,u.getToken)().then(function(t){return(0,d.default)().then(function(n){return(0,l.default)({method:"GET",url:window.settings.apiBaseUrl+"/subscription/calculate/discount",params:{userId:e.userId,countryCode:n,planId:e.planId,site:window.settings.internalName,offerCode:e.offerCode},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey}})})})},t.subscribeBySubscriptionOfferCode=function(){var e=a(o.default.mark(function e(t){var n,r,a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.getToken)();case 3:return n=e.sent,r=h.default.getState().user,e.next=7,(0,l.default)({method:"POST",url:window.settings.apiBaseUrl+"/subscription/subscribe",params:{site:window.settings.internalName,platform:"web_browser"},data:{siteId:window.settings.siteId,prepaidCode:"JUN-XE84EZG",userId:r.userId,subscription:"prepaid",appliedOffers:[t]},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}});case 7:if(a=e.sent,200!==a.status||!a.data){e.next=10;break}return e.abrupt("return",{isError:!1,data:a.data});case 10:return e.abrupt("return",{isError:!0,error:"Oops! Something went wrong."});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{isError:!0,error:e.t0.response&&e.t0.response.data&&e.t0.response.data.message||"Oops! Something went wrong."});case 16:case"end":return e.stop()}},e,void 0,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),t.subscribeByTransactionOfferCode=function(){var e=a(o.default.mark(function e(t){var n,r,a,i,s,c,d,f,p;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.getToken)();case 3:return n=e.sent,r=window.settings,a=r.siteId,i=r.internalName,s=h.default.getState().user,c=s.userId,d=s.email,f={transaction:"prepaid",purchaseType:"PURCHASE",platform:"web_browser",currencyCode:"USD",site:i,siteId:a,userId:c,email:d,couponCode:t},e.next=9,(0,l.default)({method:"POST",url:window.settings.apiBaseUrl+"/transaction/transaction",data:f,headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey}});case 9:if(p=e.sent,200!==p.status||"success"!==p.data.status){e.next=12;break}return e.abrupt("return",{isError:!1,data:{subscriptionStatus:"COMPLETED"}});case 12:return e.abrupt("return",{isError:!0,error:"Something went wrong. Please try again later."});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",{isError:!0,error:e.t0.error||e.t0.response&&e.t0.response.data&&(e.t0.response.data.message||e.t0.response.data.error)||"Something went wrong. Please try again later."});case 18:case"end":return e.stop()}},e,void 0,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),t.getSubscriptionPlans=function(){return(0,u.getToken)().then(function(e,t){var n=h.default.getState().user;return(0,l.default)({method:"GET",url:window.settings.apiBaseUrl+"/subscription/plans",params:{site:window.settings.internalName,userId:n&&n.userId,device:"web_browser"},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return e.data})})},t.getInvisiblePlans=function(){return(0,u.getToken)().then(function(e,t){var n=h.default.getState().user;return(0,l.default)({method:"GET",url:window.settings.apiBaseUrl+"/subscription/plans",params:{site:window.settings.internalName,userId:n&&n.userId,ids:window.sessionStorage.getItem("plans"),device:"web_browser",visible:!1},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return e.data})})},t.getMyBillingHistory=function(){return(0,u.getToken)().then(function(e,t){return(0,l.default)({method:"GET",url:window.settings.apiBaseUrl+"/payments/billing-history",params:{site:window.settings.internalName},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}})})},t.cancelMySubscription=function(){return(0,u.getToken)().then(function(e,t){return(0,l.default)({method:"PUT",url:window.settings.apiBaseUrl+"/subscription/cancel",params:{site:window.settings.internalName},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}})})},t.upgradeMySubscription=function(e,t){return(0,u.getToken)().then(function(n){var r=h.default.getState().user,a={subscription:t,siteId:window.settings.siteId,platform:"web_browser",planId:e.id,planIdentifier:e.identifier,userId:r.userId};return(0,l.default)({method:"PUT",url:window.settings.apiBaseUrl+"/subscription/subscribe",params:{site:window.settings.internalName,platform:"web_browser"},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey},data:a})})},t.updatePayment=function(e){return(0,u.getToken)().then(function(t,n){return(0,l.default)({method:"PUT",url:window.settings.apiBaseUrl+"/payments/payment-instrument",params:{site:window.settings.internalName},data:{stripeToken:e.id,siteId:window.settings.siteId},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey}})})}},,function(e,t,n){var r=n(1006),a=n(372),i=r(a);e.exports=i},function(e,t,n){function r(e,t,n,r){e=i(e)?e:l(e),n=n&&!r?s(n):0;var c=e.length;return n<0&&(n=u(c+n,0)),o(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&a(e,t,n)>-1}var a=n(99),i=n(35),o=n(206),s=n(110),l=n(1091),u=Math.max;e.exports=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.localizeBannerText=t.localizeCtaText=t.userLanguageSelector=t.localizeTitle=void 0;var a=n(615),i=r(a),o=n(54),s=r(o),l=n(614),u=r(l),c=n(613),d=r(c);t.localizeTitle=i.default,t.userLanguageSelector=s.default,t.localizeCtaText=u.default,t.localizeBannerText=d.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.players_heads=[["Num.","PLAYER","POS","GP","G","A","PTS","PIM","PPG","PPA","SHG","SHA"],["jersey","fullname","position","gamesplayed","goals","assists","points","penaltyminutes","powerplaygoals","powerplayassists","shorthandedgoals","shorthandedassists"]],t.goalies_heads=[["Num.","GOALIE","GP","MINS","W","L","SO","GA","2ptGA","SV","SV%"],["jersey","fullname","gamesplayed","min","wins","losses","shutouts","goalsagainst","twopointgoalsagainst","saves","savepercentage"]],t.scoring_heads=[["GOAL","PD","TIME","SCORER","ASSISTS"],["number","period","time","fullname","assist1"]],t.penalties_heads=[["PD","TIME","PLAYER","PENALTY","MINS"],["period","time","fullname","infraction","minutes"]],t.rosters_head=[["PLAYER","G","A","Pts.","PPG","SHG","Penalty"],["fullname","goals","assists","points","powerplaygoals","shorthandedgoals","penaltyminutes"]],t.rosters_goalies=[["DEC","MIN","GA","2ptGA","SOG","SAVES"],["decision","min","goalsagainst","twopointgoalsagainst","shotsagainst","saves"]],t.game_summary=[["GOALS","SHOTS","SAVES","FACEOFF %","MAN UP %"],["goals","shotsoffgoal","saves","faceoffs","powerplayadvantages"]],t.game_matchup=[["GF","GP","PIM","GA","DIV RANK","WPCT"],["goalsfor","gb","penaltyminutes","goalsagainst","rank","winningpercentage"]],t.team_stats=[["GF","GP","PIM"],["goalsfor","gb","penaltyminutes"],["GA","DIV RANK","WPCT"],["goalsagainst","rank","winningpercentage"]],t.player_stats_info_bis=[["YEAR","TEAM","GP","G","A","PTS","PIM","PPG","PPA","SHG","SHA","GWG"],["year","teamName","gp","g","a","pts","pim","ppg","ppa","shg","sha","gwg"]],t.player_stats_info=[["YEAR","TEAM","GP","MINS","W","L","SO","GA","2ptGA","SV","SV%"],["year","team","gamesplayed","min","wins","losses","so","ga","gaa","sv","svpct"]],t.player_info=[["POS","HEIGHT","WEIGHT","BIRTHDAY","HOMETOWN","SCHOOL"],["position","height","weight","dob","birthPlace","school"]],t.fighter_info=[["HEIGHT","WEIGHT","BIRTHDAY","HOMETOWN"],["height","weight","dob","birthPlace"]],t.roster_stats_heads=[["Num.","NAME","POS","HEIGHT","WEIGHT","BIRTHDAY","HOMETOWN"],["jersey","fullname","position","height","weight","birthdate","hometown"]],t.fight_heads=["Round","Time","Fighter","AS","AS%","LS","LS%","GS","GS%"],t.months=["January","February","March","April","May","June","July","August","September","October","November","December"],t.dates=["01","02","03","04","05","06","07","08","09","10","11","12"]},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.axios=t.axiosWithKey=void 0;var a=n(6),i=r(a);t.axiosWithKey=i.default.create({baseURL:window.settings.apiBaseUrl,params:{site:window.settings.internalName,timestamp:(new Date).getTime()},headers:{"x-api-key":window.settings.baseAPIKey}}),t.axios=i.default.create({baseURL:window.settings.apiBaseUrl,params:{site:window.settings.internalName,timestamp:(new Date).getTime()}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(484),d=r(c);n(765);var f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"disableRightClick",value:function(e){e.preventDefault()}},{key:"render",value:function(){return u.default.createElement("div",{className:"VideoJS",onContextMenu:this.disableRightClick.bind(this)},u.default.createElement(d.default,Object.assign({},this.props,{user:this.state.user})))}}]),t}(u.default.Component),p=n(12),h=n(8);p(f,function(e){return{user:e.user}},h),e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(47),i=r(a);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.settings,t=arguments[1],n="userLanguageSelection",r=i.default.get(n,t),a=!1,o="";if(t)o=t,i.default.set(n,t);else if(r)o=r;else if(a)o=a.code,i.default.set(n,a.code);else if(e.languages){var s=e.languages.default.code;i.default.set(n,s),o=s}return o}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchModels=void 0;var r=n(52),a=window.sessionStorage.getItem("models");t.fetchModels=function(){return a?a:r.axios.get("/models").then(function(e){var t=e.data.filter(function(e){return"yes"===e.default})[0],n=t&&t.type||window.settings.serviceType;return window.sessionStorage.setItem("models",n),n})}},function(e,t){"use strict";function n(){if(!l)return void console.warn("no googleAnalyticsId provided");var e=window.ga,t={};e("create",l,"auto"),e("set","dimension1",(t.authenticated?"Authenticated":"Unauthenticated")+" | "+(t.subscribed?"Subscribed":"Unsubscribed"))}function r(e,t){var n=window.ga;n&&n("send","pageview",{page:e||"",title:t||""})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=window.ga;r&&r("send","event",e,t,n)}function i(){!function(e,t,n,r,a,i,o){e.GoogleAnalyticsObject=a,e[a]=e[a]||function(){(e[a].q=e[a].q||[]).push(arguments)},e[a].l=1*new Date,i=t.createElement(n),o=t.getElementsByTagName(n)[0],i.async=1,i.src=r,o.parentNode.insertBefore(i,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga");var e=window.ga;e&&(e("create",l,"auto"),e("send","pageview"))}function o(){var e=window.ga;e&&e("require","ec")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=window.ga;n&&n(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setCustomDimensions=n,t.trackPageview=r,t.trackEvent=a,t.initGa=i,t.initEnhancedECommerce=o,t.trackECommerceEvent=s;var l=(window.settings.analytics||{}).googleAnalyticsId},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={email:function(e){var t=e||window.location.href;window.open("http://api.addthis.com/oexchange/0.8/forward/email/offer?url="+encodeURIComponent(t),"share","status=no,toolbar=no,location=no,directories=no,menubar=no")},facebook:function(e){var t=e||window.location.href;window.FB?window.FB.ui({method:"share",href:t}):window.open("https://facebook.com/sharer.php?u="+encodeURIComponent(t),"share","status=no,toolbar=no,location=no,directories=no,menubar=no")},twitter:function(e,t){var n=e||window.location.href;console.log(t);var r=t;window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(n)+"&text="+encodeURIComponent(r),"share","status=no,toolbar=no,location=no,directories=no,menubar=no")},whatsapp:function(e,t){var n=e||window.location.href,r=t,a="whatsapp://send?text="+encodeURIComponent(r)+"%20"+encodeURIComponent(n);window.location=a}}},,,,,,function(e,t){},,function(e,t,n){var r=n(343),a=n(348),i=n(135),o=n(101),s=i(function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),a(e,r(t,1),[])});e.exports=s},,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(372),u=r(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(22);n(764);var h=function(e){function t(){var e,n,r,s;i(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={loaded:!1,arrow:!0},r.componentWillReceiveProps=function(e){e!==r.props&&r.setState({data:e.data,loaded:!!e.data.length,length:e.length||5})},r.componentDidMount=function(){void 0!==r.props&&r.setState({data:r.props.data,loaded:!!r.props.data.length,length:r.props.length||5})},r.navigateData=function(e,t){r.index=(0,u.default)(t,r.state.data[0]),"next"===e?r.index=r.index<=t.length-r.state.length?r.index+r.state.length:r.index:r.index=r.index<0?0:r.index-r.state.length;var n=t.map(function(e){return e}),a=n.slice(r.index,r.index+r.state.length);a.length&&r.setState({data:a})},r.sortRows=function(e){var t=r.state.data.sort(function(t,n){return r.state.arrow?n[e]-t[e]:t[e]-n[e]});r.setState({data:t,arrow:!r.state.arrow})},r.navigationMenu=function(){return f.default.createElement("div",{className:"table-navigation"},f.default.createElement("div",{onClick:function(){return r.navigateData("left",r.props.navigation)}},f.default.createElement("span",null,"Prev.")),f.default.createElement("div",{onClick:function(){return r.navigateData("next",r.props.navigation)}},f.default.createElement("span",null,"Next")))},r.renderRawData=function(e,t){var n=function(e){return e*t.length};return[].concat(a(Array(Math.ceil(e.length/t.length)))).map(function(e,a){return f.default.createElement("tr",{key:a},r.props.data.slice(n(a),n(a)+t.length).map(function(e,t){return f.default.createElement("td",{key:t},e)}))})},s=n,o(r,s)}return s(t,e),c(t,[{key:"render",value:function(){var e=this,t=function(e){var t=e.data,n=e.value;return f.default.createElement("td",null,(0,p.labelIsValid)(t,n)?t[n]:"N/A")},n=this.props.sortBy,r=function(e){return n&&n.length&&e===n[0]},a=function(t){return e.props.filterTag&&t===e.props.filterTag};return f.default.createElement("div",null,this.state.loaded?f.default.createElement("div",null,f.default.createElement("table",{className:"table-content",cellSpacing:"0"},f.default.createElement("tbody",null,f.default.createElement("tr",{className:"table-headers"},this.props.headers&&this.props.headers.map(function(t,a){return r(t)?f.default.createElement("th",{key:a,className:"table-sort",onClick:function(){return e.sortRows(n[1])}},f.default.createElement("span",null,t," ",f.default.createElement("i",{className:"ion-arrow-"+(e.state.arrow?"down":"up")+"-b"}))):f.default.createElement("th",{key:a},f.default.createElement("span",null,t))})),this.props.values?this.state.data.slice(0,this.state.length).map(function(n,r){return f.default.createElement("tr",{className:"table-info",key:r},e.props.values.map(function(r,i){return a(r)?f.default.createElement(e.props.filter,{key:i,data:n,value:r}):f.default.createElement(t,{key:i,data:n,value:r})}))}):this.renderRawData(this.props.data,this.props.headers))),this.props.navigation?this.navigationMenu():f.default.createElement("div",null)):f.default.createElement("div",null))}}]),t}(d.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(119),i=n(238),o=r(i),s=n(237),l=r(s),u=n(605),c=r(u),d=[(0,l.default)(),o.default],f=a.applyMiddleware.apply(void 0,d),p=(0,a.createStore)(c.default,f);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getMySubscription=t.transaction=t.getCardInfo=t.subscribe=t.refresh=t.update=t.signup=t.logout=t.googleLogin=t.fbLogin=t.login=void 0;var a=n(6),i=r(a),o=n(47),s=r(o),l=n(20),u=n(8),c=r(u),d=n(76),f=r(d),p=n(161);t.login=function(e){var t=window.dataLayer||{push:function(e){}},n=(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/signin",params:{site:window.settings.internalName},data:e,headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(e){return t.push({event:"avod_finish_signin"}),(0,l.setToken)(e.data),f.default.dispatch((0,p.fetchPage)(window.location.pathname,null,null,e.data.userId)),e.data});return{type:"LOGIN",payload:n}},t.fbLogin=function(e){var t=s.default.get("utm"),n=t&&JSON.parse(t),r=window.dataLayer||{push:function(e){}},a={site:window.settings.internalName,campaign:n&&n.utm_campaign,campaign_source:n&&n.utm_source,campaign_medium:n&&n.utm_medium,utm_params:n&&n.utm_params},o=(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/signin/facebook",params:a,headers:{"x-api-key":window.settings.baseAPIKey},data:{facebookToken:e.facebookToken,emailConsent:e.emailConsent}}).then(function(e){return r.push({event:"avod_finish_registration",registration_method:"facebook"}),(0,l.setToken)(e.data),e.data});return{type:"LOGIN",payload:o}},t.googleLogin=function(e){var t=s.default.get("utm"),n=t&&JSON.parse(t),r=window.dataLayer||{push:function(e){}},a={site:window.settings.internalName,device:"web_browser",campaign:n&&n.utm_campaign,campaign_source:n&&n.utm_source,campaign_medium:n&&n.utm_medium,utm_params:n&&n.utm_params},o=(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/signin/google",params:a,data:{googleToken:e.googleToken,emailConsent:e.emailConsent},headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(e){return r.push({event:"avod_finish_registration",registration_method:"google"}),(0,l.setToken)(e.data),e.data});return{type:"LOGIN",payload:o}},t.logout=function(){var e=(0,l.getToken)().then(function(e){return(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/signout",params:{site:window.settings.internalName},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return(0,l.clearToken)(),s.default.remove("vl-user"),f.default.dispatch((0,p.fetchPage)(window.location.pathname)),e.data}).catch(function(e){(0,l.clearToken)(),console.error(e)})});return{type:"LOGOUT",payload:e}},t.signup=function(e){var t=s.default.get("utm"),n=t&&JSON.parse(t),r=window.dataLayer||{push:function(e){}},a={site:window.settings.internalName,campaign:n&&n.utm_campaign,campaign_source:n&&n.utm_source,campaign_medium:n&&n.utm_medium,utm_params:n&&n.utm_params},o=(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/signup",params:a,data:e,headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(e){return r.push({event:"avod_finish_registration",registration_method:"viewlift"}),(0,l.setToken)(e.data),e.data});return{type:"SIGNUP",payload:o}},t.update=function(e){var t=(0,l.getToken)().then(function(t){return(0,i.default)({url:"/identity/user",baseURL:window.settings.apiBaseUrl,method:"POST",params:{site:window.settings.internalName,timestamp:(new Date).getTime()},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},data:JSON.stringify(e),contentType:"application/json"}).then(function(e){return(0,l.setToken)(e.data),e})});return{type:"UPDATE",payload:t}},t.refresh=function(){var e=(0,l.getToken)().then(function(e){return(0,i.default)({url:"identity/user",baseURL:window.settings.apiBaseUrl,method:"GET",params:{site:window.settings.internalName,timestamp:(new Date).getTime()},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}})});return{type:"REFRESH",payload:e}},t.subscribe=function(e){var t=(0,l.getToken)().then(function(t){var n=c.default.getState().user,r={stripeToken:e.billingToken.stripeToken.id||e.billingToken.stripeToken.card.id,requestId:e.billingToken.requestId||e.billingToken.stripeToken.card.requestId,subscription:"stripe",siteId:window.settings.siteId,platform:"web_browser",planId:e.plan.id,planIdentifier:e.plan.identifier,userId:n.userId,currencyCode:e.plan.planDetails[0].recurringPaymentCurrencyCode,appliedOffers:e.offerCode?[e.offerCode]:void 0};return(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/subscription/subscribe",params:{site:window.settings.internalName,platform:"web_browser"},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},data:r})});return{type:"CREATE_SUBSCRIPTION",payload:t}},t.getCardInfo=function(e){var t=(0,l.getToken)().then(function(t){return(0,i.default)({method:"GET",url:window.settings.apiBaseUrl+"/payments/billing-history/last4",params:{userId:e.userId,site:window.settings.internalName},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return e.data})});return{type:"UPDATE_CARD",payload:t}},t.transaction=function(e){return(0,l.getToken)().then(function(t){return(0,i.default)({method:"POST",url:window.settings.apiBaseUrl+"/transaction/transaction",headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},data:JSON.stringify(e)})})},t.getMySubscription=function(e){var t=(0,l.getToken)().then(function(t,n){var r=c.default.getState().user.userId;return(0,i.default)({method:"GET",url:window.settings.apiBaseUrl+"/subscription/user",params:{site:window.settings.internalName,userId:r},headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey}}).then(function(t){return e&&e(),t.data})});return{type:"GET_SUBSCRIPTION",payload:t}}},,,,,,function(e,t,n){function r(e){if(null==e)return!0;if(l(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||d(e)||o(e)))return!e.length;var t=i(e);if(t==f||t==p)return!e.size;if(c(e))return!a(e).length;for(var n in e)if(m.call(e,n))return!1;return!0}var a=n(192),i=n(81),o=n(105),s=n(21),l=n(35),u=n(106),c=n(102),d=n(144),f="[object Map]",p="[object Set]",h=Object.prototype,m=h.hasOwnProperty;e.exports=r},,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t;
}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(24);n(790);var d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"modalbg "+(this.props.shown?"shown":""),onClick:this.props.closeModal},u.default.createElement("div",{className:"close-button",onClick:this.props.closeModal},u.default.createElement(c.CloseIcon,null)),u.default.createElement("div",{className:"viewlift-modal modal-cover "+this.props.className+" "+(this.props.shown?"show":"dont-show")},u.default.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},u.default.createElement("div",{className:"modal-body"},this.props.children),this.props.showButtons?u.default.createElement("div",{className:"modal-buttons"},u.default.createElement("button",{className:"button button-no cta",onClick:this.props.closeModal},"NO"),u.default.createElement("button",{className:"button button-yes cta",onClick:this.props.clear},"YES ")):"")))}}]),t}(u.default.Component);e.exports=d},function(e,t){"use strict";function n(e,t,n){return e=e.split(" "),e.length>n?e.splice(0,t).join(" ")+"...":e.join(" ")}function r(e,t){return e.length<t?e:e.slice(0,t)+"..."}e.exports={ellipsifyByWord:n,ellipsifyByChar:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(6),i=r(a),o=n(20),s=null;e.exports=function(){return s?Promise.resolve(s):(0,o.getToken)().then(function(e){return(0,i.default)({url:"https://api-internal-us-east-1.viewlift.com/ip/ipgeolocator",baseURL:window.settings.apiBaseUrl,method:"POST",params:{site:window.settings.internalName},headers:{Authorization:e,"Content-Type":"application/json","x-api-key":window.settings.baseAPIKey}}).then(function(e){return e.data.countryisocode})})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(278),i=r(a);e.exports={open:function(e){i.default.store.dispatch({type:"open",args:e})}}},,,,,,,function(e,t,n){function r(e,t,n){return t===t?o(e,t,n):a(e,i,n)}var a=n(189),i=n(972),o=n(1056);e.exports=r},,function(e,t,n){function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?i(n)&&o(t,n.length):"string"==r&&t in n)&&a(n[t],e)}var a=n(82),i=n(35),o=n(139),s=n(23);e.exports=r},,,,,,,,function(e,t,n){function r(e,t,n){var r=l(e)?a:s,u=arguments.length<3;return r(e,o(t,4),n,u,i)}var a=n(956),i=n(98),o=n(41),s=n(986),l=n(21);e.exports=r},function(e,t,n){function r(e){var t=a(e),n=t%1;return t===t?n?t-n:t:0}var a=n(211);e.exports=r},,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(419),p=n(89),h=r(p),m=n(25),y=r(m),v=n(17),g=n(90),b=n(18);n(789);var _=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={library:"My Library"===r.props.header,isPurchasable:!1},r.handleClick=function(e,t,n,a){var i=r.props||{},o=i.trayTitle,s=i.isEpisode,l=i.openEpisodeOverlay,u=o?o:"";(0,v.setPlaySourcePrefix)(u),s&&l(e,t,n,a)},r.calculateDiff=function(e){var t=Date.now(),n=void 0;r.state.library?(n="Remaining",t=e,e=Date.now()):n="Ago";var a=(0,b.differenceInYears)(t,e),i=(0,b.differenceInDays)(t,e),o=(0,b.differenceInHours)(t,e);return i<1?0===o?r.state.library?"< 1 hour remaining":"Added < 1 hour ago":o+" "+(o>1?"Hours":"Hour")+" "+n:a<1?i+" "+(i>1?"Days":"Day")+" "+n:a+" "+(a>1?"Years":"Year")+" "+n},r.renderItems=function(e,t){var n=r.state.isPurchasable,a={backgroundImage:"url("+(e.videoImageUrl||e.posterImageUrl)+")"},i=Math.floor(e.watchedTime/e.runtime*100),o=e.free?15:8,s=!e.free&&e.pricing&&null!==e.pricing.purchase&&"PURCHASED"!==e.purchaseStatus&&r.props.isEpisode;return d.default.createElement("div",{className:"list__item__container"},d.default.createElement("a",{href:e.permalink+"?start="+e.watchedTime,className:"list__item__title",onClick:function(n){return r.handleClick(n,t,r.props.season,e.container)}},d.default.createElement("div",{className:"container"},d.default.createElement("figure",{className:"image-container"},d.default.createElement("div",{className:"image",style:a}),d.default.createElement("i",{className:"ion-ios-play site-color"})),i?d.default.createElement("progress",{className:"site-color",value:i,max:"100"}):""),d.default.createElement("div",{className:"title-container "+(s?"purchasable":"")},d.default.createElement("div",{className:"title"},r.props.isEpisode&&d.default.createElement("span",{className:"episode-number"},n?t:t+1)," ",s?(0,g.ellipsifyByChar)(e.title,25):e.title),e.description||e.seasonTitle?d.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:e.description?(0,g.ellipsifyByWord)(e.description,o,o):e.seasonTitle+" - "+e.videoId.split(",").length+" episode(s)"}}):"",s&&d.default.createElement("div",{className:"episode-purchasable site-background-color"},"Purchase Episode"))),r.state.library?e.transactionEndDate&&!(0,b.isPast)(1e3*e.transactionEndDate)?d.default.createElement("div",{className:"remaining-box site-background-color"},d.default.createElement("span",{className:"remaining-time"},r.calculateDiff(1e3*e.transactionEndDate))):d.default.createElement("div",null):d.default.createElement("div",{className:"list__right__container"},"Watchlist"!==r.props.header?d.default.createElement("div",{className:"days-ago"},r.calculateDiff(e.updateDate)):"",d.default.createElement("div",{className:"list__item__remove",onClick:function(){return r.props.deleteItem(e)}},d.default.createElement("i",{className:"link ion-close"}))))},o=n,i(r,o)}return o(t,e),u(t,[{key:"componentDidUpdate",value:function(e){e.items!==this.props.items&&this.props.items[0]&&"Season Pass"===this.props.items[0].title&&this.setState({isPurchasable:!0})}},{key:"render",value:function(){var e=this,t=this.props.items&&this.props.items.map(function(e){return{key:e.id,style:{progress:(0,f.spring)(1)},data:e}}),n=(0,l.default)(window.settings,"brand.general.blockTitleColor");return t&&d.default.createElement("div",{className:"list"},d.default.createElement("div",{className:"list__header"},d.default.createElement("div",{className:"list__header__title",style:{color:n}},this.props.header),this.props.items.length>0?!this.state.library&&d.default.createElement("div",{className:"clear-list"},d.default.createElement("button",{onClick:this.props.toggleModal},"clear ",this.props.header)):""),this.props.deleteAllModal&&d.default.createElement(h.default,{title:"Delete All",shown:this.props.deleteAllModal,className:"modal-confirm",closeModal:this.props.toggleModal,clear:this.props.clear,showButtons:!0},d.default.createElement("span",{style:{color:"#fff"}},"Are You Sure?")),this.props.fetching||0!==this.props.items.length?"":d.default.createElement("div",{className:"list-empty"},"Your list is Empty!"),d.default.createElement("div",{className:"list__body"},t?d.default.createElement(f.TransitionMotion,{styles:t,willEnter:function(){return{progress:0}},willLeave:function(){return{progress:(0,f.spring)(0)}}},function(t){return d.default.createElement("div",{className:"list__body__container"},t.map(function(t,n){return"Season Pass"===t.data.title?d.default.createElement("div",{key:t.key,onClick:e.props.isEpisode&&function(r){e.props.openEpisodeOverlay(r,n,e.props.season,t.data.container)},className:"season-pass site-background-color"},"Purchase Season"):t.data.permalink&&d.default.createElement("div",{className:"list__item",key:t.key,style:{height:100*t.style.progress,opacity:t.style.progress}},e.renderItems(t.data,n))}))}):""),this.props.fetching&&d.default.createElement(y.default,null))}}]),t}(d.default.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(23),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(467),p=r(f),h=n(40);n(791);var m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n.planSelected=function(e){n.setState({planSelected:e})},n.pricing=e.content.pricing;var r=t.formatPricing(n.pricing,e.content.gist.id,e.content.gist.title||e.content.gist.description);return n.state={selected:0,items:r,plans:[],planSelected:0},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.model||this.props.content.pricing.type;t&&t.includes("SVOD")&&(window.sessionStorage.getItem("plans")?(0,h.getInvisiblePlans)().then(function(t){e.setState({plans:t})}):(0,h.getSubscriptionPlans)().then(function(t){e.setState({plans:t})})),this.setState({type:t})}},{key:"selected",value:function(e){this.setState({selected:e})}},{key:"render",value:function(){var e=this.state,t=e.plans,n=e.items,r=e.type,a=r&&"TVOD"===r?"Purchase":"Rent / Purchase",i=r&&"SVOD"===r;return d.default.createElement("div",{className:"overlay-video-container "+(t.length>0&&!i&&"subscriptions")},!i&&d.default.createElement(p.default,Object.assign({title:a,items:n},this.props)),t.length>0&&d.default.createElement(p.default,Object.assign({title:"Subscribe",items:t,subscriptionPlans:!0},this.props)))}}],[{key:"formatPricing",value:function(e,t,n){function r(e){return e.charAt(0).toUpperCase().concat(e.substring(1))}var a=[],i=window.settings.internalName.includes("supercrosslive")?"Single Event":n+" |";return Object.keys(e).forEach(function(n){if(e[n]&&"type"!==n&&"currency"!==n){var o=Object.keys(e[n]);o.forEach(function(o){if(e[n][o]){var s={};s.key=o.toUpperCase(),s.videoID=t,s.contentID=t.content,(0,l.default)(t)&&(s.videoID=t.video||t.items.join(","),s.contentID=t.content,s.seriesId=t.series?t.series:null,s.seasonId=t.season?t.season:null),s.option=r(n),s.price=e[n][o],s.name=i+" "+s.option+" $"+s.price,a.push(s)}})}}),a}}]),t}(d.default.Component);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return window.SERVER_SIDE_RENDERING||this.props.user||(window.location.href="/"),this.props.children}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionsSvg=t.EpisodesSvg=t.PlayNextSvg=t.TwitterSquareSvg=t.RewindSvg=t.MaximizeSvg=t.MinimizeSvg=t.ReplaySvg=t.PlaySvg=t.PlayCircleSvg=t.PauseSvg=t.FacebookSvg=t.ChromeCastSvg=void 0;var a=n(1),i=r(a);t.ChromeCastSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-chromecast",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M28.064 49.305c0 0 0.208-8.115-6.101-14.424s-14.365-6.089-14.365-6.089l-0.088 2.586c0 0 6.932-0.297 12.574 5.345s5.363 12.663 5.363 12.663l2.617-0.081z"}),i.default.createElement("path",{d:"M22.78 49.206c0 0 0.184-6.011-4.534-10.729s-10.663-4.533-10.663-4.533l-0.058 2.581c0 0 4.842-0.262 8.881 3.777s3.81 8.989 3.81 8.989l2.564-0.086z"}),i.default.createElement("path",{d:"M17.388 49.188c0 0 0.224-3.794-2.93-6.948s-6.867-2.905-6.867-2.905l-0.040 2.577c0 0 2.737-0.172 5.092 2.183s2.144 5.167 2.144 5.167l2.6-0.074z"}),i.default.createElement("path",{d:"M7.624 26.224h3.744v-8.034h40.495v27.695h-20.654v3.326h24.376v-34.736h-47.962z"}))},t.FacebookSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-fb-square",viewBox:"0 0 64 64"},i.default.createElement("path",{fill:"#324d8f",style:{fill:"#324d8f"},d:"M0 0h64v64h-64v-64z"}),i.default.createElement("path",{fill:"#5f74a7",style:{fill:"#5f74a7"},d:"M2.286 61.714h59.429v-59.429h-59.429v59.429zM0 0h64v64h-64v-64z"}),i.default.createElement("path",{fill:"#fff",style:{fill:"#fff"},d:"M26.665 51.618v-20.167h-5.508v-6.699c0 0 5.479 0.020 5.479 0 0.002-0.97 0.028-3.914 0.028-3.914-0.033-8.084 5.716-9.574 9.792-9.574 0 0 5.259 0 5.259 0v6.721c-6.889 0-6.889 0-6.889 6.767 0.045 0 6.892 0 6.892 0l-0.842 6.699h-6.004v20.167h-8.208z"}))},t.PauseSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-pause",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M17.183 48.595v-33.404h8.864v33.404h-8.864zM38.848 48.595v-33.404h8.864v33.404h-8.864z"}))},t.PlayCircleSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-play-circle",viewBox:"0 0 64 64"},i.default.createElement("path",{fill:"#000",opacity:"0.21",style:{fill:"#000"},d:"M31.875 61.264c16.231 0 29.388-13.157 29.388-29.388s-13.157-29.388-29.388-29.388c-16.231 0-29.388 13.157-29.388 29.388s13.157 29.388 29.388 29.388z"}),i.default.createElement("path",{fill:"#000",style:{fill:"white"},d:"M22.412 48.264v-32.824l28.862 16.412z"}),i.default.createElement("path",{fill:"#000",style:{fill:"white"},d:"M31.875 61.264c16.231 0 29.388-13.157 29.388-29.388s-13.157-29.388-29.388-29.388c-16.231 0-29.388 13.157-29.388 29.388s13.157 29.388 29.388 29.388zM31.875 63.751c-17.604 0-31.875-14.271-31.875-31.875s14.271-31.875 31.875-31.875c17.604 0 31.875 14.271 31.875 31.875s-14.271 31.875-31.875 31.875z"}))},t.PlaySvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-play",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M20.095 48.473v-32.615l28.529 16.308z"}))},t.ReplaySvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-replay",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M22.671 19.737l3.439 3.688-10.16 0.409 1.116-10.107 3.416 3.664c6.852-4.353 16.208-3.633 22.267 2.426 7.004 7.004 7.216 18.332 0.135 25.413s-18.399 7.163-25.577-0.015c0.004 0.004 2.206-2.202 2.204-2.204 6.484 6.484 15.803 5.392 21.174 0.020s6.097-14.749-0.174-21.021c-5.2-5.2-12.527-5.34-17.841-2.275zM26.795 38.465v-11.603l10.149 5.801-10.149 5.801z"}))},t.MinimizeSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-minimize",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M40.397 37.511h6.971l-3.16-3.146h-9.593v9.714l3.146 3.077v-6.648l8.823 8.823 2.817-2.817-9.004-9.004z"}),i.default.createElement("path",{d:"M24.443 26.763h-6.971l3.16 3.146h9.593v-9.714l-3.146-3.077v6.648l-8.823-8.823-2.817 2.817 9.003 9.004z"}))},t.MaximizeSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-maximize",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M43.369 45.938h-6.971l3.16 3.146h9.593v-9.714l-3.146-3.077v6.648l-8.823-8.823-2.817 2.817 9.004 9.004z"}),i.default.createElement("path",{d:"M21.969 18.834h6.971l-3.16-3.146h-9.593v9.714l3.146 3.077v-6.648l8.823 8.823 2.817-2.817-9.003-9.003z"}))},t.RewindSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-rewind",viewBox:"0 0 64 64"},i.default.createElement("path",{d:"M22.671 19.737l3.439 3.688-10.16 0.409 1.116-10.107 3.416 3.664c6.852-4.353 16.208-3.633 22.267 2.426 7.004 7.004 7.216 18.332 0.135 25.413s-18.399 7.163-25.577-0.015c0.004 0.004 2.206-2.202 2.204-2.204 6.484 6.484 15.803 5.392 21.174 0.020s6.097-14.749-0.174-21.021c-5.2-5.2-12.527-5.34-17.841-2.275zM38.357 28.872h-5.131l-0.497 2.823 0.035 0.035c0.343-0.343 0.71-0.589 1.101-0.737s0.834-0.222 1.332-0.222c0.615 0 1.16 0.112 1.633 0.337s0.873 0.527 1.198 0.905c0.325 0.379 0.574 0.826 0.746 1.34s0.257 1.062 0.257 1.642c0 0.639-0.124 1.234-0.373 1.784s-0.583 1.027-1.003 1.429c-0.42 0.402-0.908 0.713-1.465 0.932s-1.148 0.322-1.775 0.311c-0.604 0-1.181-0.080-1.731-0.24s-1.039-0.405-1.465-0.737c-0.426-0.331-0.766-0.743-1.021-1.234s-0.388-1.062-0.399-1.713h2.521c0.059 0.568 0.272 1.021 0.639 1.358s0.834 0.506 1.403 0.506c0.331 0 0.63-0.068 0.897-0.204s0.491-0.314 0.675-0.533c0.183-0.219 0.325-0.473 0.426-0.763s0.151-0.589 0.151-0.897c0-0.32-0.047-0.621-0.142-0.905s-0.237-0.533-0.426-0.746c-0.189-0.213-0.414-0.379-0.675-0.497s-0.562-0.178-0.905-0.178c-0.45 0-0.817 0.080-1.101 0.24s-0.55 0.411-0.799 0.755h-2.273l1.225-6.871h6.942v2.077zM26.568 39.223h-2.521v-8.060h-3.125v-1.9c0.438 0.012 0.861-0.021 1.269-0.098s0.775-0.213 1.101-0.408c0.326-0.195 0.601-0.453 0.826-0.772s0.373-0.716 0.444-1.189h2.006v12.428z"}))},t.TwitterSquareSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-twitter-square",viewBox:"0 0 64 64"},i.default.createElement("path",{fill:"#1a97f0",style:{fill:"#1a97f0"},d:"M0 0h64v64h-64v-64z"}),i.default.createElement("path",{fill:"#4cadf3",style:{fill:"#4cadf3"},d:"M2.286 61.714h59.429v-59.429h-59.429v59.429zM0 0h64v64h-64v-64z"}),i.default.createElement("path",{fill:"#fff",style:{fill:"#fff"},d:"M52.433 19.622c-1.341 0.594-2.78 0.997-4.291 1.177 1.544-0.924 2.725-2.39 3.285-4.132-1.448 0.856-3.046 1.478-4.749 1.814-1.364-1.455-3.303-2.361-5.455-2.361-4.127 0-7.474 3.347-7.474 7.472 0 0.585 0.066 1.157 0.194 1.703-6.211-0.312-11.718-3.287-15.404-7.809-0.644 1.102-1.011 2.386-1.011 3.756 0 2.593 1.32 4.881 3.324 6.22-1.225-0.041-2.377-0.378-3.385-0.938v0.093c0 3.62 2.577 6.641 5.994 7.328-0.626 0.169-1.286 0.262-1.969 0.262-0.483 0-0.949-0.048-1.407-0.139 0.952 2.971 3.711 5.132 6.98 5.191-2.557 2.003-5.78 3.194-9.282 3.194-0.603 0-1.198-0.036-1.783-0.102 3.308 2.124 7.235 3.363 11.456 3.363 13.748 0 21.264-11.388 21.264-21.264l-0.025-0.968c1.468-1.047 2.739-2.363 3.738-3.861z"}))},t.PlayNextSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-play-next",viewBox:"0 0 64 64"},i.default.createElement("path",{transform:"translate(50,60)",d:"M112.592683,66.4286931 L112.592683,130.6725 L133.182927,130.6725 L133.182927,0 L112.592683,0 L112.592683,65.5591915 L0.153075022,1.15420373 L0.153075022,130.833681 L112.592683,66.4286931 Z"}))},t.EpisodesSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-episodes",viewBox:"0 0 257 257"},i.default.createElement("polygon",{points:"62.052002 187.243652 69.9982038 187.243652 69.9982038 202.107451 218.451908 202.107451 218.451908 100.010185 210.503412 100.010185 210.503412 92.0044608 226.515255 92.0044608 226.515255 210.167726 62.0609803 210.167726"}),i.default.createElement("polygon",{points:"46.052002 165.243652 53.9982038 165.243652 53.9982038 180.107451 202.451908 180.107451 202.451908 78.0101847 194.503412 78.0101847 194.503412 70.0044608 210.515255 70.0044608 210.515255 188.167726 46.0609803 188.167726"}),i.default.createElement("path",{d:"M38.1153491,158.107451 L186.451908,158.107451 L186.451908,56.0647356 L38.1153491,56.0647356 L38.1153491,158.107451 Z M186.504844,48.0044608 L194.515255,48.0044608 L194.515255,166.167726 L38.0624123,166.167726 L30.052002,166.167726 L30.052002,48.0044608 L186.504844,48.0044608 Z"}))},t.CaptionsSvg=function(e){var t=e.className;return i.default.createElement("svg",{className:(t?t:"")+" icon icon-captions",viewBox:"0 0 257 257"},i.default.createElement("path",{transform:"translate(45 69)",d:"M26.828 0h112.164C154.522 0 167 14.94 167 26.254v67.342C167 106.354 154.025 120 138.992 120H26.828C7.012 120 0 104.807 0 93.596V26.254C0 14.03 14.332 0 26.828 0zM65.86 50.34h13.68c-.42-3.72-1.44-7.02-3.06-9.9-1.62-2.88-3.675-5.295-6.165-7.245-2.49-1.95-5.31-3.435-8.46-4.455-3.15-1.02-6.495-1.53-10.035-1.53-4.92 0-9.345.87-13.275 2.61-3.93 1.74-7.245 4.14-9.945 7.2-2.7 3.06-4.77 6.645-6.21 10.755-1.44 4.11-2.16 8.565-2.16 13.365 0 4.68.72 9.045 2.16 13.095 1.44 4.05 3.51 7.575 6.21 10.575 2.7 3 6.015 5.355 9.945 7.065 3.93 1.71 8.355 2.565 13.275 2.565 3.96 0 7.59-.6 10.89-1.8 3.3-1.2 6.18-2.94 8.64-5.22 2.46-2.28 4.44-5.04 5.94-8.28 1.5-3.24 2.43-6.87 2.79-10.89H66.4c-.54 4.32-2.025 7.8-4.455 10.44-2.43 2.64-5.805 3.96-10.125 3.96-3.18 0-5.88-.615-8.1-1.845-2.22-1.23-4.02-2.865-5.4-4.905-1.38-2.04-2.385-4.335-3.015-6.885-.63-2.55-.945-5.175-.945-7.875 0-2.82.315-5.55.945-8.19.63-2.64 1.635-4.995 3.015-7.065 1.38-2.07 3.18-3.72 5.4-4.95s4.92-1.845 8.1-1.845c1.74 0 3.405.285 4.995.855 1.59.57 3.015 1.365 4.275 2.385 1.26 1.02 2.31 2.205 3.15 3.555.84 1.35 1.38 2.835 1.62 4.455zm66.69 0h13.68c-.42-3.72-1.44-7.02-3.06-9.9-1.62-2.88-3.675-5.295-6.165-7.245-2.49-1.95-5.31-3.435-8.46-4.455-3.15-1.02-6.495-1.53-10.035-1.53-4.92 0-9.345.87-13.275 2.61-3.93 1.74-7.245 4.14-9.945 7.2-2.7 3.06-4.77 6.645-6.21 10.755-1.44 4.11-2.16 8.565-2.16 13.365 0 4.68.72 9.045 2.16 13.095 1.44 4.05 3.51 7.575 6.21 10.575 2.7 3 6.015 5.355 9.945 7.065 3.93 1.71 8.355 2.565 13.275 2.565 3.96 0 7.59-.6 10.89-1.8 3.3-1.2 6.18-2.94 8.64-5.22 2.46-2.28 4.44-5.04 5.94-8.28 1.5-3.24 2.43-6.87 2.79-10.89h-13.68c-.54 4.32-2.025 7.8-4.455 10.44-2.43 2.64-5.805 3.96-10.125 3.96-3.18 0-5.88-.615-8.1-1.845-2.22-1.23-4.02-2.865-5.4-4.905-1.38-2.04-2.385-4.335-3.015-6.885-.63-2.55-.945-5.175-.945-7.875 0-2.82.315-5.55.945-8.19.63-2.64 1.635-4.995 3.015-7.065 1.38-2.07 3.18-3.72 5.4-4.95s4.92-1.845 8.1-1.845c1.74 0 3.405.285 4.995.855 1.59.57 3.015 1.365 4.275 2.385 1.26 1.02 2.31 2.205 3.15 3.555.84 1.35 1.38 2.835 1.62 4.455z"}))}},,,,,,function(e,t,n){e.exports=n.p+"static/media/viewlift-logo.7c315f87.png"},,,,,function(e,t,n){function r(e,t){return o(i(e,t,a),e+"")}var a=n(104),i=n(1044),o=n(1049);e.exports=r},,function(e,t,n){function r(e){return a(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var l=n[r];l&&e(t,l,r,o)}return t})}var a=n(135),i=n(101);e.exports=r},,,,function(e,t,n){function r(e,t){var n=s(e)?a:i;return n(e,o(t,3))}var a=n(339),i=n(964),o=n(41),s=n(21);e.exports=r},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(55),p=r(f);n(795);var h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props.plan,n=this.props.selected,r=t.planDetails[0];return d.default.createElement("div",{className:"popup-plan "+(n?"selected site-border-color":""),onClick:function(t){n||e.props.onClick()}},d.default.createElement("div",{className:"upper-section"},d.default.createElement("div",{className:"title"},t.name),d.default.createElement("div",{className:"desc1"},r.featurePlanIdentifier),d.default.createElement("div",{className:"desc2"},r.displayStrikeThroughPrice&&d.default.createElement("strike",null,(0,p.default)(r.recurringPaymentCurrencyCode),r.strikeThroughPrice),(0,p.default)(r.recurringPaymentCurrencyCode),r.recurringPaymentAmount),d.default.createElement("div",{className:"points"},(0,l.default)(r.featureDetails,function(e,t){return d.default.createElement("div",{className:"point site-color-before",key:t},e.textToDisplay)}))),d.default.createElement("div",{className:"button site-background-color"+(n?"":" inactive"),onClick:function(t){n&&e.props.onClick()}},r.callToAction||this.props.buttonText||"Start Your Free Trial"))}}]),t}(d.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(65),d=r(c),f=n(22);n(318);var p=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={current:[]},r.componentDidMount=function(){var e=r.props.startTime,t=(new Date).getTime(),n=e-t;r.clock=setInterval(function(){n-=1e3;var t=(0,f.getDuration)(n);r.setState({current:[{value:t.getDays(),letter:"D"},{value:t.getHours(),letter:"H"},{value:t.getMinutes(),letter:"M"},{value:t.getSeconds(),letter:"S"}]}),(0,d.default)(e)&&(clearInterval(r.clock),r.props.hide())},1e3)},r.componentWillUnmount=function(){clearInterval(r.clock)},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"game-timer"},this.props.header&&u.default.createElement("span",{className:"time-until"},this.props.header),u.default.createElement("div",{className:"time-wrapper"},this.state.current.map(function(e,t){return u.default.createElement("div",{className:"time-block",key:t},u.default.createElement("span",{className:"time-value"},e.value),u.default.createElement("span",{className:"time-letter"},e.letter))})))}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(22),d=n(18);n(318);var f=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={liveNow:Date.now()-r.props.scheduleEndDate<0&&Date.now()-r.props.scheduleStartDate>0,startsIn:r.props.scheduleStartDate-Date.now()},r.componentDidMount=function(){r.props.scheduleStartDate-Date.now()<864e5?r.interval=setInterval(function(){return r.checkLive()},1e3):r.interval=setInterval(function(){return r.checkLive()},6e4)},r.componentWillUnmount=function(){clearInterval(r.interval)},r.checkLive=function(){r.state.liveNow&&(r.props.checkLive&&r.props.checkLive(),r.props.closeTimer&&r.props.closeTimer(),clearInterval(r.interval)),r.props.scheduleStartDate-Date.now()<=6e4&&!r.cleared&&(clearInterval(r.interval),r.cleared=!0,r.interval=setInterval(function(){return r.checkLive()},1e3)),r.setState({liveNow:Date.now()-r.props.scheduleEndDate<0&&Date.now()-r.props.scheduleStartDate>0,startsIn:r.props.scheduleStartDate-Date.now()})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=Math.floor(this.state.startsIn/6e4),t=Math.round(e/60),n=e/60*60,r=Math.round(t/24),a=(0,c.getDuration)(this.state.startsIn),i=void 0;if(this.props.displayDetailedTime)i=t>=1&&t<=24&&n>=60?" "+a.getHours()+"h "+a.getMinutes()+"m "+a.getSeconds()+"s":t>24&&r>=1?"Live this "+(0,d.format)(this.props.scheduleStartDate,"ddd  h:mm a"):" "+a.getMinutes()+"m "+a.getSeconds()+"s";else if(t>=1&&t<=24&&n>=60)i=(0,d.format)(this.props.scheduleStartDate,"hh:mm A");else if(t>24&&r>=1)i=(0,d.format)(this.props.scheduleStartDate,"hh:mm A");else{var o=(0,c.getDuration)(this.state.startsIn);i=o.getMinutes()+":"+o.getSeconds()}var s=this.props,l=s.shortForm,f=s.displayDetailedTime;return u.default.createElement("div",{
className:"stop-watch"},!this.state.liveNow&&(f&&t>24&&r>=1?u.default.createElement("div",{className:'"timer-icon" '+(f?"starts-in":"")},i):u.default.createElement("div",{className:(l?"":"timer-icon")+" "+(f?"starts-in":"")},l||this.props.scheduleEndDate&&t>=1&&n>=60&&!f?"":" Starts in ",u.default.createElement("span",{className:l?"":"time"},i))),this.state.liveNow&&u.default.createElement("div",{className:"live-game"},u.default.createElement("div",{className:"text"},u.default.createElement("p",null,"LIVE NOW"))))}}]),t}(l.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(62),d=r(c),f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shareTwitter=n.shareTwitter.bind(n),n.shareFacebook=n.shareFacebook.bind(n),n.shareEmail=n.shareEmail.bind(n),n}return o(t,e),s(t,[{key:"shareTwitter",value:function(){this.share("twitter")}},{key:"shareFacebook",value:function(){this.share("facebook")}},{key:"shareEmail",value:function(){this.share("email")}},{key:"share",value:function(e){d.default[e](this.props.path,this.props.title)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"sharing-footer"},u.default.createElement("div",{className:"share-prompt"},u.default.createElement("div",{className:"text"},this.props.type?"SHARE THIS "+this.props.type:"SHARE THIS ARTICLE"),u.default.createElement("div",{className:"line site-background-color"})),u.default.createElement("div",{className:"share-btns"},u.default.createElement("div",{tabIndex:"0",onKeyPress:function(t){return"Enter"===t.key&&e.shareTwitter()},className:"share-btn-container"},u.default.createElement("i",{className:"ion-social-twitter",onClick:this.shareTwitter}),u.default.createElement("div",{className:"underline site-background-color"})),u.default.createElement("div",{tabIndex:"0",onKeyPress:function(t){return"Enter"===t.key&&e.shareFacebook()},className:"share-btn-container"},u.default.createElement("i",{className:"ion-social-facebook",onClick:this.shareFacebook}),u.default.createElement("div",{className:"underline site-background-color"})),u.default.createElement("div",{tabIndex:"0",onKeyPress:function(t){return"Enter"===t.key&&e.shareEmail()},className:"share-btn-container"},u.default.createElement("i",{className:"ion-ios-email",onClick:this.shareEmail}),u.default.createElement("div",{className:"underline site-background-color"}))))}}]),t}(u.default.PureComponent);e.exports=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Sun","Mon","Tues","Weds","Thu","Fri","Sat"],r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=864e5,i=function(e){return n[new Date(e).getDay()]},o=t.getMonth=function(e){return r[new Date(e).getMonth()]},s=function(e){return e<=9?"0"+e:e},l=(t.formatStartTime=function(e){var t=new Date(e),n=t.getHours(),r=n>12?n-12:n,a=t.getMinutes(),i=n>=12?"PM":"AM";return r+":"+s(a)+" "+i},function(e,t){return(e.timestamp||e.gist.scheduleStartDate)-(t.timestamp||t.gist.scheduleStartDate)}),u=function(){for(var e=Date.now(),t=[];t.length<8;){var n=i(e),r=o(e),s=new Date(e).getDate(),l=n+s,u=e,c={day:n,date:s,month:r,timestamp:u,key:l};t.push(c),e+=a}return t.reduce(function(e,t){var n=t.key,r=t.day,a=t.date,i=t.month,o=t.timestamp;return e[n]={day:r,date:a,month:i,timestamp:o},e},{})};t.splitEventsIntoDays=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.reduce(function(e,t){var n=t.gist.scheduleStartDate,r=i(n),a=new Date(n).getDate(),o=r+a;return e[o]&&e[o].events?e[o].events.push(t):e[o]=Object.assign({},e[o],{events:[t]}),e},u());return Object.values(t).sort(l).map(function(e){var t=e.events?e.events.sort(l):null;return{day:e.day,date:e.date,month:e.month,events:t}})},t.CONSTANTS={RIGHT:"right",LEFT:"left",BOTH:"both",NONE:"none"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),o=n(1),s=r(o),l=n(63),u=r(l),c=n(897),d=r(c),f=n(931),p=r(f),h=n(932),m=r(h);n(848);var y=function(e){var t=e.awayTeam,n=e.homeTeam,r=e.schedule,a=e.ticket,o=e.stream,l=e.link,c=e.siteName,f=e.live,h=e.scores;return s.default.createElement("div",{className:"schedule-wrapper "+(c===n.title&&"site-border-color")},s.default.createElement("div",{className:"schedule-team"},s.default.createElement("div",{className:"logos-wrapper"},s.default.createElement("div",{className:"schedule-logos"},[t,n].map(function(e,t){return s.default.createElement("span",{className:"team-logo",key:t},s.default.createElement("img",{src:(0,i.default)(e,"imageGist._1x1",""),alt:"team logo"}))})),s.default.createElement("div",{className:"schedule-names"},s.default.createElement("div",{style:{padding:h?".3em 0":""}},s.default.createElement("span",{className:"away"},t.shortName),void 0!==h?s.default.createElement("span",{className:"score"},h[0]):null),!h&&s.default.createElement("span",{className:"at"},"AT"),s.default.createElement("div",null,s.default.createElement("span",{className:"home"},n.shortName),void 0!==h?s.default.createElement("span",{className:"score"},h[1]):null)))),s.default.createElement("div",{className:"info "+(f&&"live")},s.default.createElement("div",{className:"links"},s.default.createElement("a",{style:{backgroundImage:"url("+d.default+")"},href:l,className:"additional-info"}),s.default.createElement("a",{style:{backgroundImage:"url("+p.default+")"},href:a,className:"tickets"}),o&&s.default.createElement("a",{style:{backgroundImage:"url("+m.default+")"},href:o,className:"live-stream"})),s.default.createElement("div",{className:"time"},f?s.default.createElement("span",{className:"live-icon"},"Live"):s.default.createElement("div",null,s.default.createElement("span",null,(0,u.default)(1e3*r.gameTime,"MM/DD")),s.default.createElement("span",null,(0,u.default)(1e3*r.gameTime,"hh:mm A")," ",r.gameTimeZone)))))};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r){null==r&&(r=d.default.get("vl-user"));var a=(0,s.getToken)().then(function(a){var i,s,c=window.settings,d=c.apiBaseUrl+c.pageEndpoint,f=(0,l.userLanguageSelector)(c,t),p={Authorization:a,"x-api-key":c.baseAPIKey};return n&&(p["X-Forwarded-For"]=n),o.default.get(d,{params:Object.assign({path:e,site:c.internalName,includeContent:!0},f?{languageCode:f}:{}),headers:p}).then(function(e){i=e.data,(0,u.addEpisodeNumbersToPayload)(i);var t=""+c.layoutUrlBase+c.siteId+"/web/"+i.id+".json?timestamp="+(new Date).getTime(),r=n?{"X-Forwarded-For":n}:{};return o.default.get(t,{headers:r}).then(function(e){return s=e.data})}).then(function(){var e=(0,u.getSeriesIdFromPayload)(i);return e&&r?o.default.get(c.apiBaseUrl+"/content/video/history/user/"+r,{headers:p,params:{seriesId:e,site:c.internalName}}).then(function(e){Array.isArray(e.data)&&(0,u.addWatchHistoryToPayload)((0,u.formatHistory)(e.data),i)}):Promise.resolve()}).then(function(t){return{title:i.title,categoryMap:i.categoryMap,metadataMap:i.metadataMap,id:i.id,modules:i.modules,layouts:s.moduleList,route:e,ip:n}})});return{type:"FETCH_PAGE",payload:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPage=a;var i=n(6),o=r(i),s=n(20),l=n(45),u=n(604),c=n(47),d=r(c)},function(e,t){"use strict";e.exports=function(e){var t=~~(e/3600),n=~~(e%3600/60),r=e%60,a="";return t>0&&(a+=""+t+":"+(n<10?"0":"")),a+=""+n+":"+(r<10?"0":""),a+=""+r}},function(e,t){"use strict";e.exports=function(e){if(window.location.search)for(var t=window.location.search.substring(1),n=t.split("&"),r=0;r<n.length;r++){var a=n[r].split("=");if(decodeURIComponent(a[0])===e)return decodeURIComponent(a[1])}}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){n(this,e),this.desktop=t.desktop,this.tablet=t.tablet,this.mobile=t.mobile}return r(e,[{key:"maxWidth",get:function(){return Math.max(1400/(this.desktop||6),800/(this.tablet||4),600/(this.mobile||2))}},{key:"mobileMaxWidth",get:function(){return 600/(this.mobile||2)}},{key:"slidesToShow",get:function(){return this.desktop||7}},{key:"slidesToScroll",get:function(){return this.desktop||7}},{key:"responsiveBreakpoints",get:function(){return[{breakpoint:1400,settings:{slidesToShow:this.desktop||6,slidesToScroll:this.desktop||6}},{breakpoint:1200,settings:{slidesToShow:this.desktop||5,slidesToScroll:this.desktop||5}},{breakpoint:1e3,settings:{slidesToShow:this.desktop||4,slidesToScroll:this.desktop||4}},{breakpoint:800,settings:{slidesToShow:this.tablet||3,slidesToScroll:this.tablet||3}},{breakpoint:600,settings:{slidesToShow:this.mobile||2,slidesToScroll:this.mobile||2,className:"mobile"}}]}}]),e}();e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={items:e.data&&e.data.contentData||[]},t.moreToLoad=!0,t.handleScroll=t.handleScroll.bind(t),t}return o(n,t),c(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",(0,u.default)(this.handleScroll,300)),this.state.items.length||this.setState({fetching:!0},function(){e.component.fetchData().then(function(t){e.setState({items:t,fetching:!1})})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"isBottomOfPage",value:function(){var e=window.innerHeight,t=window.document.body,n=window.document.documentElement,r=Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight),a=e+window.pageYOffset;return a>=r-300}},{key:"handleScroll",value:function(){var e=this;this.moreToLoad!==!1&&!this.state.fetching&&this.isBottomOfPage()&&(this.setState({fetching:!0}),this.component.fetchData().then(function(t){t.length>0?e.setState({items:e.state.items.concat(t)}):e.moreToLoad=!1,e.setState({fetching:!1})}).catch(function(){return e.setState({fetching:!1})}))}},{key:"render",value:function(){var t=this;return f.default.createElement(e,Object.assign({setWrappedState:this.setState.bind(this),ref:function(e){return t.component=e}},this.props,this.state))}}]),n}(d.Component)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(58),u=r(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(6),h=r(p),m=n(8),y=r(m),v=n(77),g=n(91),b=r(g),_=n(17),w=n(9),E=r(w),k=n(645),T=r(k);n(872);var S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={activeTab:n.props.activeTab?n.props.activeTab:"login",emailConsent:{},emailChecked:null},n.toggleEmailCheck=n.toggleEmailCheck.bind(n),n}return o(t,e),c(t,[{key:"componentDidMount",value:function(){if(!this.initializedSocialLogin){this.initializedSocialLogin=!0,T.default.initializeFacebookLogin(),(0,l.default)(window.settings,"socialMedia.googlePlus.signin")&&T.default.initializeGoogleLogin(this.googleButtonEl,this.googleLoginCallback.bind(this)),this.fetchEmailConsent();var e=window.location,t=e.pathname,n=e.search,r=n.slice(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var n=u(t,2),r=n[0],a=n[1];return e.set(r,decodeURIComponent(a))},new Map);"/sign-up"!==t&&"true"!==r.get("signup")||(this.setState({activeTab:"signup"}),this.emailInput.value=r.get("email")||"")}}},{key:"fetchEmailConsent",value:function(){var e=this,t="https://d2tipiv4cs5bo1.cloudfront.net/emailconsent/"+window.settings.internalName+".json";return h.default.get(t).then(function(t){var n=t.data;return(0,b.default)().then(function(t){var r=n[t]||n.default||{};e.setState({emailConsent:r,emailChecked:r.checked})})}).catch(function(e){})}},{key:"renderEmailConsent",value:function(){var e=this.state,t=e.emailConsent,n=e.emailChecked;if(t.visible)return f.default.createElement("div",{className:"email-consent"},f.default.createElement("input",{onChange:this.toggleEmailCheck,type:"checkbox",checked:n}),f.default.createElement("div",{className:"copy",dangerouslySetInnerHTML:{__html:t.copy}}))}},{key:"toggleEmailCheck",value:function(e){this.setState({emailChecked:e.target.checked})}},{key:"shouldDisableLogin",value:function(){return!!this.state.buttonProgress}},{key:"render",value:function(){var e=this,t=this.shouldDisableLogin();return f.default.createElement("div",{className:"auth-view centered"},f.default.createElement("img",{className:"mobile-logo-image",src:(0,l.default)(window.settings,"images.desktopLogo"),alt:"logo"}),f.default.createElement("form",{className:"login-view",onSubmit:function(t){t.preventDefault(),"login"===e.state.activeTab?e.logIn():e.signUp()}},f.default.createElement("div",{className:"tab-buttons"},f.default.createElement("div",{className:"login-tab-button tab-button "+("login"===this.state.activeTab?"active":""),onClick:function(t){e.setState({activeTab:"login"})}}," ",f.default.createElement("span",{className:"site-border-color"},"Log In")),f.default.createElement("div",{className:"signup-tab-button tab-button "+("signup"===this.state.activeTab?"active":""),onClick:function(t){e.props.hardwall?E.default.createSubscription():e.setState({activeTab:"signup"})}}," ",f.default.createElement("span",{className:"site-border-color"},"Sign Up")," ")),f.default.createElement("div",null,f.default.createElement("div",{className:"input-box"},f.default.createElement("input",{type:"email",placeholder:"EMAIL",ref:function(t){e.emailInput=t},onFocus:function(t){"signup"===e.state.activeTab&&e.checkPwdValid(t)},autoFocus:!0,required:!0})),f.default.createElement("div",{className:"input-box collapsible "+("login"===this.state.activeTab?"collapsed":"")},"login"!==this.state.activeTab&&f.default.createElement("input",{placeholder:"NAME",ref:function(t){e.nameInput=t},onFocus:function(t){"signup"===e.state.activeTab&&e.checkPwdValid(t)},required:!0})),f.default.createElement("div",{className:"input-box"},f.default.createElement("input",{placeholder:"PASSWORD",ref:function(t){e.passwordInput=t},type:"password",onFocus:function(t){"signup"===e.state.activeTab&&e.checkPwdValid(t)},onKeyUp:function(t){"signup"===e.state.activeTab&&e.checkPwdValid(t)},onKeyPress:function(t){"Enter"===t.key&&("login"===e.state.activeTab?e.logIn():e.signUp())},required:!0})),"signup"===this.state.activeTab&&this.renderEmailConsent()),f.default.createElement("div",{className:"error-box collapsible "+(this.state.error?"":"collapsed")},this.state.error||""),f.default.createElement("div",null,f.default.createElement("input",{type:"submit",className:"login-button button fat cta "+(t?"disabled":""),value:"login"===this.state.activeTab?this.state.buttonProgress?"Logging In ...":"Log In":this.state.buttonProgress?"Signing Up ...":"Sign Up"}),f.default.createElement("div",{className:"forgot-password-button fat",onClick:function(t){E.default.forgotPassword(e.props.hardwall)}},"Forgot Password?"))),f.default.createElement("div",{className:"or"},f.default.createElement("div",{className:"line1"}),f.default.createElement("div",{className:"line2"}),f.default.createElement("div",{className:"text"},"Or")),f.default.createElement("div",{className:"social-logins"},f.default.createElement("div",{className:"social-buttons"},f.default.createElement("button",{disabled:t,className:"facebook-color-background button fat",onClick:function(t){return e.facebookLogin(t)}},"login"===this.state.activeTab?"Log In":"Sign Up"," With Facebook"),f.default.createElement("br",null),(0,l.default)(window.settings,"socialMedia.googlePlus.signin")&&f.default.createElement("button",{disabled:t,className:"google-color-background button fat",ref:function(t){return e.googleButtonEl=t}},"login"===this.state.activeTab?"Log In":"Sign Up"," With Google"))))}},{key:"socialLogins",value:function(){return f.default.createElement("div",null)}},{key:"facebookLogin",value:function(e){var t=this;window.FB.login(function(e){var n=e&&e.authResponse&&e.authResponse.accessToken;return n?void t.dispatchLogin((0,v.fbLogin)({facebookToken:n,emailConsent:"signup"===t.state.activeTab&&t.state.emailConsent.visible?t.state.emailChecked:void 0}),"Facebook"):t.alert("Facebook login failed")},{scope:"email,public_profile"})}},{key:"googleLoginCallback",value:function(e,t){if(e)return this.alert("Google login failed");var n=t.getAuthResponse().id_token;this.dispatchLogin((0,v.googleLogin)({googleToken:n,emailConsent:"signup"===this.state.activeTab&&this.state.emailConsent.visible?this.state.emailChecked:void 0}),"Google")}},{key:"logIn",value:function(){if(!this.state.buttonProgress){this.setState({buttonProgress:!0});var e={email:this.emailInput.value,password:this.passwordInput.value};this.dispatchLogin((0,v.login)(e),"Native")}}},{key:"dispatchLogin",value:function(e,t){var n=this;this.props.onInitiate&&this.props.onInitiate("login"),y.default.dispatch(e).then(function(e){var r=n.props.user;r&&(0,_.addUserProfile)("Site",{Name:r.name,Email:r.email,Identity:r.userId,"User Status":r.isSubscribed?"Subscribed":"Registered and Never Subscribed"}),(0,_.trackEvent)("Login",{platform:"Web",registrationType:t}),y.default.dispatch((0,v.getCardInfo)(r)).then(function(t){return n.props.onAuthenticate?(n.props.onAuthenticate(!0),!1):e.value.isSubscribed||"SVOD"!==window.settings.serviceType?void 0:(window.location.href="/viewplans",!1)}),n.setState({buttonProgress:!1}),E.default.hide()}).catch(function(e){console.log(e),n.setState({buttonProgress:!1});var t=(((e||{}).response||{}).data||{}).error||"There was an error processing your request.";n.alert(t),n.props.onAuthenticate&&n.props.onAuthenticate(!1,t)})}},{key:"signUp",value:function(){var e=this;if(!this.state.buttonProgress){this.setState({buttonProgress:!0,error:""});var t={name:this.nameInput.value,email:this.emailInput.value,password:this.passwordInput.value,emailConsent:this.state.emailConsent.visible?this.state.emailChecked:void 0};this.props.onInitiate&&this.props.onInitiate("signup"),y.default.dispatch((0,v.signup)(t)).then(function(t){var n=e.props.user;return n&&(0,_.addUserProfile)("Site",{Name:n.name,Email:n.email,Identity:n.userId,"User Status":n.isSubscribed?"Subscribed":"Registered and Never Subscribed"}),(0,_.trackEvent)("Signed Up",{registrationType:"Native"}),e.props.onAuthenticate?(e.props.onAuthenticate(!0),!1):t.value.isSubscribed||"SVOD"!==window.settings.serviceType||window.settings.forceLogin?(e.setState({buttonProgress:!1}),E.default.hide(),void console.log("Done signing up")):(window.location.href="/viewplans",!1)}).catch(function(t){e.setState({buttonProgress:!1});var n=(((t||{}).response||{}).data||{}).error||"There was an error processing your request.";e.alert(n),e.props.onAuthenticate&&e.props.onAuthenticate(!1,n)})}}},{key:"checkPwdValid",value:function(e){if(this.passwordInput){var t=this.passwordInput.value,n=e.currentTarget.type.indexOf("password")!==-1,r=document.getElementsByClassName("error-box");if(r[0].classList.remove("collapsed"),(t.length<5||t.length>50)&&n)return r[0].textContent="Password should be between 5 and 50 characters",!1;r[0].textContent="",r[0].classList.add("collapsed"),n||r[0].classList.add("collapsed")}}},{key:"alert",value:function(e){this.setState({error:e})}}]),t}(f.default.Component);t.default=S},,,,,,,,,,,68,,function(e,t,n){e.exports=n.p+"static/media/app-store-badge.7c1b3d44.svg"},function(e,t,n){e.exports=n.p+"static/media/google-play-badge.f1b5aaa4.png"},function(e,t,n){e.exports=n.p+"static/media/amex.21b17cf9.png"},function(e,t,n){e.exports=n.p+"static/media/discover.f6faee75.png"},function(e,t,n){e.exports=n.p+"static/media/mastercard.af05450d.png"},function(e,t,n){e.exports=n.p+"static/media/visa.a539d2be.png"},,,,,function(e,t){function n(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}e.exports=n},,,,,,,,,,,,function(e,t,n){var r=n(133),a=n(57),i=n(137),o=n(35),s=n(102),l=n(48),u=Object.prototype,c=u.hasOwnProperty,d=i(function(e,t){if(s(t)||o(t))return void a(t,l(t),e);for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=d},function(e,t,n){var r=n(57),a=n(137),i=n(84),o=a(function(e,t){r(t,i(t),e)});e.exports=o},function(e,t,n){e.exports=n(202)},,,,,function(e,t,n){function r(e,t,n,r){return null==e?[]:(i(t)||(t=null==t?[]:[t]),n=r?void 0:n,i(n)||(n=null==n?[]:[n]),a(e,t,n))}var a=n(348),i=n(21);e.exports=r},function(e,t,n){function r(e,t){if(null==e)return{};var n=a(s(e),function(e){return[e]});return t=i(t),o(e,n,function(e,n){return t(e,n[0])})}var a=n(80),i=n(41),o=n(981),s=n(360);e.exports=r},function(e,t,n){function r(e,t,n){var r=s(e)?a:o;return n&&l(e,t,n)&&(t=void 0),r(e,i(t,3))}var a=n(341),i=n(41),o=n(989),s=n(21),l=n(101);e.exports=r},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=a(e),e===i||e===-i){var t=e<0?-1:1;return t*o}return e===e?e:0}var a=n(145),i=1/0,o=1.7976931348623157e308;e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a);n(787);var o=function(e){var t=e.children;return t?i.default.createElement("div",{className:"BlockTitle site-color"},t):i.default.createElement("div",null)};e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1071),u=r(l),c=n(58),d=r(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),h=r(p),m=n(461),y=r(m),v=n(460),g=r(v),b=n(52),_=n(18),w=n(252),E=r(w);n(761);var k=["Su","M","Tu","We","Th","Fr","Sa"],T=["January","February","March","April","May","June","July","August","September","October","November","December"],S=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=new Date;return n.state={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),selectedYear:r.getFullYear(),selectedMonth:r.getMonth(),selectedDate:r.getDate(),startDay:1,eventPopup:!1,eventPopupStyles:{},currentEvent:{},overflow:"",events:{},mobileOverlayEvents:[],type:e.type},n.toggleDisplayEvents=n.toggleDisplayEvents.bind(n),n.displayEventsMobile=n.displayEventsMobile.bind(n),n.next=n.next.bind(n),n.prev=n.prev.bind(n),n.getEvents=n.getEvents.bind(n),n.hide=n.hide.bind(n),n.resizeOverlayContainer=n.resizeOverlayContainer.bind(n),n}return s(t,e),f(t,[{key:"componentDidMount",value:function(){this.getEvents(this.state.year,this.state.month),this.hide(),window.addEventListener("resize",this.hide),window.addEventListener("resize",(0,d.default)(this.resizeOverlayContainer,200))}},{key:"resizeOverlayContainer",value:function(){var e=this;setTimeout(function(){var t=e.calendar.querySelector(".overlay-events-container");if(t){var n=e.calendar.getBoundingClientRect(),r={position:"absolute",top:e.calendar.offsetTop,height:n.height,width:n.width};e.setState({mobileStyles:r})}},500)}},{key:"getEvents",value:function(e,t){var n=this;if(!this.state.events[t+"/"+e]){this.setState({loading:!0});var r=Math.floor(new Date(e,t,1).getTime()/1e3),i=Math.floor(new Date(e,t+1,1).getTime()/1e3);b.axios.get("/content/event/schedule",{params:{from:r,to:i}}).then(function(o){n.setState({events:Object.assign({},n.state.events,a({},t+"/"+e,n.filterEvents(o.data,1e3*r,1e3*i))),loading:!1})}).catch(function(e){console.log(e)})}}},{key:"next",value:function(){this.setState({eventPopup:!1}),11===this.state.month?(this.setState({month:0,year:this.state.year+1}),this.getEvents(this.state.year+1,0)):(this.getEvents(this.state.year,this.state.month+1),this.setState({month:this.state.month+1}))}},{key:"prev",value:function(){this.setState({eventPopup:!1}),0===this.state.month?(this.setState({month:11,year:this.state.year-1}),this.getEvents(this.state.year-1,11)):(this.setState({month:this.state.month-1}),this.getEvents(this.state.year,this.state.month-1))}},{key:"filterEvents",value:function(e,t,n){var r=[];return e.forEach(function(e){e.gist.eventSchedule.length>0&&e.gist.eventSchedule.forEach(function(a){if(e.scheduleDate=1e3*a.eventDate,e.eventTime=1e3*a.eventTime,e.scheduleDate>=t&&e.scheduleDate<=n){var i=new Date(e.scheduleDate);e.date=i.getDate(),e.year=i.getFullYear(),e.month=i.getMonth(),e.schedule=a,r.push(e)}})}),r}},{key:"hide",value:function(){this.setState({tabletView:window.innerWidth<1025})}},{key:"componentWillReceiveProps",value:function(e){this.setState({eventPopup:e.eventPopup,type:e.type})}},{key:"toggleDisplayEvents",value:function(e){var t=e.currentTarget,n=JSON.parse(t.dataset.event),r=e.currentTarget.parentElement,a=r.getBoundingClientRect(),i=window.document.body.clientWidth,o=i<a.right+a.width+340,s=a.left<340,l={},c="";o&&!s?(l={left:a.left-340-10,top:r.offsetTop-(235-a.height)/2},c="right"):o&&s?(l={left:r.offsetLeft-170+a.width/2,top:r.offsetTop+a.height+10},c="top"):(l={left:r.offsetLeft+r.offsetWidth+10,top:r.offsetTop-(235-a.height)/2},c="left");var d=(0,u.default)(n,this.state.currentEvent);d?this.setState({eventPopup:!this.state.eventPopup,eventPopupStyles:l,currentEvent:n,overflow:c}):this.setState({eventPopup:!0,eventPopupStyles:l,currentEvent:n,overflow:c})}},{key:"displayEventsMobile",value:function(e){var t=e.currentTarget,n=JSON.parse(t.dataset.events),r=this.calendar.getBoundingClientRect(),a={position:"absolute",top:this.calendar.offsetTop,height:r.height,width:r.width};this.setState({mobileOverlayEvents:n,mobileStyles:a})}},{key:"renderOverlay",value:function(e){var t=e.gist,n=(0,_.differenceInCalendarDays)((0,_.format)(e.scheduleDate,"MM/DD/YYYY"),(0,_.format)(Date.now(),"MM/DD/YYYY"))<0;return h.default.createElement("div",{className:"overlay-event",key:e.gist.id},h.default.createElement("div",{className:"event-title"},t.title),h.default.createElement("div",{className:"event-date"},(0,_.format)(e.scheduleDate,"dddd")," | ",(0,_.format)(e.scheduleDate,"MMM D, YYYY")," ",t.eventSchedule[0].showTime&&"| "+e.schedule.orgEventTime),h.default.createElement("div",{className:"links"},h.default.createElement("a",{href:t.permalink,className:"info"},"Info"),t.ticketUrl&&!n&&h.default.createElement("a",{href:t.ticketUrl,target:"_blank",className:"event-tickets"},"Tickets")))}},{key:"render",value:function(){var e=this;return h.default.createElement("div",{className:"calendar "+(this.props.mobile?"mobile":""),ref:function(t){return e.calendar=t}},h.default.createElement(y.default,{month:T[this.state.month],year:this.state.year,next:this.next,prev:this.prev}),h.default.createElement("div",{className:"calendar-week-days"},k.map(function(e,t){return h.default.createElement("div",{className:"week-day",key:t},e)})),h.default.createElement(g.default,Object.assign({},this.state,{events:this.state.events[this.state.month+"/"+this.state.year],toggleDisplayEvents:this.toggleDisplayEvents,mobile:this.props.mobile,displayEventsMobile:this.displayEventsMobile})),this.state.eventPopup&&h.default.createElement("div",{className:"event-popup "+this.state.overflow+(this.state.eventPopup?" popup-visible":""),style:this.state.eventPopupStyles},h.default.createElement(E.default,{event:this.state.currentEvent,gotoEvent:this.props.gotoEvent})),this.state.mobileOverlayEvents.length>0&&h.default.createElement("div",{className:"overlay-events-container",style:this.state.mobileStyles},h.default.createElement("div",{className:"events-close",onClick:function(){return e.setState({mobileOverlayEvents:[]})}},h.default.createElement("ion",{className:"ion-close-round"})),h.default.createElement("div",{className:"overlay-events"},this.state.mobileOverlayEvents.map(function(t){return e.renderOverlay(t)}))))}}]),t}(h.default.Component);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(792);var c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.item.images._3x4&&this.props.item.images._3x4.url,t=this.props.item,n=t.firstName,r=t.lastName;return u.default.createElement("a",{href:this.props.item.permalink,className:"tray-person-item"},u.default.createElement("div",{className:"image-container"},u.default.createElement("div",{className:"image",style:{backgroundImage:"url("+(e?e:"https://www.synergy-learning.com/wp-content/uploads/2018/02/default-1.jpg")+")"}})),u.default.createElement("div",{className:"details"},u.default.createElement("p",{className:"title"},n," ",r)))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=function(e){var t=e.className,n=e.title,r=e.iframeSrc;return i.default.createElement("div",{className:t?t:""},i.default.createElement("h1",null,n),i.default.createElement("iframe",{src:r}))};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(43),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.style={};var r=(0,l.default)(e.className,"slick-prev")?"left":"right",o=e.itemCount/2*30;return n.style[r]="calc(50% - "+o+"px)",n}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("button",Object.assign({},this.props,{style:this.style,className:this.props.className+" site-border-color"}))}}]),t}(d.default.PureComponent);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(44),p=r(f),h=n(249),m=r(h),y=n(496),v=r(y);n(68),n(177),n(319);var g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:e.data&&e.data.contentData},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){this.setState({innerWidth:window.innerWidth})}},{key:"render",value:function(){var e=this,t=this.state.items&&this.state.items.length>1;return d.default.createElement("div",{className:"carousel "+((0,l.default)(this.props,"layout.settings.isHidden")?"hide":"")},this.state.items&&this.state.items.length>0&&d.default.createElement(p.default,{dots:t,infinite:t,arrows:t,nextArrow:d.default.createElement(m.default,{itemCount:this.state.items.length}),prevArrow:d.default.createElement(m.default,{itemCount:this.state.items.length}),autoplay:t,speed:750,cssEase:"ease-in-out",autoplaySpeed:4e3,lazyLoad:!0},this.state.items.map(function(t,n){return d.default.createElement("div",{key:n},d.default.createElement(v.default,{item:t,maxWidth:e.state.innerWidth||1e3}))})))}}]),t}(d.default.Component);e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(44),p=r(f),h=n(18),m=n(249),y=r(m),v=n(497),g=r(v);n(68),n(177),n(319);var b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.moveSlider=function(e){return"number"==typeof e?(n.setState({currentItem:e}),n.state.isMobile?n.Slider.slickGoTo(e):n.Slider.slickGoTo(e+1),clearInterval(n.interval),void(n.interval=setInterval(n.moveSlider,4e3))):void(n.state.currentItem+1!==n.state.items.length?(n.state.isMobile?n.Slider.slickGoTo(n.state.currentItem+1):n.Slider.slickGoTo(n.state.currentItem+2),n.setState({currentItem:n.state.currentItem+1})):(n.setState({currentItem:0}),n.state.isMobile?n.Slider.slickGoTo(0):n.Slider.slickGoTo(1)))},n.state={items:"person"===e.type?e.data.contentData:e.data&&e.data.contentData.filter(function(e){return e.gist.scheduleEndDate>Date.now()}),currentItem:0,isMobile:window.innerWidth<=1025},n}return o(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.currentItem!==t.currentItem||this.state.isMobile!==t.isMobile}},{key:"componentDidMount",value:function(){var e=this;this.setState({innerWidth:window.innerWidth,scheduleCarousel:document.querySelector(".schedule-carousel-container")}),"person"!==this.props.type&&this.state.items.length>0&&(this.interval=setInterval(this.moveSlider,4e3),this.scheduleCarousel=document.querySelector(".schedule-carousel-container"),setTimeout(function(){var t=e.scheduleCarousel.querySelector(".slick-track"),n=t.children[0].offsetWidth;t.style.transform="translate3d(-"+(e.state.currentItem+2)*n+"px, 0, 0)"},0)),window.addEventListener("resize",function(){e.setState({isMobile:window.innerWidth<=1025})},!1)}},{key:"componentWillMount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.state.items&&this.state.items.length>1;return 0===this.state.items.length?d.default.createElement("div",null):d.default.createElement("div",{className:"schedule-carousel-container"},"person"!==this.props.type&&d.default.createElement("div",{className:"schedule"},d.default.createElement("div",{className:"live-games"},d.default.createElement("p",null,"Live and UpComing")),d.default.createElement("div",{className:"schedules-container"},d.default.createElement("div",{className:"schedules"},this.state.items.map(function(t,n){return d.default.createElement("div",{className:"day-time "+(e.state.currentItem===n?" current":""),key:n,onClick:e.moveSlider.bind(e,n)},d.default.createElement("p",{className:"day"},(0,h.isToday)(t.gist.scheduleStartDate)?"Today":(0,h.format)(t.gist.scheduleStartDate,"ddd")," ",(0,h.format)(t.gist.scheduleStartDate,"h:mm A")))})))),d.default.createElement("div",{className:"carousel "+((0,l.default)(this.props,"layout.settings.isHidden")?"hide":"")},this.state.items&&this.state.items.length>0&&d.default.createElement(p.default,{variableWidth:!this.state.isMobile&&!0,ref:function(t){return e.Slider=t},infinite:!0,speed:750,autoplay:"person"===this.props.type,arrows:"person"===this.props.type&&t,dots:"person"===this.props.type&&t,nextArrow:"person"===this.props.type&&d.default.createElement(y.default,{itemCount:this.state.items.length}),prevArrow:"person"===this.props.type&&d.default.createElement(y.default,{itemCount:this.state.items.length})},this.state.items.map(function(t,n){return d.default.createElement("div",{key:n},d.default.createElement(g.default,{item:t,maxWidth:e.state.innerWidth}))}))))}}]),t}(d.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(18),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"getEventDate",value:function(){var e=this.props.event.schedule,t=e.orgEventDate+" "+e.orgEventTime,n="";return n+=(0,c.format)(t,"dddd"),n+=" | ",n+=(0,c.format)(t,"MMM D, YYYY"),e.showTime&&(n+=" | "+(0,c.format)(t,"hh:mm A")),n}},{key:"render",value:function(){var e=this,t=this.props.event,n=(0,c.differenceInCalendarDays)((0,c.format)(t.schedule.orgEventDate,"MM/DD/YYYY"),(0,c.format)(Date.now(),"MM/DD/YYYY"))<0;return u.default.createElement("div",{className:"event-grid-item",tabIndex:"0",key:t.id,role:"link","data-url":t.gist.permalink,onKeyPress:function(t){return"Enter"===t.key&&e.props.gotoEvent(t)},onClick:function(t){return e.props.gotoEvent(t)},"aria-label":t.gist.title+" "+this.getEventDate()},u.default.createElement("div",{className:"event-image-container"},u.default.createElement("div",{className:"event-image",style:{backgroundImage:"url("+t.gist.landscapeImageUrl+")"}})),u.default.createElement("div",null,u.default.createElement("div",{className:"title"},t.gist.title),u.default.createElement("div",{className:"event-date-container"},u.default.createElement("div",{className:"event-date"},this.getEventDate()),t.gist.ticketUrl&&!n?u.default.createElement("a",{href:t.gist.ticketUrl,"aria-label":"Tickets for "+t.gist.title,target:"_blank",className:"event-tickets",onClick:function(e){return e.stopPropagation()}},"Tickets"):u.default.createElement("div",{className:"tickets-invisible"}))))}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(774);var c=n(159),d=n(3),f=r(d),p=n(157),h=r(p),m=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),d=0;d<s;d++)l[d]=arguments[d];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={isLive:!1},r.checkLive=function(){r.setState({isLive:!0})},r.renderTimer=function(){var e=r.props.event.gist,t=e.scheduleStartDate,n=e.scheduleEndDate;if(t-Date.now()>36e5){var a=(0,c.formatStartTime)(t);return u.default.createElement("div",{className:"LiveEvent_starttime"},a)}return u.default.createElement("div",{className:"LiveEvent_starttime "+(r.state.isLive?"live":"")},u.default.createElement(h.default,{scheduleStartDate:t,scheduleEndDate:n,shortForm:!0,checkLive:r.checkLive}))},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.event,t=e.gist,n=t.primaryCategory.title,r=e.tags.find(function(e){return"classDuration"===e.tagType}),a=r&&r.title,i=(0,f.default)(t,"imageGist._16x9"),o={backgroundImage:"url("+i+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center top"};return u.default.createElement("a",{className:"LiveEvent_link",href:t.permalink},u.default.createElement("div",{className:"LiveEvent",style:o},a&&u.default.createElement("div",{className:"LiveEvent_runtime"},a.replace(" MIN","M")+" - "+n),this.renderTimer()))}}]),t}(l.Component);t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(83),c=r(u),d=n(3),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(163),v=r(y),g=n(465),b=r(g),_=n(24),w=n(524),E=r(w),k=n(9),T=r(k),S=n(329),C=r(S),P=n(15),O=n(607),N=r(O),A=n(269),j=r(A),I=n(268),x=r(I),M=n(17),D=n(45),L=n(76),R=r(L),B=n(161),U=n(526),F=r(U),V=n(530),H=r(V),W=n(12),z=r(W),q=n(8),G=r(q),Y=n(60);n(777);var K=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleScroll=function(){n.masthead&&(0,j.default)(n.masthead)},n.handleResize=function(){n.masthead&&(0,x.default)(n.masthead),window.innerWidth>=1025&&n.state.mobileMenuOpen&&n.toggleMobileMenu()},n.chooseLang=function(e){return function(t){var n=window.location.pathname;n.length>1&&(n=n.replace(/\/$/,"")),R.default.dispatch((0,B.fetchPage)(n,e))}},n.renderLanguageDropdown=function(){var e=window.settings.languages;if(e){var t=e.languages,r=(0,D.userLanguageSelector)(),a={languages:t,chosenLangCode:r,defaultLang:e.default,chooseLanguage:n.chooseLang};return m.default.createElement(F.default,a)}},n.handleSearch=function(){return n.props.filtersSearch?function(){n.setState(function(e){var t=e.searchFiltersOpen;return{searchFiltersOpen:!t}})}:function(e){return T.default.search()}},n.toggleFilterMenu=function(){return n.setState(function(e){var t=e.searchFiltersOpen;return{searchFiltersOpen:!t}})},n.renderStaticLogo=function(){return m.default.createElement(b.default,{href:n.state.user&&window.settings.forceLogin?"/home":"/",className:"logo"},m.default.createElement("img",{className:"logo-image",src:(0,f.default)(window.settings,"images.desktopLogo"),alt:"Logo"}))},n.isSubmenuOpen=function(e){return n.state.openMobileSubmenus.includes(e)},n.toggleMobileSubmenu=function(e){return function(t){n.setState(function(t){var r=t.openMobileSubmenus,a=n.isSubmenuOpen(e)?r.filter(function(t){return t!==e}):r.concat(e);return{openMobileSubmenus:a}})}},n.state={mobileMenuOpen:!1,searchFiltersOpen:!1,openMobileSubmenus:[],links:(0,f.default)(window.settings,"navigation.primary",[]),userLinks:(0,f.default)(window.settings,"navigation.user",[])},n.primaryCta=(0,f.default)(window,"settings.navigation.settings.primaryCta")||{},n.pushButtonEvent=n.pushButtonEvent.bind(n),n}return o(t,e),p(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize),this.setState({models:(0,Y.fetchModels)()})}},{key:"shouldRenderBanner",value:function(){return!window.SERVER_SIDE_RENDERING&&("Banner"===this.primaryCta.placement&&((!this.state.user||!this.state.user.isSubscribed)&&!this.props.layout.settings.isBannerHidden))}},{key:"renderMasthead",value:function(){var e=this,t=(0,N.default)(this.state.user),n="SVOD"===this.state.models,r=(0,f.default)(this.props.layout,"settings.linkAlignment");return m.default.createElement("header",null,m.default.createElement("div",{className:"large-version "+(r&&r)},m.default.createElement("div",{className:"logo-container"},m.default.createElement(b.default,{href:this.state.user&&window.settings.forceLogin?"/home":"/",className:"logo"},m.default.createElement("img",{className:"logo-image",src:(0,f.default)(window.settings,"images.desktopLogo"),alt:"Logo"}))),m.default.createElement("nav",{className:"navigation"},this.state.links.filter(t).map(function(t,n){return e.renderMenu(t,n)}),this.props.filtersSearch&&m.default.createElement("div",{className:"menu-dropdown-container"},m.default.createElement("span",null,m.default.createElement("a",{className:"navigation-link"},m.default.createElement("span",{onClick:this.handleSearch()},"Filter")))))),m.default.createElement("div",{className:"small-version"},m.default.createElement("nav",{className:"mobile-nav "+(this.state.mobileMenuOpen?"open ":"")+(this.state.user?"logged-in ":"logged-out ")+"mobile-nav-header "},m.default.createElement("img",{className:"mobile-logo",src:(0,f.default)(window.settings,"images.desktopLogo"),alt:window.settings.site}),m.default.createElement("div",{className:"mobile-navigation-links"},this.state.links.filter(t).map(function(t,n){return e.renderMenu(t,n)}),this.renderLanguageDropdown()),m.default.createElement("div",null,this.state.user?m.default.createElement("div",{className:"mobile-navigation-links"},this.state.userLinks.filter(t).map(function(t,n){return e.renderUserMenu(t,n)}),m.default.createElement("div",{className:"menu-dropdown-container",key:"logout"},m.default.createElement("a",{className:"navigation-link",href:"#logout",onClick:function(t){return e.onLogoutClick(t)}},"Log Out"))):m.default.createElement("div",{className:"logged-out-container"},m.default.createElement("p",{className:"logged-out-message"},"Currently Logged Out"),m.default.createElement("button",{className:"cta secondary",onClick:function(e){T.default.login()}},"Log In"),n&&m.default.createElement("a",{href:"/viewplans",className:"cta primary",onClick:function(){return e.pushButtonEvent("masthead-button")}},"Subscribe Now")))),m.default.createElement("div",{className:"mobile-header "+(this.state.mobileMenuOpen?"move":"")},m.default.createElement("div",{className:"mobile-menu",onClick:function(t){return e.toggleMobileMenu()}},this.state.mobileMenuOpen?m.default.createElement("i",{className:"navigation-link ion-close"}):m.default.createElement("i",{className:"navigation-link ion-navicon"})),m.default.createElement("div",{className:"logo"},m.default.createElement("a",{href:"/"},m.default.createElement("img",{src:(0,f.default)(window.settings,"images.desktopLogo"),alt:window.settings.site})))),m.default.createElement("div",{className:"search-icon "+(this.state.mobileMenuOpen?"move":""),onClick:this.handleSearch()},this.props.filtersSearch?m.default.createElement(_.FiltersSVG,{className:"filters"}):m.default.createElement("i",{className:"ion-ios-search-strong"})),n&&!(this.state.user&&this.state.user.isSubscribed)&&this.subscribeButton()),window.settings.forceLogin?this.state.user&&this.controlButtons():this.controlButtons())}},{key:"renderMenu",value:function(e,t){var n=window.location.pathname,r=n===e.url||""!==n&&n.indexOf(e.title.toLowerCase())!==-1,a=(0,D.localizeTitle)(e),i=(0,f.default)(window.settings,"brand.navigation.link.textColor","#FFFFFF"),o={backgroundColor:(0,f.default)(window.settings,"brand.navigation['link--active'].backgroundColor")},s=this.state.mobileMenuOpen;return"/subnav"===e.url&&(e.url=""),m.default.createElement("div",{className:"menu-dropdown-container"+((0,c.default)(e.items)?"":" sub-menu-items"),key:t},e.url?m.default.createElement("span",{className:s?"navigation-link":""},m.default.createElement("a",{className:(s?"":"navigation-link")+((0,c.default)(e.items)||s?"":" icon-container"),style:r?o:{},href:e.url,target:e.newTab?"_blank":"_self"},m.default.createElement("span",null,a),!(0,c.default)(e.items)&&!s&&m.default.createElement(_.TriangleIcon,{className:"icon-triangle",color:i})),!(0,c.default)(e.items)&&s&&m.default.createElement(E.default,{className:"icon-triangle",open:this.isSubmenuOpen(e.title),color:i,toggle:this.toggleMobileSubmenu(e.title)})):m.default.createElement("span",{className:"navigation-link"+((0,c.default)(e.items)||s?"":" icon-container"),style:r?o:{}},m.default.createElement("span",null,a),!(0,c.default)(e.items)&&!s&&m.default.createElement(_.TriangleIcon,{className:"icon-triangle",color:i}),!(0,c.default)(e.items)&&s&&m.default.createElement(E.default,{className:"icon-triangle",open:this.isSubmenuOpen(e.title),color:i,toggle:this.toggleMobileSubmenu(e.title)})),!(0,c.default)(e.items)&&m.default.createElement("div",{className:"nav-dropdown-list-container "+(this.isSubmenuOpen(e.title)?"nav-submenu-open":"nav-submenu-closed")},e.items.map(function(e,t){return m.default.createElement("div",{className:"navigation-link",key:t},m.default.createElement("a",{href:e.url,target:e.newTab?"_blank":"_self",className:"dropdown-sub-link"},e.icon&&m.default.createElement("img",{className:"dropdown-icon",src:e.icon,alt:e.title}),m.default.createElement("span",null,(0,D.localizeTitle)(e))))})))}},{key:"renderUserMenu",value:function(e,t){var n=(0,D.localizeTitle)(e),r=e.title.toLowerCase().indexOf("log in")>-1;return r?m.default.createElement("div",{className:"menu-dropdown-container "+(e.accessLevels.loggedOut?"hide":"show"),key:t},m.default.createElement("div",{className:"navigation-link",onClick:function(e){T.default.login()}},m.default.createElement("span",null,n))):m.default.createElement("div",{className:"menu-dropdown-container "+(e.accessLevels.loggedOut?"hide":"show"),key:t},m.default.createElement("a",{className:"navigation-link",href:e.url},m.default.createElement("span",null,n)))}},{key:"toggleMobileMenu",value:function(){document.documentElement.style.overflow=this.state.mobileMenuOpen?"initial":"hidden",this.setState({mobileMenuOpen:!this.state.mobileMenuOpen})}},{key:"controlButtons",value:function(){if(!window.SERVER_SIDE_RENDERING){var e="SVOD"===this.state.models;return(0,v.default)("refreshUser")&&!this.state.user?null:m.default.createElement("div",{className:"controls "+(this.state.mobileMenuOpen?"move":"")},m.default.createElement("div",{className:"search-icon",onClick:this.handleSearch()},!this.props.filtersSearch&&m.default.createElement("i",{className:"navigation-link ion-ios-search-strong"})),this.renderLanguageDropdown(),!e&&(this.state.user?this.userButtons():this.loginButton()),e&&!this.state.user&&this.loginButton(!1),e&&!(this.state.user&&this.state.user.isSubscribed)&&this.subscribeButton(),e&&this.state.user&&this.userButtons())}}},{key:"userButtons",value:function(){var e=this,t=(0,N.default)(this.state.user),n=this.state.user.name||this.state.user.email.split("@")[0];return m.default.createElement("div",{className:"user-buttons"},m.default.createElement("div",{className:"navigation-link greeting"},m.default.createElement("span",{className:"hello"}," Hello,")," ",m.default.createElement("br",null),m.default.createElement("span",{className:"name"}," ",n," ")),this.state.user&&this.state.user.image&&m.default.createElement("div",{className:"user-image-container"},m.default.createElement("img",{src:this.state.user.picture||C.default,alt:"avatar"})),m.default.createElement("div",{className:"dropdown"},(0,l.default)(this.state.userLinks.filter(t),function(e,t){return m.default.createElement("a",{className:e.title.toLowerCase().indexOf("log in")>-1,href:e.url,key:t},(0,D.localizeTitle)(e))}),m.default.createElement("a",{href:"#logout",onClick:function(t){return e.onLogoutClick(t)}},"Log Out")))}},{key:"loginButton",value:function(e){return m.default.createElement("button",{onClick:function(e){T.default.login()},className:(e?"cta ":"")+"login-button navigation-link"}," Login")}},{key:"subscribeButton",value:function(){if("Masthead"===this.primaryCta.placement&&!window.settings.forceLogin)return m.default.createElement("a",{href:this.primaryCta.url,className:"cta subscribe-button"},(0,D.localizeCtaText)(this.primaryCta))}},{key:"displayBanner",value:function(){var e=this,t="Banner"===this.primaryCta.placement?"banner site-background-color":"cta subscribe-button";return this.state.mobileMenuOpen&&(t+=" move"),m.default.createElement("div",{className:t},m.default.createElement("a",{href:this.primaryCta.url,className:"banner-url",onClick:function(){return e.pushButtonEvent("banner")}},m.default.createElement("span",{className:"banner-text"},(0,D.localizeBannerText)(this.primaryCta)),m.default.createElement("span",{className:"cta-text"},(0,D.localizeCtaText)(this.primaryCta))))}},{key:"pushButtonEvent",value:function(e){window.dataLayer&&window.dataLayer.push({event:"subscribe_cta_click",source:e})}},{key:"onLogoutClick",value:function(e){e.preventDefault(),(0,P.logout)().then(function(e){(0,M.logoutUser)()})}},{key:"render",value:function(){var e=this,t=this.props.layout.settings.isCollapsed;return window.SERVER_SIDE_RENDERING||!window.sessionStorage||window.sessionStorage.getItem("isApp")?m.default.createElement("nav",null):m.default.createElement("nav",{className:"masthead "+(t?"isCollapsed":"")+" "+(this.props.filtersSearch?"masthead-filter":""),ref:function(t){e.masthead=t}},m.default.createElement("div",{className:"masthead-container"},this.renderMasthead(),this.props.filtersSearch&&m.default.createElement(H.default,{isOpen:this.state.searchFiltersOpen,toggleMenu:this.toggleFilterMenu}),this.shouldRenderBanner()&&this.displayBanner()))}}]),t}(m.default.Component);(0,z.default)(K,function(e){return{user:e.user}},G.default),e.exports=K},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(65),s=r(o),l=n(22),u=function(e){var t=e.page;return i.default.createElement("div",{className:"teams"},i.default.createElement("span",{className:"team-title"},t.awayTeam.gist.title,i.default.createElement("span",{className:"at"},"AT")),i.default.createElement("span",{className:"team-title"},t.homeTeam.gist.title))},c=function(e){var t=e.page,n=e.data,r=e.faceoffTime;return i.default.createElement("div",{className:"fight-event"},i.default.createElement("div",{className:"event-title"},t.title),(0,s.default)(r)&&(0,l.isLive)("EVENT",n)&&i.default.createElement("div",{className:"event-broadcast site-color"},i.default.createElement("span",{className:"event-live-icon site-background-color"}),i.default.createElement("a",{href:t.externalUrl,target:"_blank"},"Watch live"),i.default.createElement("i",{className:"ion-share"})))};e.exports={Teams:u,Event:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f),h=n(28),m=n(563),y=r(m),v=n(22),g=n(569),b=r(g);n(323);var _=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={items:r.props.data&&r.props.data.contentData[0].gist},r.componentDidMount=function(){if(r.state.items){var e=r.state.items.contentType,t=b.default[e],n=r.state.items[t.schedule][0][t.time],a=1e3*n,i=r;r.interval=setInterval(function e(){return p.default.get(t.api+"/"+i.state.items.dataId+"/"+Date.now()).then(function(e){i.setState({data:e.data,env:t,faceoffTime:a})}).catch(function(e){console.log(e)}),e}.call(i),1e3*(r.props.data.metadataMap.apiCallInterval||120))}},r.componentDidUpdate=function(){var e=r.state.data;e&&!(0,v.isLive)(r.state.items.contentType,e)&&clearInterval(r.interval)},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",null,this.helmet,this.state.data&&d.default.createElement(y.default,{api:this.state.data,page:this.state.items,env:this.state.env,faceoffTime:this.state.faceoffTime}))}},{key:"helmet",get:function(){var e=this.props.data.contentData[0],t=e.gist,n=void 0===t?{}:t,r=e.seo,a=void 0===r?{}:r;return d.default.createElement(h.Helmet,null,d.default.createElement("title",null,(a.title||n.title)+" | "+window.settings.site),d.default.createElement("meta",{name:"description",content:a.description||n.description}),a.keywords&&d.default.createElement("meta",{name:"keywords",content:a.keywords.join(",")}),d.default.createElement("meta",{property:"og:type",content:"article"}),d.default.createElement("meta",{property:"og:title",content:a.title||n.title}),d.default.createElement("meta",{property:"og:description",content:a.description||n.description}),d.default.createElement("meta",{property:"og:image",content:n.landscapeImageUrl||(0,l.default)(window.settings,"images.placeholderCover")}))}}]),t}(c.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(58),l=r(s),u=n(42),c=r(u),d=n(3),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(18),v=n(17),g=n(162),b=r(g),_=n(90),w=n(92),E=r(w),k=n(247),T=r(k),S=n(15),C=n(27),P=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hoverOver=function(e){e.persist(),(0,l.default)(function(e){var t=1.25;if(window.outerWidth>1025){var r=e.target.closest(".tray-item"),a=r.parentElement,i=r.dataset.index;if(a.style.transform="scale("+t+")",null===a.nextSibling&&null===a.previousSibling)return;if(null===a.nextSibling||(parseInt(i,10)+1)%n.props.slidesToScroll===0)return a.classList.add("overflow"),void Array.from(a.parentElement.children).forEach(function(e){parseInt(e.dataset.index,10)<i&&(e.style.transform="translate3d(-"+e.clientWidth*(t-1)+"px, 0, 0)")});Array.from(a.parentElement.children).forEach(function(e){parseInt(e.dataset.index,10)>i&&(e.style.transform="translate3d("+e.clientWidth*(t-1)+"px, 0, 0)")})}},100)(e)},n.handleHover=n.handleHover.bind(n),n.handleClick=n.handleClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleShareToggleClick=n.handleShareToggleClick.bind(n),n.removeFromQueue=n.removeFromQueue.bind(n),n.addToQueue=n.addToQueue.bind(n),n.state={hoverOverflow:!1,isFocused:!1},n}return o(t,e),p(t,[{key:"handleHover",value:function(){var e=this,t=this.el.getBoundingClientRect(),n=window.document.body.clientWidth;this.setState({hoverOverflow:n<t.right+t.width}),setTimeout(function(t){return e.fetchUserData()},0)}},{key:"handleClick",value:function(e){this.props.isEpisode?this.props.openEpisodeOverlay(e,this.props.index,this.props.season):this.clearSession()}},{key:"handleFocus",value:function(e){var t=this;e.persist(),setTimeout(function(){e.currentTarget.focus(),t.props.onFocus(t.props.index)},500)}},{key:"render",value:function(){var e=this,t=this.props.item,n=t.gist,r=[],a=(0,c.default)(t.tags,function(e){return"classDuration"===e.tagType});return t.tags.forEach(function(e){"equipment"===e.tagType&&r.push(e.title)}),"PERSON"===t.contentType?m.default.createElement(T.default,{item:t}):"SEASON_PASS"===t.contentType?m.default.createElement("a",{className:"video-tray-item",onClick:this.handleClick},m.default.createElement("div",{className:"image-and-details",style:{backgroundColor:n.background}},m.default.createElement("div",{className:"title-overlay"},m.default.createElement("span",null,n.title),m.default.createElement("div",{className:"purchase-season-cta site-background-color"},n.cta)))):m.default.createElement("div",{className:"tray-item","data-index":this.props.index,onMouseEnter:!this.props.noHover&&this.hoverOver,onMouseLeave:this.mouseLeave},m.default.createElement("a",{className:"video-tray-item "+(this.state.hoverOverflow?"overflow":"")+" "+this.props.thumbnailType,href:n.permalink,ref:function(t){return e.el=t},onClick:this.handleClick,onFocus:this.handleFocus,onMouseEnter:this.handleHover},m.default.createElement("div",{className:"image-and-details"},this.metaData,!this.props.noBadgeImage&&this.badge,m.default.createElement("div",{className:"image"},m.default.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?this.thumbnailImage:this.lowQualityImage,alt:n.title,className:"lazy","data-src":this.thumbnailImage}),"PERSON"!==n.contentType&&m.default.createElement("div",{className:"details"},a&&m.default.createElement("div",{className:"duration item"},a.title),n.primaryCategory&&n.primaryCategory.title&&m.default.createElement("div",{className:"primary item"},n.primaryCategory.title)),!this.props.noHover&&"PERSON"!==n.contentType&&m.default.createElement("div",{className:"hover-details"},n.scheduleStartDate&&m.default.createElement("div",{className:"day"},(0,y.format)(n.scheduleStartDate,"dddd h:mm A")),n.description&&m.default.createElement("div",{className:"desc"},(0,_.ellipsifyByWord)(n.description,20,10)),r.length>0&&m.default.createElement("div",{className:"tag-list"},m.default.createElement("p",{className:"equipment-title"},"SET-UP"),m.default.createElement("p",{className:"equipments"},r.join(","))))),n.scheduleStartDate&&m.default.createElement("div",{className:"event-time"},(0,y.format)(n.scheduleStartDate,"h:mm A")))))}},{key:"mouseLeave",value:function(e){e.persist(),(0,l.default)(function(e){var t=e.target.closest(".tray-item");Array.from(t.parentElement.parentElement.children).forEach(function(e){e.classList.remove("overflow"),e.style.transform="translate3d(0, 0, 0)"})},100)(e)}},{key:"handleShareToggleClick",value:function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:this.props.item.gist};E.default.open(t)}},{key:"clearSession",value:function(){window.sessionStorage.removeItem("rvid")}},{key:"fetchUserData",value:function(){var e=this,t=this.props.item.gist.id;(0,S.getUser)(function(n){return n?void(0,C.getVideoInfo)(t,function(t){e.setState({userData:t})}):void e.setState({userData:null})})}},{key:"addToQueue",value:function(){var e=this,t=this.props.item,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=r.id,s=r.contentType;(0,C.addToQueue)(o,s,function(t){var n={contentId:r.id,contentTitle:r.title,contentType:r.contentType,playbackType:"Streamed",networkType:"WiFi"};i.forEach(function(e){"Director"===e.title.trim()&&(n.directorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"Starring"===e.title.trim()&&(n.actorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),(0,v.trackEvent)("Added to Watchlist",n),e.setState({isQueued:!0})})}},{key:"removeFromQueue",value:function(){var e=this,t=this.props.item,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=r.id;(0,C.removeFromQueue)(o,function(t){var n={contentId:r.id,contentTitle:r.title,contentType:r.contentType,playbackType:"Streamed",networkType:"WiFi"};i.forEach(function(e){"Director"===e.title.trim()&&(n.directorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"Starring"===e.title.trim()&&(n.actorName=e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),(0,v.trackEvent)("Removed From Watchlist",n),e.setState({isQueued:!1})})}},{key:"thumbnailImage",get:function(){var e=this.props.maxWidth||400,t=this.props.item.gist,n="portrait"===this.props.thumbnailType?t.posterImageUrl||(0,f.default)(t.posterImage,"url")||(0,f.default)(this.props.item.images,"_3x4Image.secureUrl")||(0,f.default)(window.settings,"images.placeholderPoster"):t.videoImageUrl||(0,f.default)(t.videoImage,"url")||(0,f.default)(t,"landscapeImageUrl")||(0,f.default)(this.props.item.images,"_16x9Image.secureUrl")||(0,f.default)(t,'imageGist["_16x9"]')||(0,f.default)(window.settings,"images.placeholderCover");return"portrait"===this.props.thumbnailType?n+"?impolicy=resize&w="+e+"&h="+1.48*e:n+"?impolicy=resize&w="+e+"&h="+.5625*e}},{key:"lowQualityImage",get:function(){var e=this.props.item.gist,t="portrait"===this.props.thumbnailType?e.posterImageUrl||(0,f.default)(e.posterImage,"url")||(0,f.default)(window.settings,"images.placeholderPoster"):e.videoImageUrl||(0,f.default)(e.videoImage,"url")||(0,f.default)(e,"landscapeImageUrl")||(0,f.default)(e,'imageGist["_16x9"]')||(0,f.default)(window.settings,"images.placeholderCover");return t+"?impolicy=resize&w=20&h=20"}},{key:"badge",get:function(){var e="portrait"===this.props.thumbnailType?"_3x4":"_16x9",t=(0,f.default)(this.props.item,'gist.badgeImages["'+e+'"]');if(t)return m.default.createElement("img",{alt:"badge",src:t,className:"badge",role:"presentation"})}},{key:"metaData",get:function(){var e=(0,f.default)(this.props,"item.gist"),t=(0,f.default)(window.settings,"brand.metadata");if(e)return m.default.createElement("div",{className:"metadata"},t&&t.displayDuration&&e.runtime&&m.default.createElement("span",null,(0,b.default)(e.runtime)),t&&t.displayAuthor&&e.author&&m.default.createElement("span",null,e.author),t&&t.displayPublishDate&&e.publishDate&&m.default.createElement("span",null,(0,y.format)(e.publishDate,"MMM D")),"IMAGE"===e.contentType&&this.props.item.streamingInfo&&this.props.item.streamingInfo.photogalleryAssets.length>0&&m.default.createElement("span",null,m.default.createElement("ion",{className:"ion-camera"})," ",this.props.item.streamingInfo.photogalleryAssets.length," Photos"))}}]),t}(m.default.Component);e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(39),i=r(a),o=n(1),s=r(o),l=function(e){return s.default.createElement("div",{className:"netflix-tray"},s.default.createElement(i.default,Object.assign({},e,{netflix:!0})))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(18),m=n(266),y=r(m),v=n(17),g=n(162),b=r(g),_=n(617),w=(r(_),n(92)),E=r(w),k=n(247),T=r(k),S=n(15),C=n(27),P=n(487),O=r(P),N=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={hoverOverflow:!1,isFocused:!1},r.handleHover=function(){var e=r.el.getBoundingClientRect(),t=window.document.body.clientWidth;r.setState({hoverOverflow:t<e.right+e.width}),setTimeout(function(e){return r.fetchUserData()},0)},r.handleClick=function(e){var t=r.props||{},n=t.trayTitle,a=t.index,i=t.season,o=t.item;n&&(0,v.setPlaySourcePrefix)(n),r.props.isEpisode?r.props.openEpisodeOverlay(e,a,i,o):r.clearSession()},r.handleFocus=function(e){e.persist(),setTimeout(function(){e.currentTarget.focus(),r.props.onFocus(r.props.index)},500)},r.handleShareToggleClick=function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:r.props.item.gist};E.default.open(t)},r.addToQueue=function(){var e=r.props.item,t=e.gist,n=void 0===t?{}:t,a=e.creditBlocks,i=void 0===a?[]:a,o=e.categories,s=void 0===o?[]:o,l=n.id,u=n.contentType;(0,C.addToQueue)(l,u,function(e){s.push(n.primaryCategory);var t={contentId:n.id,contentTitle:n.title,contentType:"EPISODIC"===n.mediaType?"Episode":"Video",contentDuration:n.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),t.contentGenre=s.map(function(e){return e.title}).join(","),(0,v.trackEvent)("Added to Watchlist",t),r.setState({isQueued:!0})})},r.removeFromQueue=function(){var e=r.props.item,t=e.gist,n=void 0===t?{}:t,a=e.creditBlocks,i=void 0===a?[]:a,o=e.categories,s=void 0===o?[]:o,l=n.id;(0,C.removeFromQueue)(l,function(e){s.push(n.primaryCategory);var t={contentId:n.id,contentTitle:n.title,contentType:"EPISODIC"===n.mediaType?"Episode":"Video",contentDuration:n.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),t.contentGenre=s.map(function(e){return e.title}).join(","),(0,v.trackEvent)("Removed From Watchlist",t),r.setState({isQueued:!1})})},o=n,i(r,o)}return o(t,e),d(t,[{key:"clearSession",value:function(){window.sessionStorage.removeItem("rvid")}},{key:"fetchUserData",value:function(){var e=this,t=this.props.item.gist.id;(0,S.getUser)(function(n){return n?void(0,C.getVideoInfo)(t,function(t){e.setState({userData:t})}):void e.setState({userData:null})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.index,a=n.gist||{},i=n.creditBlocks||a&&a.creditBlocks||null,o=i&&(0,y.default)(i),s=(0,c.default)(this.props,"refItems[0].contentType",""),u=!a.free&&n.pricing&&null!==n.pricing.purchase&&"PURCHASED"!==n.purchaseStatus&&this.props.isEpisode;return"PERSON"===n.contentType?p.default.createElement(T.default,{item:n}):"SEASON_PASS"===n.contentType?p.default.createElement("a",{className:"video-tray-item",onClick:this.handleClick},p.default.createElement("div",{className:"image-and-details",style:{backgroundColor:a.background}},p.default.createElement("div",{className:"title-overlay"},p.default.createElement("div",{className:"purchase-season-cta site-background-color"},a.cta)))):p.default.createElement("div",null,p.default.createElement("a",{className:"video-tray-item "+(this.state.hoverOverflow?"overflow":""),href:a.permalink,ref:function(t){return e.el=t},onClick:this.handleClick,onFocus:this.handleFocus,onMouseEnter:this.handleHover},p.default.createElement("div",{className:"image-and-details"},this.metaData,this.badge,"VIDEO"===a.contentType&&p.default.createElement("div",{className:"play-button site-color"},p.default.createElement("i",{className:"ion-ios-play"})),!this.props.noBoxshadow&&p.default.createElement("div",{className:"shadow-box"}),p.default.createElement("div",{className:"image"},p.default.createElement("img",{src:this.props.clickNext||!this.props.lazyLoad?this.thumbnailImage:this.lowQualityImage,alt:a.title,className:"lazy","data-src":this.thumbnailImage}),"VIDEO"===a.contentType&&p.default.createElement("div",{className:"queue-bar site-color",onClick:function(e){e.preventDefault(),e.stopPropagation()}},this.state.userData&&p.default.createElement(O.default,{isAdded:this.state.userData.isQueued,remove:this.removeFromQueue,add:this.addToQueue}))),this.props.infoHover&&p.default.createElement("div",{className:"details"},p.default.createElement("div",{className:"title"},a.title),a.year&&a.runtime&&p.default.createElement("div",{className:"info"},a.year," | ",Math.ceil(a.runtime/60),"mins"),n.parentalRating&&p.default.createElement("div",{className:"rated"},n.parentalRating.replace("_","")),a.primaryCategory&&p.default.createElement("div",{className:"category"},a.primaryCategory.title),p.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a.description||""}}),p.default.createElement("div",{className:"crew"},o&&(0,l.default)(o,function(e,t){return p.default.createElement("div",{key:t},p.default.createElement("span",{className:"role"},e.title),p.default.createElement("span",{className:"people"}," ",(0,l.default)(e.credits,"title").slice(0,3).join(", ")))}))),void 0!==a.watchHistory&&a.watchHistory.watchedPercentage>0?p.default.createElement("progress",{className:"site-color",value:a.watchHistory.watchedPercentage,max:"100"}):""),p.default.createElement("div",{className:"title-container"},p.default.createElement("div",{className:"title"},this.props.isEpisode&&!this.props.noEpisodeNumber&&p.default.createElement("span",{className:"episode-number"},"SEASON_PASS"===s?r:r+1)," ",a.title),this.props.sharing&&p.default.createElement("div",{className:"share"},p.default.createElement("div",{className:"share-toggle__icon",onClick:this.handleShareToggleClick},p.default.createElement("span",{className:"small-rect"}),p.default.createElement("span",{className:"small-rect"}),p.default.createElement("span",{className:"small-rect"})))),u&&p.default.createElement("div",{className:"purchase-episode-cta site-background-color"},"Purchase Episode")))}},{key:"thumbnailImage",get:function(){var e=this.props.maxWidth||400,t=this.props.item.gist,n="portrait"===this.props.thumbnailType?t.posterImageUrl||(0,c.default)(t.posterImage,"url")||(0,c.default)(this.props.item.images,"_3x4Image.secureUrl")||(0,c.default)(this.props.item.gist,'imageGist["_3x4"]')||(0,c.default)(window.settings,"images.placeholderPoster"):t.videoImageUrl||(0,c.default)(t.videoImage,"url")||(0,c.default)(t,"landscapeImageUrl")||(0,c.default)(this.props.item.images,"_16x9Image.secureUrl")||(0,c.default)(this.props.item.gist,'imageGist["_16x9"]')||(0,c.default)(window.settings,"images.placeholderCover");return"portrait"===this.props.thumbnailType?n+"?impolicy=resize&w="+e+"&h="+1.48*e:n+"?impolicy=resize&w="+e+"&h="+.5625*e}},{key:"lowQualityImage",get:function(){var e=this.props.item.gist,t="portrait"===this.props.thumbnailType?e.posterImageUrl||(0,c.default)(e.posterImage,"url")||(0,c.default)(window.settings,"images.placeholderPoster"):e.videoImageUrl||(0,c.default)(e.videoImage,"url")||(0,c.default)(e,"landscapeImageUrl")||(0,c.default)(window.settings,"images.placeholderCover");return t+"?impolicy=resize&w=20&h=20"}},{key:"badge",get:function(){var e="portrait"===this.props.thumbnailType?"_3x4":"_16x9",t=(0,c.default)(this.props.item,'gist.badgeImages["'+e+'"]');if(t)return p.default.createElement("img",{alt:"badge",src:t,className:"badge",role:"presentation"})}},{key:"metaData",get:function(){var e=(0,c.default)(this.props,"item.gist"),t=(0,c.default)(window.settings,"brand.metadata");if(e)return p.default.createElement("div",{className:"metadata"},t&&t.displayDuration&&e.runtime&&p.default.createElement("span",null,(0,b.default)(e.runtime)),t&&t.displayAuthor&&e.author&&p.default.createElement("span",null,e.author),t&&t.displayPublishDate&&e.publishDate&&p.default.createElement("span",null,(0,h.format)(e.publishDate,"MMM D")),"IMAGE"===e.contentType&&this.props.item.streamingInfo&&this.props.item.streamingInfo.photogalleryAssets.length>0&&p.default.createElement("span",null,p.default.createElement("ion",{className:"ion-camera"})," ",this.props.item.streamingInfo.photogalleryAssets.length," Photos"))}}]),t}(p.default.Component);e.exports=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(596),d=r(c),f=n(587),p=r(f),h=n(591),m=r(h),y=n(123),v=r(y),g=n(595),b=r(g),_=n(60),w=n(8),E=r(w),k=n(12),T=r(k);n(849);var S=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({models:(0,_.fetchModels)()})}},{key:"render",value:function(){return!window.SERVER_SIDE_RENDERING&&u.default.createElement(v.default,{user:this.state.user},u.default.createElement("div",{className:"user-page"},u.default.createElement(d.default,{user:this.state.user}),"SVOD"===this.state.models&&u.default.createElement(m.default,{user:this.state.user}),"TVOD"===this.state.models&&u.default.createElement(b.default,{user:this.state.user}),u.default.createElement(p.default,{user:this.state.user})))}}]),t}(u.default.Component);(0,T.default)(S,function(e){return{user:e.user}},E.default),e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(248),s=r(o);n(854);var l=function(e){var t=e.data,n=t.title,r=t.rawText;return i.default.createElement(s.default,{className:"webFrame02",title:n,iframeSrc:r})};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,s.getToken)().then(function(n){return(0,u.default)({method:"DELETE",url:window.settings.apiBaseUrl+"/user/device/desync",headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey},params:{site:window.settings.internalName,deviceId:e,platform:t}}).then(function(e){console.log("Removed device")}).catch(function(e){console.log("Could not remove device")})})}function i(e){return(0,s.getToken)().then(function(t){return(0,u.default)({method:"GET",url:window.settings.apiBaseUrl+"/user/device?site="+window.settings.internalName+"&userId="+e,headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey}}).then(function(e){return e&&e.data&&e.data.Items||[]})})}function o(e,t){return(0,s.getToken)().then(function(n){return(0,u.default)({method:"POST",url:window.settings.apiBaseUrl+"/user/device/sync?site="+window.settings.internalName,headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey},data:{activationCode:""+e,userId:""+t}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.removeDevice=a,t.fetchDevices=i,t.activateDevice=o;var s=n(20),l=n(6),u=r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return(0,o.getToken)().then(function(n){return l.default.get(window.settings.apiBaseUrl+"/entitlement/video/status?id="+e,{headers:{Authorization:n},withCredentials:!0}).then(function(e){return t(e)}).catch(function(e){throw e.response.data})})}function i(e){return(0,o.getToken)().then(function(t){return(0,l.default)({url:"/signature/entitlement",baseURL:window.settings.apiBaseUrl,params:{site:window.settings.internalName,id:e},method:"GET",headers:{Authorization:t,"x-api-key":window.settings.baseAPIKey},withCredentials:!0}).then(function(e){})})}Object.defineProperty(t,"__esModule",{value:!0}),t.getVideo=a,t.getVideoSignature=i;var o=n(20),s=n(6),l=r(s)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.user&&e.user.isSubscribed,a=!!t.purchaseStatus,i=e.pricingOptions&&e.pricingOptions.type||t.pricing&&t.pricing.type||n||window.settings.serviceType,o={FREE:!0,AVOD:!0,TVOD:a,SVOD:r,PPV:a,"SVOD+TVOD":a||r,"SVOD+PPV":a||r};return o[i]};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(70),i=r(a),o=n(43),s=r(o),l=n(141),u=r(l),c=["directors","director","actor","actors","starring","cast","lyrics","music director"];e.exports=function(e){if(!e)return[];var t=(0,u.default)(e,function(e,t){return!!e.title&&(e.title=e.title.trim().toLowerCase(),(0,s.default)(c,e.title))});return(0,i.default)(t,"title")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=[].slice.call(document.querySelectorAll(".lazy"));setTimeout(function(){e.forEach(function(t){t.getBoundingClientRect().top<=window.innerHeight&&t.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(t).display&&t.classList.contains("lazy")&&(t.src=t.dataset.src,t.classList.remove("lazy"),e=e.filter(function(e){return e!==t}))})},200)};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){e.style.height=e.children[0].clientHeight+"px"};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(142),i=r(a),o=function(e){var t=0,n=document.querySelectorAll(".sticky-header");(0,i.default)(n,function(n){return e.children[0]!==n&&void(t+=n.clientHeight)}),e.getBoundingClientRect().top-t<=0?(e.style.height=e.clientHeight+"px",e.children[0].classList.add("sticky-header"),e.children[0].style.top=t+"px"):e.children[0].classList.remove("sticky-header")};t.default=o},function(e,t){"use strict";function n(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/webOS/i)}function r(){return navigator.vendor.match(/Apple/i)}function a(){return navigator.userAgent.match(/Android/i)}function i(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)}e.exports={isMobile:n,isSafari:r,isAndroid:a,isIOS:i}},function(e,t,n){"use strict";function r(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:null},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{args:null});return{show:e.type,args:e.args}}var a=n(119),i=(0,a.createStore)(r);e.exports={store:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e.payments;return l.default.createElement("div",{className:"we-accept"},"We accept",l.default.createElement("div",{className:"accepted-cards"},(0,o.default)(v,function(e,t){return l.default.createElement("img",{alt:t,src:e,role:"presentation",key:t})})))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=r(i);t.default=a;var s=n(1),l=r(s),u=n(181),c=r(u),d=n(182),f=r(d),p=n(183),h=r(p),m=n(184),y=r(m);n(861);var v={amex:c.default,discover:f.default,mastercard:h.default,visa:y.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(472),d=r(c),f=n(942),p=r(f);n(862);var h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("form",{onSubmit:function(t){return e.onStripeSubmit(t)},className:"popup-stripe-cc-form"},u.default.createElement(d.default,{buttonCaption:"Subscribe Now!",formRef:function(t){return e.stripeFormEl=t},onReady:function(t){return e.onStripeReady(t)},apiKey:((window.settings.paymentProviders||{}).stripe||{}).apiKey,leftContent:u.default.createElement("div",{className:"verification-banner"},u.default.createElement("img",{alt:"Verification",src:p.default,role:"presentation"})),rightContent:this.stripeButtons()}))}},{key:"stripeButtons",value:function(){var e=this;return u.default.createElement("div",null,this.state.alert&&u.default.createElement("div",{className:"alert"},this.state.alert),u.default.createElement("input",{className:"button continue-button"+(this.state.stripeIsReady?" cta":"")+(this.state.stripeLoading?" disabled":""),type:"submit",ref:function(t){return e.submitButton=t},value:this.state.stripeLoading?"...":this.props.submitCaption||"Continue"}))}},{key:"onStripeReady",value:function(e){this.setState({stripeIsReady:e})}},{key:"onStripeSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({stripeLoading:!0}),this.stripeFormEl.createToken().then(function(e){return t.props.onToken(e)}).catch(function(e){t.alert((((e||{}).response||{}).data||{}).message||e.message||"There was an error processing your request."),t.setState({stripeLoading:!1})})}},{key:"alert",value:function(e){var t=this;this.setState({alert:e}),setTimeout(function(e){return t.setState({alert:null})},4e3)}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(43),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(18),p=n(618),h=n(40),m=n(15),y=n(55),v=r(y),g=n(273),b=r(g),_=n(470),w=r(_),E=n(459),k=r(E),T=n(272),S=r(T),C=n(91),P=r(C),O=n(276);n(863);var N=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={form:null},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.props.paymentHandler?this.setState({form:this.props.paymentHandler}):(0,P.default)().then(function(t){var n=null,r=window.settings.paymentProviders;for(n in r)if((0,l.default)(r[n].country,t))return e.setState({form:n});for(n in r)if((0,l.default)(r[n].country,"ROW"))return e.setState({form:n});return console.log("Error. Payment ROW not found. Defaulting to stripe"),e.setState({form:"stripe"})})}},{key:"render",value:function(){if(!this.state.form)return null;var e=new URL(document.location).searchParams,t=e&&e.get("paymentMethod"),n=t||this.state.form;switch(n){case"ccavenue":return this.ccavForm();case"sslcommerz":return this.sslForm();default:return this.stripeForm()}}},{key:"offerCodeEl",value:function(){var e=this;return d.default.createElement("div",{className:"offer-code"},d.default.createElement("i",{className:"ion-ios-pricetags-outline"}),this.props.offerCode?d.default.createElement("span",null,'Offer Code "',this.props.offerCode.displayName||this.props.offerCode.name,'" Applied '):d.default.createElement("span",null,"No Code Applied"),d.default.createElement("span",{className:"link-button site-color site-border-color",onClick:function(t){return e.props.editPromo()}},"Edit"))}},{key:"stripeForm",value:function(){var e=this,t=this.props,n=t.plan,r=t.editPlan,a=n.planDetails&&n.planDetails[0];return d.default.createElement("div",{className:"billing stripe-container"},d.default.createElement("div",{className:"plan-title"
},n.name,r&&d.default.createElement("span",{className:"link-button site-color site-border-color edit-plan",onClick:function(){return r()}},"Edit")),d.default.createElement("div",{className:"plan-details"},n.description),this.props.firstPayment&&d.default.createElement("div",{className:"desc"},d.default.createElement("span",{className:"first-payment"},"First Payment"),d.default.createElement("span",{className:"price"},"",(0,v.default)(a.recurringPaymentCurrencyCode),this.props.firstPayment.amount.toFixed(2))," (+ tax if req'd) on ",(0,f.format)(this.props.firstPayment.nextBillingDate,"MM/DD/YYYY")),d.default.createElement(S.default,null),this.offerCodeEl(),d.default.createElement(b.default,{onToken:function(t){if(e.props.updateCard){var n=e.props.user;return n.billingInfo={stripeToken:t},(0,m.updateUserCard)(n),(0,m.updateStripePayment)(t).then(function(n){e.props.purchase?e.props.success(n):((0,h.subscribe)({plan:e.props.plan,billingToken:{stripeToken:t},offerCode:e.props.offerCode&&e.props.offerCode.code}),e.props.success(n))})}return(0,p.getBillingToken)(t).then(function(t){var n=e.props.user;n.billingInfo=t,(0,m.updateUserCard)(n),e.props.purchase?e.props.saveToken(t):(0,h.subscribe)({plan:e.props.plan,billingToken:t,offerCode:e.props.offerCode&&e.props.offerCode.code})}).then(function(t){return e.props.success(t)})},submitCaption:this.props.updateCard?"Save Changes":this.props.buttonCaption||"Subscribe Now"}),(0,O.getLegalTexts)(window.settings.internalName,this.props.subscription,this.props.plan.option,window.settings.companyName))}},{key:"ccavForm",value:function(){var e=this,t=this.props.plan,n=t.planDetails[0];return d.default.createElement("div",{className:"billing ccav-container"},d.default.createElement("div",{className:"plan-info"},d.default.createElement("div",{className:"title"},t.name,d.default.createElement("span",{className:"link-button site-color site-border-color edit-plan",onClick:function(){return e.props.editPlan()}},"Edit")),d.default.createElement("div",{className:"desc"},d.default.createElement("span",{className:"first-payment"},"First Payment"),"",(0,v.default)(n.recurringPaymentCurrencyCode),n.recurringPaymentAmount," on ",(0,f.format)(Date.now(),"MM/DD/YYYY")),d.default.createElement("div",{className:"offer-code"},d.default.createElement("i",{className:"ion-ios-pricetags-outline"}),this.props.offerCode?d.default.createElement("span",null,'Offer Code "',this.props.offerCode.displayName||this.props.offerCode.name,'" Applied '):d.default.createElement("span",null,"Have a code?"),d.default.createElement("span",{className:"link-button site-color site-border-color",onClick:function(t){return e.props.editPromo()}},this.props.offerCode?"Edit":"Add"))),d.default.createElement(k.default,{plan:t}))}},{key:"sslForm",value:function(){var e=this,t=this.props.plan,n=t.planDetails[0];return d.default.createElement("div",{className:"billing ccav-container"},d.default.createElement("div",{className:"plan-info"},d.default.createElement("div",{className:"title"},t.name,d.default.createElement("span",{className:"link-button site-color site-border-color edit-plan",onClick:function(){return e.props.editPlan()}},"Edit")),d.default.createElement("div",{className:"desc"},d.default.createElement("span",{className:"first-payment"},"First Payment"),"",(0,v.default)(n.recurringPaymentCurrencyCode),n.recurringPaymentAmount," on ",(0,f.format)(Date.now(),"MM/DD/YYYY")),d.default.createElement("div",{className:"offer-code"},d.default.createElement("i",{className:"ion-ios-pricetags-outline"}),this.props.offerCode?d.default.createElement("span",null,'Offer Code "',this.props.offerCode.displayName||this.props.offerCode.name,'" Applied '):d.default.createElement("span",null,"Have a code?"),d.default.createElement("span",{className:"link-button site-color site-border-color",onClick:function(t){return e.props.editPromo()}},this.props.offerCode?"Edit":"Add"))),d.default.createElement(w.default,{plan:t}))}}]),t}(d.default.Component);e.exports=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(6),d=r(c),f=n(91),p=r(f),h=n(17),m=n(8),y=r(m),v=n(20),g=n(77);n(864);var b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:null,signupCheckbox:!0,signupFormValid:!1,emailConsent:{},emailChecked:null},n.toggleEmailCheck=n.toggleEmailCheck.bind(n),n}return o(t,e),s(t,[{key:"toggleEmailCheck",value:function(e){this.setState({emailChecked:e.target.checked})}},{key:"fetchEmailConsent",value:function(){var e=this,t="https://d2tipiv4cs5bo1.cloudfront.net/emailconsent/"+window.settings.internalName+".json";return d.default.get(t).then(function(t){var n=t.data;return(0,p.default)().then(function(t){var r=n[t]||n.default||{};e.setState({emailConsent:r,emailChecked:r.checked})})}).catch(function(e){})}},{key:"renderEmailConsent",value:function(){var e=this.state,t=e.emailConsent,n=e.emailChecked;if(t.visible)return u.default.createElement("div",{className:"email-consent"},u.default.createElement("input",{onChange:this.toggleEmailCheck,type:"checkbox",checked:n}),u.default.createElement("div",{className:"copy",dangerouslySetInnerHTML:{__html:t.copy}}))}},{key:"componentDidMount",value:function(){this.fetchEmailConsent(),window.sessionStorage.getItem("offer")&&this.checkOfferValidity()}},{key:"shouldDisableLogin",value:function(){return!this.state.signupFormValid}},{key:"render",value:function(){return u.default.createElement("div",{className:"signup"},this.selectedPlanT(),this.props.user?this.continueAsUserT():this.signupFormT())}},{key:"selectedPlanT",value:function(){var e=this,t=this.props,n=t.plan,r=t.editPlan;if(n){var a=(window.settings.customerService||{}).phone,i=a&&a.replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"$1-$2-$3-$4");return u.default.createElement("div",{className:"selected-plan"},u.default.createElement("div",{className:"title"},n.name,r&&u.default.createElement("span",{className:"link-button site-color site-border-color edit-plan",onClick:function(t){return e.props.editPlan()}},"Edit")),u.default.createElement("div",{className:"desc"},r?"Plan Details":""),u.default.createElement("div",{className:"details"},n.description),u.default.createElement("div",{className:"bottom"},this.offerCodeEl(),u.default.createElement("div",{className:"company"},window.settings.companyName," ",i&&"|"+i)))}}},{key:"offerCodeEl",value:function(){var e=this;return u.default.createElement("div",{className:"code"},this.props.offerCode?u.default.createElement("div",null,"Offer Code Applied - ",this.props.offerCode.displayName||this.props.offerCode.name,u.default.createElement("br",null),u.default.createElement("span",{className:"remove-code-button link-button site-color site-border-color",onClick:function(t){return e.props.removeCode()}}," Remove ")):this.props.editingOfferCode?u.default.createElement("div",null,u.default.createElement("input",{autoFocus:!0,className:"offer-code-input",onKeyPress:function(t){"Enter"===t.key&&e.onClickApply()},ref:function(t){return e.codeInput=t}}),"",u.default.createElement("span",{className:"apply link-button site-color site-border-color"+(this.state.postingValidate?" processing":""),onClick:function(t){return e.onClickApply(t)}},"Apply Code"),"",u.default.createElement("span",{className:"remove-code-button link-button site-color site-border-color",onClick:function(t){return e.props.editOfferCode(!1)}}," Cancel ")):u.default.createElement("div",null,"Have a Promo Code?",u.default.createElement("span",{className:"add-code-button link-button site-color site-border-color",onClick:function(t){return e.props.editOfferCode(!0)}},"Add")),u.default.createElement("div",{className:"error"},this.state.offerCodeError," "))}},{key:"checkOfferValidity",value:function(){this.props.editOfferCode(!0),this.onClickApply()}},{key:"onClickApply",value:function(e){var t=this,n=this.codeInput&&this.codeInput.value.toUpperCase()||window.sessionStorage.getItem("offer").toUpperCase();return this.setState({postingValidate:!0}),(0,v.getToken)().then(function(e){return(0,d.default)({method:"POST",url:window.settings.apiBaseUrl+"/subscription/offer/validate",params:{site:window.settings.internalName},data:{offerCode:n,subscriptionPlanId:t.props.plan.id,site:window.settings.internalName},headers:{Authorization:e,"x-api-key":window.settings.baseAPIKey}})}).then(function(e,r){t.props.addCode({displayName:e.data.displayName,name:e.data.name,code:n})}).catch(function(e){var n=(((e||{}).response||{}).data||{}).message;t.setState(Object.assign({},t.state,{offerCodeError:n||"There was an error validing your code."})),setTimeout(function(e){return t.setState(Object.assign({},t.state,{offerCodeError:null}))},2e3)}).then(function(e){t.setState({postingValidate:!1})})}},{key:"continueAsUserT",value:function(){var e=this;return u.default.createElement("div",{className:"continue"},u.default.createElement("div",{className:"title"},"Currently Logged In"),u.default.createElement("div",{className:"desc"},"Continue with this user?"),u.default.createElement("div",{className:"userInfo"},u.default.createElement("div",{className:"head"}," Logged in as "),u.default.createElement("div",{className:"name"}," ",this.props.user.name),u.default.createElement("div",{className:"email"},this.props.user.email," ")),u.default.createElement("div",{className:"terms"},"By continuing, you agree to our ",u.default.createElement("a",{href:"/tos",target:"_blank",className:"link-button site-color site-border-color"},"Terms of Service"),"and ",u.default.createElement("a",{href:"/privacy-policy",target:"_blank",className:"link-button site-color site-border-color"},"Privacy Policy"),"."),u.default.createElement("div",{className:"continue-button button cta",onClick:function(t){return e.props.continue()}},"Continue"))}},{key:"signupFormT",value:function(){var e=this,t=this.shouldDisableLogin();return u.default.createElement("form",{className:"signup-form",onSubmit:function(t){return e.signup(t)}},u.default.createElement("div",{className:"title"},"Create Account/Password"),u.default.createElement("div",{className:"desc"},"Account Information"),u.default.createElement("div",{className:"inputs"},u.default.createElement("input",{type:"email",placeholder:"EMAIL",ref:function(t){e.emailInput=t},onKeyUp:function(t){return e.onInputChange(t)},onFocus:function(t){return e.onInputChange(t)},required:!0}),u.default.createElement("input",{type:"text",placeholder:"NAME",ref:function(t){e.nameInput=t},onKeyUp:function(t){return e.onInputChange(t)},onFocus:function(t){return e.onInputChange(t)},required:!0}),u.default.createElement("div",{className:"password-input"},u.default.createElement("input",{type:this.state.showPassword?"text":"password",placeholder:"PASSWORD",ref:function(t){e.passwordInput=t},onKeyUp:function(t){return e.onInputChange(t)},onFocus:function(t){return e.onInputChange(t)},required:!0}),u.default.createElement("span",{className:"show-password-button",onClick:function(t){e.setState(Object.assign({},e.state,{showPassword:!e.state.showPassword}))}},u.default.createElement("i",{className:"ion-eye"})))),u.default.createElement("div",{className:"terms-text"},"By creating an account, you agree to our ",u.default.createElement("a",{href:"/tos",target:"_blank",className:"link-button site-color site-border-color"},"Terms of Service"),"and ",u.default.createElement("a",{href:"/privacy-policy",target:"_blank",className:"link-button site-color site-border-color"},"Privacy Policy"),"."),this.renderEmailConsent(),u.default.createElement("input",{className:"button "+(t?" inactive":"site-background-color")+(this.state.signupProcessing?" processing":""),type:"submit",value:"SIGN UP"}),u.default.createElement("div",{className:"error-text site-color"+(this.state.signupAlertText?" shown":"")},this.state.signupAlertText),u.default.createElement("div",{className:"already-account"},"Already have an account? ",u.default.createElement("span",{className:"link-button site-color site-border-color",onClick:function(t){return e.props.goToLogin()}},"Sign In")))}},{key:"onInputChange",value:function(e){var t=document.getElementsByClassName("error-text"),n=e.currentTarget.type.indexOf("password")!==-1,r=this.passwordInput.value;if(r.length>0){if(t[0].classList.add("shown"),r.length<5||r.length>50)return t[0].textContent="Password should be between 5 and 50 characters",this.setState(Object.assign({},this.state,{signupFormValid:!1})),!1;t[0].textContent="",t[0].classList.remove("shown")}this.setState(Object.assign({},this.state,{signupFormValid:this.nameInput.value&&this.emailInput.value&&this.passwordInput.value})),n||t[0].classList.remove("shown")}},{key:"enableButton",value:function(){var e=this.nameInput.value&&this.emailInput.value&&this.passwordValid;e!==this.state.signupFormValid&&this.setState(Object.assign({},this.state,{signupFormValid:e}))}},{key:"signup",value:function(e){var t=this;e.preventDefault(),this.setState({signupProcessing:!0,signupAlertText:""});var n={name:this.nameInput.value,email:this.emailInput.value,password:this.passwordInput.value,emailConsent:this.state.emailConsent.visible?this.state.emailChecked:void 0};y.default.dispatch((0,g.signup)(n)).then(function(e){t.setState({signupProcessing:!1});var n=t.props.user;(0,h.addUserProfile)("Site",{Name:n.name,Email:n.email,Identity:n.userId,"User Status":n.isSubscribed?"Subscribed":"Registered and Never Subscribed"}),(0,h.trackEvent)("Signed Up",{registrationType:"Native"}),setTimeout(function(e){return t.props.continue()},200)}).catch(function(e){t.setState({signupProcessing:!1});var n=(((e||{}).response||{}).data||{}).error||"There was an error processing your request.";t.signupAlert(n)})}},{key:"signupAlert",value:function(e){this.setState(Object.assign({},this.state,{signupAlert:!0,signupAlertText:e}))}}]),t}(u.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLegalTexts=void 0;var a=n(1),i=r(a);t.getLegalTexts=function(e,t,n,r){return"supercrosslive"===e?i.default.createElement("div",{className:"legal-texts"},i.default.createElement("p",null,"Content available to ONLY outside USA + territories/possessions"),i.default.createElement("p",null,"*Subscription Period ends June 30, 2019. Full Season subscriptions are subject to auto-renewal")):"bingeflix"===e||"qa-bingeflix"===e?i.default.createElement("div",{className:"legal-texts"},"By clicking the Verify and Purchase button, you agree to our Terms of Service and Privacy Policy. High speed internet required. Must be 18 or older to create account. Valid in the U.S. and Canada. Not compatible with all devices. Compatible devices, offers and entitlements subject to change at any time. Go to movieSPREE.com for more information including system requirements and access restrictions. Requires account setup."):i.default.createElement("div",{className:"legal-texts"},"By clicking the ",t?"Subscribe Now":"Verify and "+n," button, you agree to our Terms of Service and Privacy Policy. You agree that your subscription will begin immediately and that you will not have a statutory right to cancel and receive a refund. This will not affect your  free trial period and you can still cancel at any time by logging into 'settings' and following the cancellation process. You agree that when your free trial ends, ",r," will automatically continue your subscription and charge the subscription fee to your payment method on a monthly (or yearly) basis until you cancel. Cancellation will be effective at the end of each billing period. No refunds or credits are given for partially used periods.")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(77),d=n(40),f=n(18),p=n(55),h=r(p),m=n(276),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.subscribe=function(){(0,d.subscribe)({plan:n.props.plan,billingToken:n.props.user.billingInfo,offerCode:n.props.offerCode&&n.props.offerCode.code}).then(function(e){n.setState({loading:!1}),n.props.success(e)}).catch(function(e){n.setState({loading:!1,error:e.response.data.error}),setTimeout(function(e){return n.setState(Object.assign({},n.state,{error:null}))},5e3)})},n.state={},n}return o(t,e),s(t,[{key:"setMonthFormat",value:function(e){return e>9?e:"0"+e}},{key:"setYearFormat",value:function(e){return(""+e).substr(2)}},{key:"purchase",value:function(){var e=this,t={};t.amount=this.props.plan.price,t.transaction="stripe",t.stripeToken=this.props.user.billingInfo.stripeToken.card.id,t.contentRequest={contentType:this.props.content.gist.contentType,contentId:this.props.plan.contentID?this.props.plan.contentID:this.props.plan.videoID,videoIds:this.props.plan.videoID,seasonId:this.props.plan.seasonId,seriesId:this.props.plan.seriesId,videoQuality:"HD"},t.purchaseType=this.props.plan.option.toUpperCase(),t.platform="web_browser",t.siteId=window.settings.siteId,t.currencyCode="USD",t.requestId=this.props.user.billingInfo.requestId,t.userId=this.props.user.userId,t.email=this.props.user.email,t.site=window.settings.internalName,(0,c.transaction)(t).then(function(t){e.props.success(e.props.plan.videoID),e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1,error:t.response.data.error}),setTimeout(function(t){return e.setState(Object.assign({},e.state,{error:null}))},5e3)})}},{key:"render",value:function(){var e=this;if(this.props.user&&this.props.user.billingInfo){var t=this.props.plan.price||this.props.plan.planDetails&&this.props.plan.planDetails[0].recurringPaymentAmount,n=this.props.plan,r=n.planDetails&&n.planDetails[0],a=this.props.user&&this.props.user.billingInfo.stripeToken.card;return u.default.createElement("div",{className:"verify-info"},u.default.createElement("div",{className:"header"},this.props.subscription?u.default.createElement("p",null,"Verify your information"):u.default.createElement("p",null,"Verify your information and ",this.props.plan.option),this.props.firstPayment?u.default.createElement("div",{className:"desc"},u.default.createElement("span",{className:"first-payment"},"First Payment"),u.default.createElement("span",{className:"price"},"",(0,h.default)(r.recurringPaymentCurrencyCode),this.props.firstPayment.amount.toFixed(2))," (+ tax if req'd) on ",(0,f.format)(this.props.firstPayment.nextBillingDate,"MM/DD/YYYY")):u.default.createElement("p",null,u.default.createElement("span",{className:"bold"},"Payment:")," $",t.toFixed(2)," will be charged when you click ",this.props.subscription?"Subscribe Now":"Verify and "+this.props.plan.option),u.default.createElement("p",null,"Please verify your information before proceeding.")),u.default.createElement("div",{className:"verify-details"},u.default.createElement("div",{className:"verify-details-left"},u.default.createElement("p",null,u.default.createElement("span",{className:"bold"},this.props.subscription?"Subscribe":""+this.props.plan.option)," ($",t.toFixed(2),")")),u.default.createElement("div",{className:"verify-details-center"},u.default.createElement("p",null,u.default.createElement("span",{className:"bold"},"BILLING ADDRESS")),u.default.createElement("p",null,this.props.user.name),u.default.createElement("p",null,a.address_line1," ",a.address_line2),u.default.createElement("p",null,a.address_city,", ",a.address_country,", ",a.address_zip)),u.default.createElement("div",{className:"verify-details-right"},u.default.createElement("p",{className:"bold card-edit"},"CARD DETAILS ",u.default.createElement("span",{className:"edit",onClick:this.props.edit},"EDIT")),u.default.createElement("p",null,"************",a.last4),u.default.createElement("p",null,u.default.createElement("span",{className:"bold"},"Expires:")," ",this.setMonthFormat(a.exp_month),"/",this.setYearFormat(a.exp_year)))),(0,m.getLegalTexts)(window.settings.internalName,this.props.subscription,this.props.plan.option,window.settings.companyName),u.default.createElement("div",{className:"verify-button overlay-button site-background-color",onClick:function(){e.state.loading||(e.props.subscription?e.subscribe():e.purchase(),e.setState({loading:!0}))}},this.state.loading?u.default.createElement("p",{className:"processing"},"Processing",u.default.createElement("span",null,"."),u.default.createElement("span",null,"."),u.default.createElement("span",null,".")):u.default.createElement("button",null,this.props.subscription?"Subscribe Now":"verify and "+this.props.plan.option)),this.state.error&&u.default.createElement("p",{className:"site-color error"},this.state.error))}return u.default.createElement("div",null)}}]),t}(u.default.Component);e.exports=y},271,function(e,t,n){e.exports=n(647)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68,68,68,68,68,68,68,,,,function(e,t,n){e.exports=n.p+"static/media/app-store.d5e4c8fa.png"},function(e,t,n){e.exports=n.p+"static/media/avatar.d09db942.png"},function(e,t,n){e.exports=n.p+"static/media/default_mll.ad5bc99e.jpg"},function(e,t,n){e.exports=n.p+"static/media/google-play.35ce427f.png"},,,,,,function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},,,,,function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||a(e,t,n)}var a=n(188),i=n(82);e.exports=r},function(e,t,n){function r(e,t,n,o,s){var l=-1,u=e.length;for(n||(n=i),s||(s=[]);++l<u;){var c=e[l];t>0&&n(c)?t>1?r(c,t-1,n,o,s):a(s,c):o||(s[s.length]=c)}return s}var a=n(187),i=n(1026);e.exports=r},,,,,function(e,t,n){function r(e,t,n){var r=-1;t=a(t.length?t:[c],l(i));var d=o(e,function(e,n,i){var o=a(t,function(t){return t(e)});return{criteria:o,index:++r,value:e}});return s(d,function(e,t){return u(e,t,n)})}var a=n(80),i=n(41),o=n(347),s=n(990),l=n(100),u=n(1e3),c=n(104);e.exports=r},,function(e,t,n){function r(e,t,n,r){if(!s(e))return e;t=i(t,e);for(var u=-1,c=t.length,d=c-1,f=e;null!=f&&++u<c;){var p=l(t[u]),h=n;if(u!=d){var m=f[p];h=r?r(m,p,f):void 0,void 0===h&&(h=s(m)?m:o(t[u+1])?[]:{})}a(f,p,h),f=f[p]}return e}var a=n(133),i=n(136),o=n(139),s=n(23),l=n(103);e.exports=r},function(e,t,n){function r(e,t){return a(t,function(t){return e[t]})}var a=n(80);e.exports=r},,,,,,,,,,,function(e,t){function n(e){return c.test(e)}var r="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=a+i+o,l="\\ufe0e\\ufe0f",u="\\u200d",c=RegExp("["+u+r+s+l+"]");e.exports=n},,,,,function(e,t){var n=/<%=([\s\S]+?)%>/g;e.exports=n},function(e,t){function n(e,t){return"__proto__"==t?void 0:e[t]}e.exports=n},,,function(e,t,n){function r(e,t,n){e=s(e),t=i(t);var r=e.length;n=void 0===n?r:a(o(n),0,r);var l=n;return n-=t.length,n>=0&&e.slice(n,l)==t}var a=n(961),i=n(193),o=n(110),s=n(71);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var l=null==n?0:o(n);return l<0&&(l=s(r+l,0)),a(e,i(t,3),l)}var a=n(189),i=n(41),o=n(110),s=Math.max;e.exports=r},function(e,t,n){function r(e){if(!i(e))return!1;var t=a(e);return t==l||t==s||"string"==typeof e.message&&"string"==typeof e.name&&!o(e)}var a=n(56),i=n(36),o=n(107),s="[object DOMException]",l="[object Error]";e.exports=r},,function(e,t,n){var r=n(1008),a=r("round");e.exports=a},,,function(e,t,n){function r(e,t){return e&&e.length?i(e,a(t,2)):[]}var a=n(41),i=n(992);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(42),l=r(s),u=n(7),c=r(u),d=n(3),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(28),v=n(485),g=r(v),b=n(12),_=r(b),w=n(616),E=r(w),k=n(611),T=r(k),S=n(76),C=r(S),P=n(624),O=r(P),N=n(646),A=r(N),j=n(623),I=r(j),x=n(463),M=r(x),D=n(462),L=r(D),R=n(458),B=r(R),U=n(17),F=n(267),V=r(F),H=n(466),W=r(H);n(785);var z=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.showCookieConsent=e.shouldShowCookieConsent(),e}return o(t,e),p(t,[{key:"shouldShowCookieConsent",value:function(){return!window.settings.internalName.includes("hoichoi")}},{key:"componentDidMount",value:function(){(0,T.default)(),(0,E.default)((0,f.default)(this.state,"page.data.id")),setTimeout(V.default,2e3),document.addEventListener("scroll",V.default),window.addEventListener("resize",V.default),window.addEventListener("orientationchange",V.default)}},{key:"triggerPageViewd",value:function(e){var t=this.state.page.data||{},n=t.title;if(n){var r=null;switch(document.referrer&&document.referrer!==window.location.href&&(r=document.referrer),n){case"Video Page":e=n+"-"+e.split("|")[0];break;case"Show Page":e=n+"-"+e.split("|")[0];break;default:e=n}(0,U.trackEvent)("Page Viewed",{pageName:e,pageURL:window.location.href,lastActivityName:r,platform:"Web"})}}},{key:"render",value:function(){var e=this,t=this.state.page.data||{},n=t.title,r=t.layouts,a=t.modules,i=t.route,o=["app","appcms",window.SERVER_SIDE_RENDERING?"server-side-rendering":""],s=function(t){return(0,f.default)(e.state.page.data,t)};return m.default.createElement("div",{className:o.join(" ")},m.default.createElement(W.default,null),m.default.createElement(y.Helmet,{onChangeClientState:function(t){return e.triggerPageViewd(t.title)}},m.default.createElement("title",null,s("metadataMap.title")?s("metadataMap.title"):n+" | "+window.settings.site),m.default.createElement("meta",{name:"description",content:s("metadataMap.description")}),m.default.createElement("meta",{name:"keywords",content:s("metadataMap.keywords")}),m.default.createElement("meta",{property:"og:type",content:"website"}),m.default.createElement("meta",{property:"og:url",content:window.location.href}),m.default.createElement("meta",{property:"og:title",content:s("metadataMap.title")?s("metadataMap.title"):n}),m.default.createElement("meta",{property:"og:description",content:s("metadataMap.description")}),m.default.createElement("meta",{property:"og:site_name",content:window.settings.site}),m.default.createElement("meta",{property:"og:image",content:(0,f.default)(window.settings,"images.desktopLogo")}),m.default.createElement("link",{rel:"icon",type:"image/png",sizes:"16x16",href:(0,f.default)(window.settings,"images.favicon.16")}),m.default.createElement("link",{rel:"icon",type:"image/png",sizes:"32x32",href:(0,f.default)(window.settings,"images.favicon.32")}),m.default.createElement("link",{rel:"shortcut icon",href:(0,f.default)(window.settings,"images.favicon.ico")}),m.default.createElement("link",{rel:"canonical",href:"https://"+window.settings.domainName+i})),window.settings.skinAdTag&&m.default.createElement("div",{id:"viewlift-site-skin"}),m.default.createElement("div",{role:"main",className:"modules "+(window.settings.skinAdTag&&"skin-ad")},this.loaded&&window.settings.features.app_download_suggestion&&m.default.createElement(B.default,null),this.loaded&&this.renderModules(r,a)),this.showCookieConsent&&m.default.createElement(L.default,null),this.errored&&m.default.createElement(I.default,{error:this.state.page.error}),this.loaded&&m.default.createElement(O.default,null),this.loaded&&m.default.createElement(A.default,null))}},{key:"renderModules",value:function(e,t){return(0,c.default)(e,function(e){var n=e.id,r=e.view,a=(0,l.default)(t,{id:n}),i=g.default.mmap[r];return i?m.default.createElement(M.default,{key:n},m.default.createElement("div",{className:"module"+(a&&null!==a.metadataMap&&a.metadataMap&&a.metadataMap.align?" "+a.metadataMap.align:"")},m.default.createElement(i,{data:a,layout:e}))):console.log("Module not found for '"+r+"' id '"+n+"'")})}},{key:"errored",get:function(){return null!=this.state.page.error&&!this.state.page.data}},{key:"loaded",get:function(){return this.state.page.data&&!this.state.page.error}}]),t}(m.default.Component);(0,_.default)(z,function(e){return{page:e}},C.default),e.exports=z},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(328),f=r(d),p=n(331),h=r(p),m=n(270),y=r(m),v=n(47),g=r(v),b=n(24);n(760);var _=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={AppStoreSuggestion:1,isAndroid:!1,isIos:!1},r.addCookie=function(){var e=new Date(Date.now()+864e5);g.default.set("AppStoreSuggestion",1,{expires:e}),r.setState({AppStoreSuggestion:1})},a=n,o(r,a)}return s(t,e),l(t,[{key:"componentDidMount",value:function(){
this.setState({AppStoreSuggestion:parseInt(g.default.get("AppStoreSuggestion"),10),isAndroid:y.default.isAndroid(),isIos:y.default.isIOS()})}},{key:"render",value:function(){var e,t=window.settings.features,n=t.google_playstore_url,r=t.itunes_store_url,i=this.state,o=i.isIos,s=i.isAndroid,l=i.AppStoreSuggestion,u=(e={},a(e,this.state.isAndroid,{icon:h.default,url:n}),a(e,this.state.isIos,{icon:f.default,url:r}),e);return 1===l||!s&&!o?c.default.createElement("div",null):c.default.createElement("div",{className:"appstore-suggestion",tabIndex:"1",role:"dialog","aria-describedby":"appstore-suggestion-desc","aria-label":"appstoreSuggestion"},c.default.createElement("div",{id:"appstore-suggestion-desc",className:"desc"},c.default.createElement("span",null,"Would you like to view this in the app"),c.default.createElement("span",null,c.default.createElement("a",{target:"_blank",tabIndex:"1",href:u.url},c.default.createElement("img",{src:u.icon,alt:"store Icon"})))),c.default.createElement("div",{"aria-label":"",tabIndex:"1",className:"close-button",onKeyPress:this.addCookie,onClick:this.addCookie},c.default.createElement(b.CloseIcon,null)))}}]),t}(u.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(6),d=r(c),f=n(8),p=r(f),h=n(20);n(788);var m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"ccav-ns2 ccav-form"},u.default.createElement("h3",{className:"title"},"Please enter your phone Number."),u.default.createElement("input",{type:"text",className:"phone-number-input",ref:function(t){return e.phoneInputEl=t},placeholder:"Phone Number"}),this.state.error&&u.default.createElement("div",{className:"error"},this.state.error),u.default.createElement("div",{className:"button fat cta"+(this.state.processing?" processing":""),onClick:this.onProceed.bind(this)},"Checkout"),u.default.createElement("p",{className:"warning"},"** It might take upto an hour to activate the subscription."))}},{key:"onProceed",value:function(){var e=this,t=this.props.plan,n=p.default.getState().user,r=t.planDetails[0],a=this.phoneInputEl.value;return Number(a)&&10===a.length?(this.setState({processing:!0}),(0,h.getToken)().then(function(e){return(0,d.default)({url:window.settings.apiBaseUrl+"/ccavenue/ccavenue/rsakey",method:"POST",params:{site:window.settings.internalName},headers:{Authorization:e,"Content-Type":"application/json"},data:{site:window.settings.internalName,userId:n.userId,planId:t.id}})}).then(function(e){return e.data}).then(function(i){return e.submitForm(window.settings.apiBaseUrl+"/ccavenue/ccavenue/webhandler",{planId:t.id,tid:(new Date).getTime(),order_id:i.orderId,merchant_id:i.merchantId,amount:r.recurringPaymentAmount,currency:r.recurringPaymentCurrencyCode,billing_email:n.email,billing_name:n.name,billing_tel:a,billing_country:"India",merchant_param1:window.settings.internalName,merchant_param2:n.userId,merchant_param3:t.id,merchant_param4:"web_browser",merchant_param5:btoa(window.location.href),redirect_url:window.settings.apiBaseUrl+"/ccavenue/ccavenue/callback",cancel_url:window.settings.apiBaseUrl+"/ccavenue/ccavenue/callback"})}).catch(function(t){e.alert(t.message||"There was an error processing your request"),console.error(t)}).then(function(t){return e.setState({processing:!1})})):this.alert("Please enter a 10 digit phone number.")}},{key:"alert",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(e){return t.setState({error:null})},2e3)}},{key:"submitForm",value:function(e,t){var n=document.createElement("form");n.setAttribute("method","post"),n.setAttribute("action",e);for(var r in t)if(t.hasOwnProperty(r)){var a=document.createElement("input");a.setAttribute("type","hidden"),a.setAttribute("name",r),a.setAttribute("value",t[r]),n.appendChild(a)}document.body.appendChild(n),n.submit()}}]),t}(u.default.Component);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={daysArray:[],eventPopup:!1,eventPopupStyles:{},currentEvent:{},overflow:!1},n.makeArray=n.makeArray.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({daysInMonth:new Date(this.props.year,this.props.month+1,0).getDate(),daysArray:this.makeArray(new Date(this.props.year,this.props.month+1,0).getDate(),this.props.year,this.props.month)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({daysInMonth:new Date(e.year,e.month+1,0).getDate(),daysArray:this.makeArray(new Date(e.year,e.month+1,0).getDate(),e.year,e.month)})}},{key:"renderDay",value:function(e,t){var n=this,r=this.props.selectedDate===e&&this.props.selectedMonth===this.props.month&&this.props.selectedYear===this.props.year,a=this.props.events?this.props.events.filter(function(t){return t.year===n.props.year&&t.month===n.props.month&&t.date===e&&(t.gist.type===n.props.type||"All Events"===n.props.type)}):[];return a.length>0?u.default.createElement("div",{className:"day events"+(r?" current-day":""),key:t,"data-day":e,"data-events":JSON.stringify(a),onClick:function(e){return(n.props.tabletView||n.props.mobile)&&n.props.displayEventsMobile(e)}},e,a.map(function(e,t){return u.default.createElement("div",{className:"event-title","data-event":JSON.stringify(e),onClick:function(e){return n.props.toggleDisplayEvents(e)},key:t},u.default.createElement("p",null,e.gist.title),e.gist.imageGist._1x1&&u.default.createElement("img",{alt:e.gist.title,className:"event-img",src:e.gist.imageGist._1x1}))})):u.default.createElement("div",{className:"day"+(r?" current-day":"")+(""===e?" empty":""),key:t},e)}},{key:"makeArray",value:function(e,t,n){var r=[],a=new Date;a.setDate(1),a.setMonth(n),a.setFullYear(t);for(var i=a.getDay(),o=0;o<e;o++)r.push(o+1);if(0!==i)for(var s=0;s<i;s++)r.unshift("");else r.filter(function(e){return""!==e});return r}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"calendar-days"},this.state.daysArray.map(function(t,n){return e.renderDay(t,n)}))}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=function(e){return i.default.createElement("div",{className:"calendar-header"},i.default.createElement("div",{className:"prev",onClick:e.prev},i.default.createElement("ion",{className:"ion-chevron-left"})),i.default.createElement("div",{className:"current"},e.month," ",e.year),i.default.createElement("div",{className:"next",onClick:e.next},i.default.createElement("ion",{className:"ion-chevron-right"})))};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(47),d=r(c),f=n(24);n(762);var p=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={cc:1},e.addCookie=e.addCookie.bind(e),e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.setState({cc:parseInt(d.default.get("cc"),10)})}},{key:"render",value:function(){return 1===this.state.cc?u.default.createElement("div",null):u.default.createElement("div",{className:"cookie-consent",tabIndex:"1",role:"dialog","aria-describedby":"cookie-consent-desc","aria-label":"cookieconsent"},u.default.createElement("div",{id:"cookie-consent-desc",className:"desc"},"This website uses cookies to ensure you get the best experience on our website. ",u.default.createElement("a",{target:"_blank",tabIndex:"1",href:"/privacy-policy"},"Learn more")),u.default.createElement("div",{"aria-label":"Accept cookie consent",tabIndex:"1",className:"close-button",onKeyPress:this.addCookie,onClick:this.addCookie},u.default.createElement(f.CloseIcon,null)))}},{key:"addCookie",value:function(){d.default.set("cc",1,{expires:365}),this.setState({cc:1})}}]),t}(u.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return o(t,e),s(t,[{key:"unstable_handleError",value:function(e){console.error(e),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?u.default.createElement("div",null):this.props.children}}]),t}(l.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.data.contentData;return u.default.createElement("div",{className:"headlines"},e.map(function(e){return u.default.createElement("a",{href:e.gist.permalink,className:"headline-link",key:e.id},e.gist.title)}))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"onClick",value:function(e,t){this.props.onClickMiddleware?this.props.onClickMiddleware(e,t,this.onClickNext.bind(this,e,t)):this.onClickNext(e,t)}},{key:"onClickNext",value:function(e,t){}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.onClickMiddleware,u.default.createElement("a",Object.assign({onClick:this.onClick.bind(this,this.props.href)},e),this.props.children)}}]),t}(u.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=void 0;return(0,f.default)(document.querySelectorAll(".module"),function(t){if(!t.querySelector("nav")){var n=l(t);return n?(e=n,!1):void 0}}),e}function l(e){var t=e.querySelectorAll('a, button, iframe, [tabindex="0"]');return(0,c.default)(t,function(e){return!e.classList.contains("hide")&&e.tabIndex>-1})}var u=n(42),c=r(u),d=n(32),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h);n(763);var y=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.skipToMainContent=e.skipToMainContent.bind(e),e}return o(t,e),p(t,[{key:"skipToMainContent",value:function(){this.firstMainContentNode||(this.firstMainContentNode=s());try{this.firstMainContentNode.focus()}catch(e){console.error("No actionable elements in main content")}}},{key:"render",value:function(){return m.default.createElement("button",{className:"skip-nav",onClick:this.skipToMainContent},"Skip to main content")}}]),t}(m.default.PureComponent);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={selected:0},o=n,i(r,o)}return o(t,e),s(t,[{key:"selected",value:function(e){this.setState({selected:e})}},{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);e&&e.get("overlay")&&!this.props.subscriptionPlans&&d.default.purchase(this.props.items[this.state.selected],this.props.content,this.props.watchNow,this.props.purchased)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"overlay-video"},u.default.createElement("div",{className:"overlay-title"},u.default.createElement("span",null,this.props.title)),this.props.warning&&u.default.createElement("div",{className:"warning"},this.props.warning),u.default.createElement("div",{className:"overlay-body"},u.default.createElement("div",{className:"overlay-body-plans"},this.props.items.map(function(t,n){return u.default.createElement("div",{className:"plan "+(e.state.selected===n?"selected":"")+" ",onClick:function(t){return e.selected(n)},key:n},u.default.createElement("div",{className:"side-bar"}),u.default.createElement("div",{className:"plan-body"},u.default.createElement("p",{className:"title"},t.name)))})),u.default.createElement("div",{className:"overlay-button site-background-color",onClick:function(){return e.props.subscriptionPlans?d.default.createSubscription(e.props.items[e.state.selected].id):d.default.purchase(e.props.items[e.state.selected],e.props.content,e.props.watchNow,e.props.purchased)}},u.default.createElement("button",null,"Continue ",this.props.warning?"Anyways":""))))}}]),t}(l.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(55),d=r(c);n(793);var f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.plan,n=t.planDetails[0];return u.default.createElement("div",{className:"planbox site-background-color",onClick:function(t){return e.props.onClick()}},u.default.createElement("div",{className:"planbox__header"},u.default.createElement("div",{className:"planbox__header__value__container"},n.displayStrikeThroughPrice&&n.strikeThroughPrice?u.default.createElement("div",{className:"planbox__header__strike-through"},(0,d.default)(n.recurringPaymentCurrencyCode),n.strikeThroughPrice," "):"",u.default.createElement("div",{className:"planbox__header__value"},u.default.createElement("span",{className:"price"}," ",(0,d.default)(n.recurringPaymentCurrencyCode),n.recurringPaymentAmount," *"))),u.default.createElement("div",{className:"planbox__header__cycle"}," ",t.name)),u.default.createElement("div",{className:"planbox__details"},t.description))}}]),t}(u.default.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(794);var c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showRemovePrompt:!1},n.togglePrompt=n.togglePrompt.bind(n),n}return o(t,e),s(t,[{key:"togglePrompt",value:function(){this.setState({showRemovePrompt:!this.state.showRemovePrompt})}},{key:"render",value:function(){var e=this,t=this.props.device,n=t.deviceId,r=t.deviceName,a=this.state.showRemovePrompt;return u.default.createElement("div",{className:"user-device-row"},u.default.createElement("span",{className:"device-name"},r),u.default.createElement("button",{className:"device-remove "+(a?"hide":""),onClick:this.togglePrompt},u.default.createElement("ion",{className:"ion-trash-b"})),u.default.createElement("div",{className:"device-remove-prompt "+(a?"":"hide")},u.default.createElement("span",{className:"desktop-prompt"},"Are you sure?"),u.default.createElement("button",{className:"device-remove-final",onClick:function(){return e.props.removeDevice(n,r)}},"Remove"),u.default.createElement("button",{onClick:this.togglePrompt},"Cancel")))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(6),d=r(c),f=n(20);n(796);var p=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.onProceed=n.onProceed.bind(n),n}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"sslcom-form"},u.default.createElement("h3",{className:"title"},"Please enter your phone Number."),u.default.createElement("input",{type:"text",className:"phone-number-input",ref:function(t){return e.phoneInputEl=t},placeholder:"Phone Number"}),this.state.error&&u.default.createElement("div",{className:"error"},this.state.error),u.default.createElement("div",{className:"button fat cta"+(this.state.processing?" processing":""),onClick:this.onProceed},"Checkout"),u.default.createElement("p",{className:"warning"},"** It might take upto an hour to activate the subscription."))}},{key:"onProceed",value:function(){var e=this,t=this.props.plan,n=this.phoneInputEl.value;return Number(n)&&10===n.length?(this.setState({processing:!0}),(0,f.getToken)().then(function(e){return(0,d.default)({url:window.settings.apiBaseUrl+"/sslcommerz/initiate-payment",method:"POST",params:{site:window.settings.internalName},headers:{Authorization:e,"Content-Type":"application/json","x-api-key":window.settings.baseAPIKey},data:{planId:t.id,phone:n}})}).then(function(e){return e.data}).then(function(t){t.GatewayPageURL?window.location.href=t.GatewayPageURL:e.alert("There was an error processing your request")}).catch(function(t){e.alert(t.message||"There was an error processing your request"),console.error(t)}).then(function(t){return e.setState({processing:!1})})):this.alert("Please enter a 10 digit phone number.")}},{key:"alert",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(e){return t.setState({error:null})},2e3)}}]),t}(u.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(32),l=r(s),u=n(377),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f);n(798);var h=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={scrolledToBottom:!1},e}return o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("scroll",(0,c.default)(function(){e.fireOnScrollHandlers(),e.setState({scrolledToBottom:e.isUserScrolledToBottom()})},200)),this.setState({scrolledToBottom:this.isUserScrolledToBottom()})}},{key:"isUserScrolledToBottom",value:function(){return window.innerHeight+Math.ceil(window.pageYOffset+1)>=document.body.scrollHeight}},{key:"componentDidUpdate",value:function(){this.state.scrolledToBottom&&this.fireOnBottomHandlers()}},{key:"fireOnBottomHandlers",value:function(){var e=this.props.onBottom;if(e)return"function"==typeof e?void e():Array.isArray(e)?void(0,l.default)(e,function(e){return e()}):void 0}},{key:"fireOnScrollHandlers",value:function(){var e=this.props.onScroll;if(e)return"function"==typeof e?void e():Array.isArray(e)?void(0,l.default)(e,function(e){return e()}):void 0}},{key:"render",value:function(){return p.default.createElement("div",{className:this.classNames},this.props.children)}},{key:"classNames",get:function(){var e="sticky-footer";return e+=this.state.scrolledToBottom?" floor":" sticky",this.props.className&&(e+=" "+this.props.className),e}}]),t}(p.default.PureComponent);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(42),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f),h=n(423);n(799);var m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.getAddress=n.getAddress.bind(n),n}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.state.valid&&!this.state.focused,n="dark"===this.props.theme&&t?"#fff":"#000";return d.default.createElement("div",{className:"stripe-input"+(this.state.valid?" ticked site-color-before":"")+(t?" complete":"")},d.default.createElement("div",{className:"title"},this.props.title),d.default.createElement(this.props.El,{style:this.props.style||{base:{fontSize:"12px",color:n}},onChange:function(t){return e.onChange(t)},onFocus:function(t){return e.setState(Object.assign({},e.state,{focused:!0}))},onBlur:function(t){return e.onBlur()},placeholder:this.props.title||"",elementRef:function(t){e.inputEl=t}}))}},{key:"onChange",value:function(e){this.state.valid!==e.complete&&this.setState(Object.assign({},this.state,{valid:e.complete})),this.props.done(e.complete,e),"postalCode"===this.inputEl._componentName&&e.value.length>3&&this.getAddress(e.value)}},{key:"onBlur",value:function(){this.setState(Object.assign({},this.state,{focused:!1})),"postalCode"===this.inputEl._componentName&&(this.state.city&&this.setValue(document.querySelector('input[name="address_city"]'),this.state.city),this.state.country&&this.setValue(document.querySelector('input[name="address_country"]'),this.state.country),this.state.state&&this.setValue(document.querySelector('input[name="address_state"]'),this.state.state))}},{key:"setValue",value:function(e,t){var n;(n=e.parentElement.classList).add.apply(n,["complete","ticked","site-color-before"]),e.value=t||""}},{key:"getAddress",value:function(e){var t=this;p.default.get("https://maps.googleapis.com/maps/api/geocode/json?components=postal_code:"+e+"&key=AIzaSyCjULGl-zqfHzWOrRwHpanj3q7uXHM4OPY").then(function(e){if(e.data.results.length>0){var n=e.data.results[0];t.setState({country:(0,l.default)(n.address_components,function(e){return e.types.includes("country")}).short_name,state:(0,l.default)(n.address_components,function(e){return e.types.includes("administrative_area_level_1")}).short_name,city:(0,l.default)(n.address_components,function(e){return e.types.includes("locality")||e.types.includes("postal_town")}).short_name})}})}}]),t}(d.default.Component),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));
return n.state={},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.state.valid,n=!this.state.focused&&this.state.valid;return d.default.createElement("div",{className:"our-input"+(n?" complete":"")+(t?" ticked site-color-before":"")},d.default.createElement("div",{className:"title"},this.props.title),d.default.createElement("input",{type:"text",ref:function(t){e.el=t,e.props.elementRef(t)},onChange:function(t){return e.onChange(t)},onFocus:function(t){return e.setState(Object.assign({},e.state,{focused:!0}))},onBlur:function(t){return e.setState(Object.assign({},e.state,{focused:!1}))},placeholder:this.props.title,name:this.props.name}))}},{key:"onChange",value:function(e){var t=!!this.el.value;this.state.valid!==t&&this.setState(Object.assign({},this.state,{valid:t})),this.props.done(t)}}]),t}(d.default.Component),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.formRef&&n.props.formRef(n),n.state={isReady:!1},n}return o(t,e),u(t,[{key:"render",value:function(){return"row"===this.props.layout?d.default.createElement("div",{className:"cc-form "+this.props.theme+" row-layout"},this.ccForm(),this.addressForm()):d.default.createElement("div",{className:"cc-form "+this.props.theme},d.default.createElement("div",{className:"left-form"},d.default.createElement("div",{className:"title"}," Billing Address"),this.addressForm()),d.default.createElement("div",{className:"right-form"},d.default.createElement("div",{className:"title"}," Card Details"),this.ccForm()))}},{key:"addressForm",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement(y,{title:"Name on card",done:function(t){return e.setReady("name",t)},elementRef:function(t){e.nameInput=t}}),d.default.createElement(y,{title:"Street Address",done:function(t){return e.setReady("address",t)},elementRef:function(t){e.addressInput=t}}),d.default.createElement("div",{className:"zip-city"},d.default.createElement(m,{theme:this.props.theme,El:h.PostalCodeElement,style:this.props.stripeElStyle,done:function(t){e.setReady("zip",t)},title:"ZIP Code"}),d.default.createElement(y,{title:"City",done:function(t){e.setReady(null,t)},elementRef:function(t){e.cityInput=t},name:"address_city"})),d.default.createElement("div",{className:"state-country"},d.default.createElement(y,{title:"State",done:function(t){e.setReady(null,t)},elementRef:function(t){e.stateInput=t},name:"address_state"}),d.default.createElement(y,{title:"Country",elementRef:function(t){e.countryInput=t},done:function(t){e.setReady(null,t)},name:"address_country"})),this.props.leftContent)}},{key:"ccForm",value:function(){var e=this;return d.default.createElement("div",null,d.default.createElement(m,{theme:this.props.theme,style:this.props.stripeElStyle,El:h.CardNumberElement,title:"Card Number",done:function(t){return e.setReady("number",t)}}),d.default.createElement("div",{className:"exp-cvc"},d.default.createElement(m,{theme:this.props.theme,El:h.CardExpiryElement,style:this.props.stripeElStyle,title:"Expiration MM/YY",done:function(t){return e.setReady("expiry",t)}}),d.default.createElement(m,{theme:this.props.theme,style:this.props.stripeElStyle,El:h.CardCVCElement,title:"CVC",done:function(t){return e.setReady("cvc",t)}})),this.props.rightContent)}},{key:"setReady",value:function(e,t){var n=this.readySet=this.readySet||new Set;null!==e&&(t?n.add(e):n.delete(e));var r=6===n.size&&""!==this.cityInput.value&&""!==this.stateInput.value&&""!==this.countryInput.value&&""!==this.nameInput.value;r!==this.state.isReady&&(this.props.onReady&&this.props.onReady(r),this.setState(Object.assign({},this.state,{isReady:r})))}},{key:"createToken",value:function(){return this.props.stripe.createToken({name:this.nameInput.value,address_line1:this.addressInput.value,address_city:this.cityInput.value,address_state:this.stateInput.value,address_country:this.countryInput.value}).then(function(e){if(e.error)throw new Error(e.error.message||"Error!");return e.token})}}]),t}(d.default.Component),g=(0,h.injectStripe)(v),b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return d.default.createElement(h.StripeProvider,{apiKey:this.props.apiKey},d.default.createElement(h.Elements,null,d.default.createElement(g,{theme:this.props.theme||"dark",layout:this.props.layout,formRef:function(t){return e.props.formRef(t)},stripeElStyle:this.props.stripeElStyle,onReady:this.props.onReady,leftContent:this.props.leftContent,rightContent:this.props.rightContent})))}}]),t}(d.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"vjs-embed",onClick:this.props.vjsComponent.options_.cb},u.default.createElement("p",null,"Embed"))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(208),c=r(u),d=n(378),f=r(d),p=n(32),h=r(p),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),v=r(y),g=n(17),b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.player=e.vjsComponent.player_,n.changeRes=n.changeRes.bind(n),n.enableAllResolutions=n.enableAllResolutions.bind(n),n.state={resolutionsLoaded:!1,autoResolution:!0,selectedResHeight:null},n}return o(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this;this.player.one("loadeddata",function(){e.setState({resolutionsLoaded:!0})})}},{key:"enableSelectedResOnly",value:function(e){(0,h.default)(this.resolutions,function(t){t.enabled(t.height===e)})}},{key:"changeRes",value:function(e){var t=this;this.state.selectedResHeight!==e.height&&((0,g.trackEvent)("Player BitRate changed",{quality:e.height,watchSource:"Web"}),this.setState({resolutionsLoaded:!1,autoResolution:!1,selectedResHeight:e.height}),this.reloadPlayer(),this.player.one("loadeddata",function(){t.enableSelectedResOnly(e.height),t.setState({resolutionsLoaded:!0})}))}},{key:"reloadPlayer",value:function(){var e=this.player.currentTime();this.player.src(this.player.tech_.sourceHandler_.source_),this.player.load(),this.player.play(),this.props.vjsComponent.options_.isLiveStream||this.player.currentTime(e)}},{key:"enableAllResolutions",value:function(){this.state.autoResolution||((0,h.default)(this.resolutions,function(e){e.enabled(!0)}),this.setState({autoResolution:!0,selectedResHeight:null}))}},{key:"renderResolutions",value:function(){var e=this,t=(0,l.default)(this.resolutions,function(t){return v.default.createElement("li",{key:t.id,onClick:function(){e.changeRes(t)}},t.height+"p")});return t.push(v.default.createElement("li",{key:"auto",onClick:this.enableAllResolutions},"Auto")),t}},{key:"renderCurrentRes",value:function(){return this.state.autoResolution?"Auto":this.state.selectedResHeight?this.state.selectedResHeight:void 0}},{key:"render",value:function(){return v.default.createElement("div",{className:"vjs-control vjs-resolution"},v.default.createElement("div",{className:"current-resolution"},this.renderCurrentRes()),v.default.createElement("ul",{className:"vjs-resolution-menu"},this.state.resolutionsLoaded&&this.renderResolutions()))}},{key:"resolutions",get:function(){var e=this.player.tech_.hls&&(0,f.default)(this.player.tech_.hls.representations(),"height"),t=(0,c.default)(e,"height","desc");return t}}]),t}(v.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(208),l=r(s),u=n(1080),c=r(u),d=n(32),f=r(d),p=n(7),h=r(p),m=n(42),y=r(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(1),b=r(g),_=n(17),w={"180p":200,"240p":500,"360p":900,"480p":1500,"720p":3e3,"1080p":5e3},E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.player=e.vjsComponent.player_,n.assets=e.vjsComponent.options_.assets,n.assetsToShow=n.filterMp4Assets(n.assets),n.changeRes=n.changeRes.bind(n),n.state={currentResolution:n.currentResolution},n}return o(t,e),v(t,[{key:"changeRes",value:function(e){var t=this;if(e.renditionValue.slice(1)!==this.state.currentResolution){(0,_.trackEvent)("Player BitRate changed",{quality:e.renditionValue.slice(1),watchSource:"Web"}),this.setState({currentResolution:e.renditionValue.slice(1)});var n=this.player.currentTime();this.player.src(e.url),this.player.load(),this.player.play(),this.player.one("timeupdate",function(){t.player.currentTime(n)})}}},{key:"renderResolutions",value:function(){var e=this;return(0,h.default)(this.assetsToShow,function(t,n){return b.default.createElement("li",{key:n,onClick:function(){return e.changeRes(t)}},t.renditionValue.slice(1))})}},{key:"filterMp4Assets",value:function(e){var t=this,n=[];return(0,f.default)(e,function(e){var r=(0,y.default)(n,{renditionValue:e.renditionValue});r?t.diffFromIdealBitrate(r)>t.diffFromIdealBitrate(e)&&((0,c.default)(n,r),n.push(e)):n.push(e)}),this.sortAssetsByDescendingRes(n)}},{key:"diffFromIdealBitrate",value:function(e){return Math.abs(e.bitrate-w[e.renditionValue.slice(1)])}},{key:"sortAssetsByDescendingRes",value:function(e){return(0,l.default)(e,function(e){return e.renditionValue.slice(1,e.renditionValue.length-1)},"desc")}},{key:"render",value:function(){return b.default.createElement("div",{className:"vjs-control vjs-resolution"},b.default.createElement("div",{className:"current-resolution"},this.state.currentResolution),b.default.createElement("ul",{className:"vjs-resolution-menu"},this.renderResolutions()))}},{key:"currentResolution",get:function(){var e=(0,y.default)(this.assets,{url:this.player.tech_.options_.source.src});return e.renditionValue.slice(1)}}]),t}(b.default.Component);e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(124),d=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.rewind=e.rewind.bind(e),e}return o(t,e),s(t,[{key:"rewind",value:function(){var e=this.props.vjsComponent.player(),t=e.currentTime(),n=t<=15?0:t-15;e.currentTime(n)}},{key:"render",value:function(){return u.default.createElement("div",{className:"vjs-control vjs-rewind",onClick:this.rewind},u.default.createElement(c.RewindSvg,null))}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a,i){i("object"===r(t)&&"undefined"!=typeof e?n(88):a.videojs)}(void 0,function(e){e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentSourceType="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=this.vjsPlayer.currentTime(),t=1e3*(e-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete());for(var e in this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(e,10)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseInt(e,10)||this.vjsPlayer.height()},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},t.prototype.getPlayerId=function(){return this.vjsPlayer.id()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdLog=function(e){var t=e.getAdData(),n=void 0!==t.adError?t.adError.getMessage():void 0;this.vjsPlayer.trigger({type:"adslog",data:{AdError:n,AdEvent:e}})},t.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.contentSourceType=this.vjsPlayer.currentType(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.h5Player.src!=this.contentSource&&(this.vjsPlayer.autoplay(!1),this.vjsPlayer.src({src:this.contentSource,type:this.contentSourceType})),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e,t){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),t?this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this)):this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0),this.vjsPlayer.play()},t.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var n=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,this.controller.getSettings().showCountdown===!1&&(this.showCountdown=!1),this.createAdContainer()};n.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},n.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},n.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},n.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},n.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},n.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},n.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},n.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},n.prototype.updateAdUi=function(e,t,n,r,a){var i=Math.floor(t/60),o=Math.floor(t%60);o.toString().length<2&&(o="0"+o);var s=": ";a>1&&(s=" ("+r+" "+this.controller.getSettings().adLabelNofN+" "+a+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+i+":"+o;var l=e/n,u=100*l;this.progressDiv.style.width=u+"%"},n.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},n.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},n.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},n.prototype.onMouseMove=function(e){this.changeVolume(e)},n.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},n.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},n.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},n.prototype.onAdError=function(){this.adContainerDiv.style.display="none"},n.prototype.onAdBreakStart=function(e){this.adContainerDiv.style.display="block";var t=e.getAd().getContentType();"application/javascript"!==t||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},n.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&(this.adContainerDiv.style.display="none"),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},n.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"},n.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},n.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},n.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},n.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.fullscreenDiv.style.display="block",this.controller.getIsIos()||(this.sliderDiv.style.display="block")},n.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"},n.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},n.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},n.prototype.elementHasClass=function(e,t){var n=this.getClassRegexp(t);return n.test(e.className)},n.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},n.prototype.removeClass=function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")},n.prototype.getAdContainerDiv=function(){return this.adContainerDiv},n.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var a="videojs-ima",i="1.5.1",o="Apache-2.0",s="./dist/videojs.ima.js",l={name:"Google Inc."},u={node:">=0.8.0"},c={contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"npm-run-all -p testServer contBuild",lint:'eslint "src/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs5":"npm install video.js@5.19.2 --no-save && npm-run-all -p -r testServer webdriver","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},d={type:"git",url:"https://github.com/googleads/videojs-ima"},f=["CHANGELOG.md","LICENSE","README.md","dist/","src/"],p={"can-autoplay":"^3.0.0",cryptiles:"^4.1.2","video.js":"^7.2.3","videojs-contrib-ads":"^6.6.1"},h={"babel-core":"^6.26.3","babel-preset-env":"^1.7.0",child_process:"^1.0.2",chromedriver:"^2.35.0","conventional-changelog-cli":"^1.3.5","conventional-changelog-videojs":"^3.0.0",eslint:"^4.11.0","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.2.0",geckodriver:"^1.12.2","http-server":"^0.10.0",mocha:"^4.0.1","npm-run-all":"^4.1.2",path:"^0.12.7",rimraf:"^2.6.2",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.3","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.1.10",watch:"^1.0.2"},m=["videojs","videojs-plugin"],y={name:a,version:i,license:o,main:s,author:l,engines:u,scripts:c,repository:d,files:f,dependencies:p,devDependencies:h,keywords:m},v="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":r(e)},g=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adsResponse=null,this.currentAd=null,
this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,this.controller.getSettings().autoPlayAdBreaks===!1&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus)};g.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(y.version),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},g.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted());var t=this.controller.getSettings().adsRequest;t&&"object"===("undefined"==typeof t?"undefined":v(t))&&Object.keys(t).forEach(function(n){e[n]=t[n]}),this.adsLoader.requestAds(e),this.controller.triggerPlayerEvent("ads-request",e)},g.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOG,this.onAdLog.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.autoPlayAdBreaks||this.initAdsManager(),this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},g.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},g.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(n){this.onAdError(n)}},g.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},g.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},g.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},g.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},g.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},g.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},g.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},g.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},g.prototype.onAdPaused=function(){this.controller.onAdsPaused()},g.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},g.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},g.prototype.onAdLog=function(e){this.controller.onAdLog(e)},g.prototype.onAdPlayheadTrackerInterval=function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var r=0,a=void 0;this.currentAd.getAdPodInfo()&&(a=this.currentAd.getAdPodInfo().getAdPosition(),r=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,a,r)},g.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},g.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},g.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},g.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()},g.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},g.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},g.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),0==e?this.adMuted=!0:this.adMuted=!1},g.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},g.prototype.getCurrentAd=function(){return this.currentAd},g.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},g.prototype.isAdPlaying=function(){return this.adPlaying},g.prototype.isAdMuted=function(){return this.adMuted},g.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},g.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},g.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},g.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},g.prototype.setVolume=function(e){this.adsManager.setVolume(e),0==e?this.adMuted=!0:this.adMuted=!1},g.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())},g.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},g.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},g.prototype.getAdsManager=function(){return this.adsManager},g.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var b=function(e,r){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(r);var a={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},i=this.extend({},a,r.contribAdsSettings||{});this.playerWrapper=new t(e,i,this),this.adUi=new n(this),this.sdkImpl=new g(this)};b.IMA_DEFAULTS={debug:!1,timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",adLabelNofN:"of",showControlsForJSAds:!0},b.prototype.initWithSettings=function(e){this.settings=this.extend({},b.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,this.settings.showCountdown===!1&&(this.showCountdown=!1)},b.prototype.warnAboutDeprecatedSettings=function(){var e=this,t=["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"];t.forEach(function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})},b.prototype.getSettings=function(){return this.settings},b.prototype.getIsMobile=function(){return this.isMobile},b.prototype.getIsIos=function(){return this.isIos},b.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},b.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},b.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},b.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},b.prototype.requestAds=function(){this.sdkImpl.requestAds()},b.prototype.setSetting=function(e,t){this.settings[e]=t},b.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},b.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},b.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},b.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},b.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},b.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},b.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},b.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},b.prototype.showAdContainer=function(){this.adUi.showAdContainer()},b.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},b.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},b.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},b.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},b.prototype.onAdPlayheadUpdated=function(e,t,n,r,a){this.adUi.updateAdUi(e,t,n,r,a)},b.prototype.onAdLog=function(e){this.playerWrapper.onAdLog(e)},b.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},b.prototype.playContent=function(){this.playerWrapper.play()},b.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},b.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},b.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},b.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},b.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},b.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},b.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},b.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},b.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},b.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},b.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},b.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},b.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},b.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},b.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},b.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},b.prototype.setContentWithAdTag=function(e,t,n){this.reset(),this.settings.adTagUrl=t?t:this.settings.adTagUrl,this.playerWrapper.changeSource(e,n)},b.prototype.setContentWithAdsResponse=function(e,t,n){this.reset(),this.settings.adsResponse=t?t:this.settings.adsResponse,this.playerWrapper.changeSource(e,n)},b.prototype.setContentWithAdsRequest=function(e,t,n){this.reset(),this.settings.adsRequest=t?t:this.settings.adsRequest,this.playerWrapper.changeSource(e,n)},b.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},b.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},b.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},b.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},b.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"},b.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},b.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},b.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},b.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},b.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},b.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},b.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},b.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},b.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},b.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},b.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},b.prototype.extend=function(e){for(var t=void 0,n=void 0,r=void 0,a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];for(n=0;n<i.length;n++){t=i[n];for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e};var _=function(e,t){this.controller=new b(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t,n){this.controller.setContentWithAdTag(e,t,n)}.bind(this),this.setContentWithAdsResponse=function(e,t,n){this.controller.setContentWithAdsResponse(e,t,n)}.bind(this),this.setContentWithAdsRequest=function(e,t,n){this.controller.setContentWithAdsRequest(e,t,n)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)},w=function(e){this.ima=new _(this,e)},E=e.registerPlugin||e.plugins;E("ima",w)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1),l=r(s),u=n(49),c=r(u),d=n(88),f=r(d);e.exports=function(e,t){var n=f.default.getComponent("Component"),r=function(t){function n(t,r){a(this,n);var o=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,r));return t.ready(function(){c.default.render(l.default.createElement(e,{vjsComponent:o}),o.el())}),o}return o(n,t),n}(n);n.registerComponent(t,r)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(24),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e='<iframe src="'+window.location.origin+"/embed/player?filmId="+this.props.videoId+'"/>';return u.default.createElement("div",{className:"embed-prompt"},u.default.createElement("div",{className:"embed-overlay"},u.default.createElement("div",{onClick:this.props.toggleEmbed}," ",u.default.createElement(c.CloseIcon,null)),u.default.createElement("textarea",{className:"copy-text",rows:"4",cols:"50",defaultValue:e}),u.default.createElement("button",{className:"copy-button",onClick:this.copy},"Copy")))}},{key:"copy",value:function(){var e=document.getElementsByClassName("copy-text")[0];e.select(),document.execCommand("Copy"),document.querySelector(".copy-button").innerHTML="Copied"}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={timer:e.timer},n.changeTimer=n.changeTimer.bind(n),n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.changeTimer,1e3)}},{key:"changeTimer",value:function(){this.setState({timer:this.state.timer-1}),this.state.timer<=0&&(clearInterval(this.interval),this.props.action())}},{key:"render",value:function(){var e={background:"url("+this.props.backgroundUrl+") no-repeat",backgroundSize:"cover"};return u.default.createElement("div",{className:"timer-prompt",style:e},u.default.createElement("div",{className:"next-episode-timer"},"Next Episode ",this.props.nextVideoTitle," will start in ",this.state.timer))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){setTimeout(this.props.hide,4e3)}},{key:"render",value:function(){return u.default.createElement("div",{className:"rating-discretion"},u.default.createElement("div",{className:"content"},u.default.createElement("div",{onClick:function(){window.history.go(-1)},className:"back site-border-color"},"Back"),u.default.createElement("div",{className:"warning site-color"},"WARNING"),u.default.createElement("div",{className:"rating-container site-border-color"},u.default.createElement("div",{className:"label"},"The following content is rated:"),u.default.createElement("div",{className:"rating"},this.props.rating)),u.default.createElement("div",{className:"discretion"},"Viewer Discretion Is Advised")))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(9),p=n(12),h=r(p),m=n(8),y=r(m),v=n(60),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.pushButtonEvent=n.pushButtonEvent.bind(n),n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){window.dataLayer&&window.dataLayer.push({event:"soft_wall_shown",video_title:this.props.videoGist.title,video_id:this.props.videoGist.id})}},{key:"pushButtonEvent",value:function(e){window.dataLayer&&window.dataLayer.push({event:"subscribe_cta_click",source:e})}},{key:"render",value:function(){var e=this,t={background:"url("+this.props.videoGist.videoImageUrl+") no-repeat",backgroundSize:"cover"},n=this.props.content;if("TVOD"===(0,v.fetchModels)()&&this.props.isEpisode&&n.openPurchaseScreen(),window.SERVER_SIDE_RENDERING)return d.default.createElement("div",{className:"subscription-prompt",style:t});var r=(0,l.default)(window.settings,"subscription_flow_content.subscription_button_text"),a=(0,l.default)(window.settings,"subscription_flow_content.login_button_text");return d.default.createElement("div",{className:"subscription-prompt",style:t},d.default.createElement("div",{className:"overlay"},d.default.createElement("p",null,(0,l.default)(window.settings,"subscription_flow_content.overlay_message")),d.default.createElement("div",{className:"button-container"},window.sessionStorage.getItem("openUpdatecard")?d.default.createElement("a",{href:"/user/account",className:"cta button"}," Activate Now "):d.default.createElement("a",{href:"/viewplans",className:"cta button",onClick:function(){return e.pushButtonEvent("video_wall")}},void 0!==r?r:"Start Your Free Trial"),!this.state.user&&d.default.createElement("button",{className:"cta login-btn",onClick:function(e){return(0,f.login)()}},void 0!==a?a:"Login"))))}}]),t}(d.default.Component);(0,h.default)(g,function(e){return{user:e.user}},y.default),e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){e.getChild("BigPlayButton").el().appendChild(l(_.default.createElement(k.PlayCircleSvg,null)));var t=e.controlBar;t.getChild("PlayToggle").el().appendChild(l(_.default.createElement(k.PlaySvg,null))),t.getChild("PlayToggle").el().appendChild(l(_.default.createElement(k.PauseSvg,null))),t.getChild("FullscreenToggle").el().appendChild(l(_.default.createElement(k.MinimizeSvg,null))),t.getChild("FullscreenToggle").el().appendChild(l(_.default.createElement(k.MaximizeSvg,null))),t.getChild("SubsCapsButton").el().appendChild(l(_.default.createElement(k.CaptionsSvg,null)))}function i(e){(0,P.default)(N.default,"vjsRewindBtn"),e.getChild("controlBar").addChild("vjsRewindBtn",{},2)}function o(e){var t=e.controlBar.getChild("SubsCapsButton").el();t.appendChild(l(_.default.createElement(k.CaptionsSvg,null)));var n=document.createElement("div");n.classList.add("caption-header"),n.innerHTML="Captioning",t.querySelector(".vjs-menu-content").insertBefore(n,t.querySelector(".vjs-menu-item"))}function s(e,t){(0,P.default)(D.default,"vjsEmbedBtn"),e.getChild("controlBar").addChild("vjsEmbedBtn",{cb:t},e.controlBar.children().length-1)}function l(e){var t=document.createElement("div");return t.innerHTML=E.default.renderToStaticMarkup(e),t.children[0]}function u(e,t,n,r){var a=(0,g.default)(n,"hls");"hls"===t&&a?c(e,{component:x.default,name:"vjsHlsResolutionMenu",options:{isLiveStream:r}}):c(e,{component:j.default,name:"vjsMp4ResolutionMenu",options:{assets:n.mpeg}})}function c(e,t){var n=t.component,r=t.name,a=t.options;(0,P.default)(n,r);var i=e.getChild("controlBar");i.getChild(r)&&i.removeChild(r),e.getChild("controlBar").addChild(r,a,e.controlBar.children().length-1)}function d(e,t){var n=S.default.getComponent("Button"),r=new n(e);r.addClass("vjs-control"),e.controlBar.addChild(r,{},e.controlBar.children().length-1),r.el().appendChild(l(_.default.createElement(k.EpisodesSvg,null)));var a=document.createElement("div");a.classList.add("episode-dropdown","close"),(0,y.default)(t,function(e){var t=document.createElement("div");t.classList.add("season"),t.appendChild(f(e.title)),t.appendChild(p(e.episodes)),a.appendChild(t)}),r.el().appendChild(a),r.on("click",function(){a.classList.toggle("close")})}function f(e){var t=document.createElement("h3");return t.classList.add("season-header"),t.innerHTML=e,t}function p(e){var t=document.createElement("ul");return t.classList.add("episode-list"),(0,y.default)(e,function(e){t.appendChild(h(e.gist))}),t}function h(e){var t=document.createElement("li");t.classList.add("episode");var n=e.image,r=e.title,a=e.description,i=e.permalink;return t.innerHTML='\n      <a href="'+i+'">\n        <img alt="'+r+'" class="episode-thumb" src="'+n+'"/>\n        <div class="episode-details">\n          <p class="episode-title">'+r+'</p>\n          <p class="episode-description">'+a+"</p>\n        </div>\n      </a>\n    ",t}Object.defineProperty(t,"__esModule",{value:!0});var m=n(32),y=r(m),v=n(3),g=r(v);t.replaceIcons=a,t.addRewindControl=i,t.customizeCaptions=o,t.addEmbedBtn=s,t.addResolutionControl=u,t.insertEpisodes=d;var b=n(1),_=r(b),w=n(1225),E=r(w),k=n(124),T=n(88),S=r(T),C=n(478),P=r(C),O=n(476),N=r(O),A=n(475),j=r(A),I=n(474),x=r(I),M=n(473),D=r(M)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(143),c=r(u),d=n(375),f=r(d),p=n(202),h=r(p),m=n(43),y=r(m),v=n(32),g=r(v),b=n(203),_=r(b),w=n(210),E=r(w),k=n(141),T=r(k),S=n(3),C=r(S),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=n(1),N=r(O),A=n(88),j=r(A),I=n(47),x=r(I);n(784),n(800);var M=n(263),D=n(27),L=n(483),R=n(608),B=r(R),U=n(265),F=r(U),V=n(620),H=r(V),W=n(270),z=r(W),q=n(479),G=r(q),Y=n(481),K=r(Y),Q=n(480),X=r(Q),$=n(482),J=r($),Z=n(17),ee=n(264),te=r(ee),ne=n(60);window.videojs=j.default,n(1282),n(1281),n(1283),n(477);var re=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={video:null,startedAtSetTime:!1,ratingDisplayDone:!n.isRatingEnabled(),showRatingDiscretion:!1,videoWall:!1,videoEnded:!1,showEmbed:!1},n.bufferedPercent=0,n.playStarted=!1,n.lastBufferedTime=0,n.totalBufferTime=0,n.bufferCount=0,n.streamedData=[],n.toggleRatingDiscretion=n.toggleRatingDiscretion.bind(n),n.toggleEmbed=n.toggleEmbed.bind(n),n.handlePreviewSettings(),e.video.tags&&(n.tags=e.video.tags.map(function(e){return e&&e.title}).join(",")),e.video.categories&&(n.categories=e.video.categories.map(function(e){return e&&e.title}).join(",")),n}return o(t,e),P(t,[{key:"handlePreviewSettings",value:function(){var e=(0,C.default)(window.settings,"features.free_preview");if(e){var t=e.isFreePreview;this.previewshowUnit=e.length.unit;var n="Minutes"===this.previewshowUnit?60*parseInt(e.length.multiplier,10):parseInt(e.length.multiplier,10);this.previewTime=t&&n,this.perVideo=t&&e.per_video}}},{key:"componentWillReceiveProps",value:function(e){var t=e.video,n=t.currentEpisode,r=t.currentSeason,a=t.showData;a=void 0===a?{}:a;var i=a.seasons,o=i&&i[r].episodes[n]||{},s=(0,te.default)(e,o,this.state.models);if(null===this.props.user&&s&&null!=this.player&&(this.setState({videoWall:!1}),this.player.play()),e&&e.isEpisode&&this.props.video.gist.id!==e.video.gist.id&&null!=this.player){var l=!1;if(e.video.gist.free||this.previewTime||s||(l=!0,this.player.pause()),this.setState({video:e.video,videoEnded:!1,videoWall:l}),l)return;this.playStarted=!1,this.streamedData=[],this.interval&&clearInterval(this.interval);var u="hls"===this.props.fileType,c=(e.video.streamingInfo||{}).videoAssets,d=c&&c.mpeg[0].url,f=c&&c.hls,p=(0,T.default)((0,C.default)(e,"video.contentDetails.closedCaptions")||[],{format:"VTT"});this.player.src(u?f:d),this.player.load(),this.updateCaptions(p),u||(this.player.tech_.options_.source.src=d,(0,L.addResolutionControl)(this.player,e.fileType,c,this.state.isLiveStream)),this.player.play()}}},{key:"getSignature",value:function(){return"mp4"===this.props.fileType?Promise.resolve():(0,M.getVideoSignature)(this.props.videoId)}},{key:"fetchVideoSources",value:function(e){var t=this;return this.props.src?Promise.resolve({src:this.props.src,type:"video/mp4"}):e?(0,M.getVideo)(e,function(e){var n=(0,F.default)(window.location.hostname),r=new Date((new Date).getTime()+1e3*e.data.expireTime);x.default.set("CloudFront-Key-Pair-Id",e.data["CloudFront-Key-Pair-Id"],{domain:"."+n,expires:r}),x.default.set("CloudFront-Policy",e.data["CloudFront-Policy"],{domain:"."+n,expires:r}),x.default.set("CloudFront-Signature",e.data["CloudFront-Signature"],{domain:"."+n,expires:r});var a=e.data.video.streamingInfo;if(t.assets=a.videoAssets,t.setState({isLiveStream:a.isLiveStream,isFree:(0,C.default)(e,"data.video.gist.free"),video:(0,C.default)(e,"data.video"),gist:(0,C.default)(e,"data.video.gist"),poster:e.data.video.gist.videoImageUrl}),"Videos"===t.previewshowUnit&&!t.state.isFree){var i=parseInt(x.default.get("len"),10);x.default.set("len",(i||0)+1)}var o=(0,C.default)(t.assets,"hls"),s=(0,C.default)(t.assets,"mpeg[0].url");return"hls"===t.props.fileType&&o?"snagfilms"!==window.settings.internalName&&o.includes("viewlift.com")?{src:o,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0}:o.includes("hoichoi.tv")||o.includes("supercrosslive.tv")?{src:o,type:"application/x-mpegURL",withCredentials:!0,overrideNative:!0}:"kronon"===window.settings.internalName?{src:o,type:"application/x-mpegURL",handleManifestRedirects:!0}:{src:o,type:"application/x-mpegURL"}:{src:s,type:"video/mp4"}}):Promise.reject("No Video Src or Video ID Not found")}},{key:"componentDidMount",value:function(){var e=this;if(this.setState({models:(0,ne.fetchModels)()}),!this.props.isTrailer){var t=this.props.video,n=t.currentEpisode,r=t.currentSeason,a=t.purchasedFlag,i=t.showData;i=void 0===i?{}:i;var o=i.seasons,s=o&&o[r].episodes[n]||{},l=(0,te.default)(this.props,s,this.state.models);if(!(this.previewTime||this.props.isFree||l||a||this.props.purchased))return void this.setState({videoWall:!0})}this.fetchVideoSources(this.props.videoId).then(function(t){e.initializePlayer({controls:!0,autoplay:e.props.autoplay||!1,preload:!0,poster:e.state.poster,sources:[t]})}).catch(function(t){return t&&t.errorMessage&&t.errorMessage.includes("valid subscription")?void e.setState({videoWall:!0}):void e.setState({errorMessage:t.errorMessage||t.message})})}},{key:"initializePlayer",value:function(e){var t=this;this.player=(0,j.default)(this.videoNode,e,function(){(0,L.replaceIcons)(t.player),(0,L.addRewindControl)(t.player);var e=t.props.closedCaptions||(0,C.default)(t.props,"video.contentDetails.closedCaptions");(0,E.default)(e,{format:"VTT"})&&(0,L.customizeCaptions)(t.player),(0,L.addResolutionControl)(t.player,t.props.fileType,t.assets,t.state.isLiveStream),window.settings.features&&window.settings.features.embed_player&&(0,L.addEmbedBtn)(t.player,t.toggleEmbed),t.props.showTimer&&t.appendRemainingContainer(t.player,t.props.showTimer),t.updateCaptions((0,T.default)(e,{format:"VTT"})),!t.props.autoplay||z.default.isMobile()||z.default.isSafari()||t.startVideo()});var n=this.props.video;this.beacon=new B.default(Object.assign({player:this.player,videoTitle:(0,C.default)(this.props,"video.gist.title"),videoId:this.props.videoId,seriesTitle:(0,C.default)(this.props,"seriesInfo.title"),seriesId:(0,C.default)(this.props,"seriesInfo.id")},n&&{contentCategory:(0,C.default)(n.gist,"primaryCategory.title"),isLiveStream:(0,C.default)(n.gist,"isLiveStream")},{fileType:this.props.fileType,assets:this.assets,siteName:window.settings.internalName,clientId:window.settings.siteId,platform:"WEBSITE",userId:this.props.user&&this.props.user.userId,apiUrl:window.settings.beacon.apiBaseUrl,environment:(0,H.default)()})),this.listenToPlayerEvents(),"undefined"==typeof window.google||!this.props.videoTag||this.props.user&&this.props.user.isSubscribed||this.props.hideAds||this.state.isLiveStream||this.initializeAds()}},{key:"appendRemainingContainer",value:function(e,t){e.el_.append(t)}},{key:"getRemainingTime",value:function(e){var t=Math.floor(e/60),n=Math.floor(e-60*t),r=document.querySelector(".remaining-time-wrapper");r.style.visibility="visible";var a=document.querySelector(".time-elapsed");a.innerHTML=t+":"+(n<10?"0"+n:n)}},{key:"toggleEmbed",value:function(){this.setState({showEmbed:!this.state.showEmbed})}},{key:"listenToPlayerEvents",value:function(){var e=this;this.player.one(z.default.isMobile()?"touchend":"click",function(t){!z.default.isMobile()&&!z.default.isSafari()&&e.state.ratingDisplayDone&&e.props.autoplay||e.startVideo()}),this.player.one("loadeddata",function(){isFinite(e.player.duration())||document.getElementsByClassName("VideoJS")[0].classList.add("live"),e.props.startTime&&e.player.currentTime(e.props.startTime)}),this.player.on("firstplay",function(t){if(!e.playStarted&&e.state.video){var n=e.state.video,r=n.gist,a=void 0===r?{}:r,i=n.creditBlocks,o=void 0===i?[]:i,s=n.categories,l=void 0===s?[]:s;l.push(a.primaryCategory||{}),e.videoEventData={contentId:a.id,contentTitle:a.title,contentType:a.isTrailer?"Trailer":"EPISODIC"===a.mediaType?"Episode":"Video",contentDuration:a.runtime,playbackType:"Streamed"},"EPISODIC"===a.mediaType&&e.props.video&&e.props.video.showData&&(o=e.props.video.showData.creditBlocks,l=e.props.video.showData.categories,l.push(e.props.video.showData.gist.primaryCategory||{}),e.videoEventData=(0,_.default)({},e.videoEventData,{episodeNumber:e.props.video.currentEpisode+1,seasonNumber:e.props.video.currentSeason+1,showName:e.props.video.showData.gist.title})),e.videoEventData.playSource=(0,Z.getPlaySourcePrefix)()+(e.props.video&&e.props.video.showData?"_Show Detail":"_Video Detail"),(0,g.default)(o,function(t){"director"===t.title.trim().toLowerCase()&&(e.videoEventData.directorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):""),"starring"===t.title.trim().toLowerCase()&&(e.videoEventData.actorName=t.credits&&t.credits.length>0?t.credits.map(function(e){return e.title}).join(","):"")}),e.videoEventData.contentGenre=l.map(function(e){return e.title}).join(","),(0,Z.trackEvent)("Play Started",e.videoEventData),e.playStarted=!0}});var t=[],n=[];this.player.on("timeupdate",function(r){var a=Math.floor(e.player.currentTime());if(e.props.showTimer&&e.getRemainingTime(e.props.isLive?(e.props.scheduleEndDate-Date.now())/1e3:e.player.remainingTimeDisplay()),!(0,y.default)(n,a)&&(n.push(a),e.sendWatchedEventData(a,e.player.duration()),"SVOD"!==window.settings.serviceType||isFinite(e.player.duration())&&e.perVideo||e.state.isFree||"Videos"===e.previewshowUnit||!e.previewTime||(x.default.set("hdbm",parseInt(x.default.get("hdbm")||0,10)+1),a=parseInt(x.default.get("hdbm"),10)),"SVOD"!==window.settings.serviceType||"Videos"!==e.previewshowUnit||e.state.isFree||(a=parseInt(x.default.get("len"),10)),"SVOD"!==window.settings.serviceType&&"SVOD"!==e.props.pricingOptions.type||!(a>=e.previewTime)||e.state.isFree||e.props.user&&e.props.user.isSubscribed||e.props.purchased||!e.props.pricingOptions||e.props.pricingOptions.purchase||e.props.pricingOptions.rent||(e.setState({videoWall:!0}),e.player.pause(),e.player.exitFullscreen()),a>=30&&a%30===0&&!(0,y.default)(t,a)&&!e.props.isTrailer&&isFinite(e.player.duration()))){t.push(a);var i=Math.floor(e.player.duration());e.sendWatchedInfo(a,i)}}),this.player.on("waiting",function(t){e.bufferCount+=1;var n=.1,r=e.player.currentTime(),a=setInterval(function(){e.player.currentTime()<=r+n&&!e.player.paused()?e.totalBufferTime=e.totalBufferTime+.1:clearInterval(a)},100)}),this.player.on("ended",function(t){e.props.isEpisode&&e.props.video.nextEpisode&&e.setState({videoEnded:!0});var n=(0,C.default)(e.props,"video.contentDetails.relatedVideoIds");if(n&&0!==n.length&&window.settings.features.auto_play&&!e.props.isEpisode){var r=null!==window.sessionStorage.getItem("rvid")?parseInt(window.sessionStorage.getItem("rvid"),10)+1:0;window.sessionStorage.setItem("rvid",r),(0,M.getVideo)(n[r],function(e){window.location.href=e.data.video.gist.permalink})}}),this.player.on("error",function(t){var n={};e.videoEventData&&(0,h.default)(n,e.videoEventData),n.errorMessage=e.player.error().message,(0,Z.trackEvent)("Media Error",n)})}},{key:"refreshPlayer",value:function(){this.player.currentTime()===this.bufferedPercent?(this.bufferedPercent++,this.player.currentTime(this.bufferedPercent)):clearInterval(this.refresh)}},{key:"sendWatchedInfo",value:function(e,t){(0,D.saveWatchHistory)({videoId:this.props.videoId,watchedTime:e,watchedPercentage:Math.floor(e/t*100),siteOwner:window.settings.internalName,userId:this.props.user&&this.props.user.userId})}},{key:"sendWatchedEventData",value:function(e,t){if(this.videoEventData){var n=!1,r=Math.floor(e/t*100),a=(0,_.default)({},this.videoEventData);if(e>=120&&r<25&&this.streamedData.indexOf("2 mins")===-1?(this.streamedData.push("2 mins"),n=!0):r>=25&&r<50&&this.streamedData.indexOf(25)===-1?(this.streamedData.push(25),n=!0):r>=50&&r<75&&this.streamedData.indexOf(50)===-1?(this.streamedData.push(50),n=!0):r>=75&&r<80&&this.streamedData.indexOf(75)===-1?(this.streamedData.push(75),n=!0):r>=80&&this.streamedData.indexOf(80)===-1&&(this.streamedData.push(80),n=!0),n){var i=(0,T.default)(this.props.closedCaptions||(0,C.default)(this.props,"video.contentDetails.closedCaptions"),{format:"VTT"});a.subtitles=i.length?"Y":"N",a.stream=this.streamedData[this.streamedData.length-1],a.bufferTime=(0,f.default)(this.totalBufferTime),a.bufferCount=this.bufferCount,a.watchedTime=(0,f.default)(e-this.lastBufferedTime),a.playSource&&delete a.playSource,(0,Z.trackEvent)("Watched",a),this.lastBufferedTime=e,this.totalBufferTime=0,this.bufferCount=0}}}},{key:"startVideo",value:function(){var e="undefined"!=typeof window.google&&this.props.videoTag&&!this.props.hideAds&&!this.state.isLiveStream;return!e||this.props.user&&this.props.user.isSubscribed?void this.toggleRatingDiscretion():(this.player.ima.initializeAdDisplayContainer(),this.player.play(),void this.listenToAdEvents())}},{key:"initializeAds",value:function(){this.player.ima({id:"vjs_video_3",adTagUrl:this.props.videoTag+"&vid="+this.props.videoId+("&url="+window.location.href+"&correlator="+(new Date).getTime())+("&cust_params=sd%3D60000%26site%3D"+window.location.origin+"%26autostart%3D")+("%26mute%3D%26user_agent%3D%26keyword%3D%26category%3D"+this.props.category)+("%26vid%3D"+this.props.videoId+"%26categories%3D"+this.categories+"%26tags%3D"+this.tags),adLabel:"Your video will resume after this sponsor message"})}},{key:"listenToAdEvents",value:function(){this.player.on("adscomplete",this.toggleRatingDiscretion),this.player.on("adserror",this.toggleRatingDiscretion)}},{key:"toggleRatingDiscretion",value:function(){this.isRatingEnabled()&&!this.state.ratingDisplayDone?this.showRatingDiscretion():this.hideRatingDiscretion()}},{key:"componentDidUpdate",value:function(e,t){!e.modalOpen&&this.props.modalOpen?(this.player&&this.player.pause(),"undefined"!=typeof window.google&&this.player.ima&&(0,c.default)(this.player.ima.pause)&&this.player.ima.pause()):e.modalOpen&&!this.props.modalOpen&&(this.player.play(),"undefined"!=typeof window.google&&(0,c.default)(this.player.ima.resume)&&this.player.ima.resume()),this.player&&!this.state.startedAtSetTime&&this.props.startTime&&(this.player.currentTime(this.props.startTime),this.setState({startedAtSetTime:!0})),!t.showEmbed&&this.state.showEmbed?this.player.pause():t.showEmbed&&!this.state.showEmbed&&this.player.play()}},{key:"isRatingEnabled",value:function(){return(0,C.default)(window.settings,"user_content_rating",!1)&&!this.props.isTrailer&&this.parentalRating&&"NR"!==this.parentalRating}},{key:"hideRatingDiscretion",value:function(){this.player.play(),this.setState({showRatingDiscretion:!1,ratingDisplayDone:!0})}},{key:"showRatingDiscretion",value:function(){this.player.pause(),this.setState({showRatingDiscretion:!0})}},{key:"updateCaptions",value:function(e){var t=this;this.player&&((0,l.default)(this.player.remoteTextTrackEls(),function(e){t.player.removeRemoteTextTrack(e)}),(0,l.default)(e,function(e,n){t.player.addRemoteTextTrack({src:e.url,srcLang:e.language,label:e.language})}))}},{key:"render",value:function(){var e=this;return N.default.createElement("div",{"data-vjs-player":!0},this.state.showRatingDiscretion&&N.default.createElement(K.default,{hide:this.hideRatingDiscretion.bind(this),rating:this.parentalRating}),this.state.videoWall&&N.default.createElement(J.default,{isEpisode:this.props.isEpisode,content:this.props.video,videoGist:this.props.video.gist}),this.state.videoEnded&&N.default.createElement(X.default,{backgroundUrl:this.props.video.nextEpisode.videoImageUrl,nextVideoTitle:this.props.video.nextEpisode.title,timer:3,action:this.props.video.playNextEpisode}),this.state.showEmbed&&N.default.createElement(G.default,{videoId:this.props.videoId,toggleEmbed:this.toggleEmbed}),this.state.errorMessage?N.default.createElement("div",{className:"error-message"}," ",this.state.errorMessage," "):N.default.createElement("video",{ref:function(t){return e.videoNode=t},className:"video-js"}))}},{key:"parentalRating",get:function(){return this.props.parentalRating||(0,C.default)(this.props,"video.parentalRating")}}]),t}(N.default.Component);e.exports=re},function(e,t,n){"use strict";e.exports={mmap:{"AC Masthead 01":n(254),"AC Masthead 02":n(531),"AC Masthead 03":n(532),"AC Footer 01":n(508),"AC Footer 02":n(509),"AC Footer 03":n(510),"AC Footer 04":n(511),"AC Tray 01":n(39),"AC NetflixTray 01":n(258),"AC ScheduleCarousel 01":n(251),"AC EventCarousel 03":n(522),"AC Carousel 02":n(495),"AC BrandTray 01":n(584),"AC Tray XX":n(39),"AC Tray 02":n(586),"AC PreviewTray 01":n(585),"AC Carousel 01":n(250),"AC FullWidthCarousel 01":n(514),"AC EventCarousel 01":n(494),"AC RichText 01":n(545),"AC RawHtml 01":n(542),"AC WebFrame 01":n(603),"AC WebFrame 02":n(261),"AC WebFrame 03":n(261),"AC Grid 01":n(498),"AC Watchlist 01":n(602),"AC History 01":n(515),"AC VideoPlayerWithInfo 01":n(597),"AC VideoPlayerWithInfo 02":n(598),"AC VideoPlayerWithInfo 03":n(601),"AC StandaloneVideoPlayer 01":n(572),"AC UserManagement 01":n(260),"AC UserManagement 02":n(260),"AC ResetPassword 01":n(544),"AC CreatePassword 01":n(501),"AC ContinueWatching 01":n(500),"AC SelectPlan 01":n(549),"AC SelectPlan 02":n(550),"AC RedeemOffer 01":n(543),"AC ImageTextRow 01":n(516),"AC ShowDetail 01":n(552),"AC Banner 01":n(578),"AC BannerAd 01":n(490),"AC EmbeddedVideoPlayer 01":n(503),"AC ArticleTray 01":n(582),"AC ArticleDetail 01":n(489),"AC PhotoGallery 01":n(541),"AC EventCalendar 01":n(506),"AC ArticleFeed 01":n(571),"AC CarouselWithList 01":n(534),"AC EventDetail 01":n(504),"AC SmallEventCalendar 01":n(556),"AC MediumRectangleAd 01":n(533),"AC GameDetail 01":n(256),"AC FightDetail 01":n(256),"AC TeamDetail 01":n(577),"AC TeamStats 01":n(581),"AC TeamRoster 01":n(579),"AC PersonDetail 01":n(538),"AC PersonDetail 02":n(539),"AC PersonDetail 03":n(540),"AC TeamSchedule 01":n(580),"AC LoginHardwall 01":n(523),"AC SplashPage 01":n(557),"AC ScheduleTray 01":n(546),"AC FighterRoster 01":n(507),"AC Library 01":n(517),"AC BundleDetail 01":n(491),"AC Custom 01":n(502),"AC ContentHtml 01":n(499),"AC SearchFilter 01":n(548)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=n(210),c=r(u),d=n(7),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(45),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isFocused:!1},n.links={},n.enableFocus=n.enableFocus.bind(n),n.disableFocus=n.disableFocus.bind(n),n.registerLinkRef=n.registerLinkRef.bind(n),n}return o(t,e),p(t,[{key:"renderSubLinkMenu",value:function(e){var t=this;return m.default.createElement("div",{className:"sublink-menu"},(0,f.default)(e,function(e,n){return m.default.createElement("a",{ref:t.registerLinkRef(n),onBlur:t.disableFocus,key:n,href:e.url,target:e.newTab?"_blank":"_self"},(0,y.localizeTitle)(e))}))}},{key:"registerLinkRef",value:function(e){var t=this;return function(n){return t.links[e]=n}}},{key:"enableFocus",value:function(){this.setState({isFocused:!0})}},{key:"disableFocus",value:function(){var e=this;setTimeout(function(){var t=(0,c.default)(e.links,function(e){return document.activeElement===e});e.setState({isFocused:t})},100)}},{key:"render",value:function(){var e=this.props.link,t={};return e.icon&&(t={backgroundImage:"url("+e.icon+")",backgroundSize:"100%",backgroundRepeat:"no-repeat",backgroundPosition:"center"}),m.default.createElement("div",{className:"primary-link "+(e.icon?"image-bg":"")+" "+(this.state.isFocused?"focused":""),style:t},m.default.createElement("a",{ref:this.registerLinkRef("parent"),onFocus:this.enableFocus,onBlur:this.disableFocus,href:e.url,target:e.newTab?"_blank":"_self"},e.title),(0,l.default)(e,"items.length")>0&&this.renderSubLinkMenu(e.items))}}]),t}(m.default.PureComponent);e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=n(24),s=function(e){return i.default.createElement("div",{className:"queue-button"},e.isAdded?i.default.createElement("div",{className:"remove",onClick:e.remove},i.default.createElement(o.RemoveFromWatchlistIcon,null)):i.default.createElement("div",{className:"add",onClick:e.add},i.default.createElement(o.AddToWatchlistIcon,null)))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(34),m=r(h),y=n(18),v=n(158),g=r(v),b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.el.getBoundingClientRect(),t=window.pageYOffset,n={start:e.top+t,end:e.bottom+t};this.props.updatePosition(this.props.article.id,n)}},{key:"render",value:function(){var e=this,t=this.props.article.gist,n=t.title,r=t.publishDate,a=t.landscapeImageUrl,i=t.readTime,o=(0,c.default)(this.props,"article.contentDetails.author.name"),s=this.props.ad,l=(0,c.default)(window.settings,"brand.metadata");return p.default.createElement("div",{ref:function(t){return e.el=t},className:"article-container"},p.default.createElement("div",{className:"article__header-container "+(a?"bg-img":"")},a&&p.default.createElement("img",{src:a,alt:n}),a&&p.default.createElement("div",{className:"img-gradient"}),p.default.createElement("div",{className:"article__header"},p.default.createElement("div",{className:"title"},n),p.default.createElement("div",{className:"details"},p.default.createElement("div",{className:"details-left"},o&&p.default.createElement("div",{className:"author-container"},p.default.createElement("span",{className:"by-label"},"By "),p.default.createElement("span",{className:"author"},o)),l&&l.displayPublishDate&&r&&p.default.createElement("div",null,(0,y.format)(r,"MMM. D")),i&&p.default.createElement("div",null,this.readTime))),p.default.createElement("div",{className:"divider site-background-color"}))),p.default.createElement("div",{className:"article__body"},this.renderContent()),s&&p.default.createElement("div",{className:"article__ad"},p.default.createElement("div",{className:"rectangle-ad"},p.default.createElement(m.default,{path:s,dimensions:[[300,600]]}))),!window.sessionStorage.getItem("isApp")&&p.default.createElement(g.default,{path:window.location.origin+this.props.article.gist.permalink,title:this.props.article.gist.title}))}},{key:"hasTags",value:function(){return(0,c.default)(this.props,"article.tags.length")>0}},{key:"renderTags",value:function(){var e=(0,l.default)(this.props.article.tags,function(e){return e.title}).join(", ");return p.default.createElement("span",null,e)}},{key:"renderContent",value:function(){var e={__html:(0,c.default)(this.props,"article.content")};return p.default.createElement("div",{className:"content",dangerouslySetInnerHTML:e})}},{key:"readTime",get:function(){return this.props.article.gist.readTime+"min Read"}}]),t}(p.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(70),l=r(s),u=n(32),c=r(u),d=n(7),f=r(d),p=n(1084),h=r(p),m=n(83),y=r(m),v=n(3),g=r(v),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_=n(1),w=r(_),E=n(52),k=n(28),T=n(488),S=r(T),C=n(471),P=r(C),O=n(158),N=r(O),A=n(54),j=r(A);n(766);var I=n(61),x=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={currentArticleId:(0,g.default)(r.props.data,"contentData[0].id",null),infiniteScroll:"true"===(0,g.default)(r.props.data,"metadataMap.infiniteScroll"),articles:{}},r.articlesToFetch=(0,g.default)(r.props.data,"contentData[0].contentDetails.relatedArticleIds",[]),r.articlePositions=[],r.loading=!1,r.loadNextArticle=function(){if(!r.loading&&!(0,y.default)(r.state.articles)){r.loading=!0;var e=r.articlesToFetch.pop();E.axios.get("/content/article",{params:{id:e,languageCode:(0,j.default)()}}).then(function(e){(0,I.trackPageview)(window.location.origin+e.data.permalink,e.data.gist.title),r.addArticle(e.data)})}},r.updateArticlePositions=function(e,t){var n={id:e,yPos:t};r.articlePositions.push(n)},r.updateCurrentArticle=function(){var e=r.getMostVisibleArticle();e&&r.state.currentArticleId!==e.id&&(r.setArticleUrl(e),r.setCurrentArticle(e))},o=n,i(r,o)}return o(t,e),b(t,[{key:"componentDidMount",value:function(){this.addArticle(this.props.data.contentData[0])}},{key:"addArticle",value:function(e){var t=this;E.axios.get(e.streamingInfo.articleAssets.url).then(function(n){e.content=n.data,t.loading=!1,t.setState(function(t){return(0,h.default)(t,"articles."+e.id,e)})})}},{key:"renderArticles",value:function(){var e=this,t=(0,g.default)(this.props,"data.metadataMap.adTag");return(0,f.default)(this.state.articles,function(n){return w.default.createElement(S.default,{key:n.id,article:n,ad:t,updatePosition:e.updateArticlePositions})})}},{key:"getMostVisibleArticle",value:function(){var e=this,t=window.pageYOffset,n={start:t,end:Math.ceil(t+1)+window.innerHeight},r=void 0;return(0,c.default)(this.articlePositions,function(t){if(e.isArticleInView(t.yPos,n)){var a={articlePos:t,amount:e.getAmountOfVisibleArticle(t.yPos,n)};(!r||a.amount>r.amount)&&(r=a)}}),r?this.state.articles[r.articlePos.id]:null}},{key:"setArticleUrl",value:function(e){var t=e.gist,n=t.title,r=void 0===n?"":n,a=t.permalink,i=void 0===a?window.location.href:a;window.history.replaceState({},r,i)}},{key:"setCurrentArticle",value:function(e){this.setState({currentArticleId:e.id})}},{key:"getAmountOfVisibleArticle",value:function(e,t){var n=(0,l.default)([e.start,e.end,t.start,t.end]);return n[2]-n[1]}},{key:"isArticleInView",value:function(e,t){return e.start<=t.end&&t.start<=e.end}},{key:"shouldShowStickyFooter",value:function(){return!(0,y.default)(this.state.articles)&&!window.sessionStorage.getItem("isApp")&&"true"===(0,g.default)(this.props,"data.metadataMap.infiniteScroll","")}},{key:"render",value:function(){return w.default.createElement("div",{className:"infinite-article-container"},this.helmet,this.renderArticles(),this.shouldShowStickyFooter()&&w.default.createElement(P.default,{onScroll:this.updateCurrentArticle,onBottom:this.state.infiniteScroll&&this.loadNextArticle},w.default.createElement(N.default,{path:window.location.href,title:this.titleToShare})))}},{key:"titleToShare",get:function(){var e=this.state.articles[this.state.currentArticleId]||(0,g.default)(this.props,"data.contentData[0]");return(0,g.default)(e,"gist.title")}},{key:"helmet",get:function(){var e=this.props.data.contentData[0],t=e.gist,n=void 0===t?{}:t,r=e.seo,a=void 0===r?{}:r;return w.default.createElement(k.Helmet,null,w.default.createElement("title",null,(a.title||n.title)+" | "+window.settings.site),w.default.createElement("meta",{name:"description",content:a.description||n.description}),a.keywords&&w.default.createElement("meta",{name:"keywords",content:a.keywords.join(",")}),w.default.createElement("meta",{property:"og:type",content:"article"}),w.default.createElement("meta",{property:"og:title",content:a.title||n.title}),w.default.createElement("meta",{property:"og:description",content:a.description||n.description}),w.default.createElement("meta",{property:"og:image",content:n.landscapeImageUrl||(0,g.default)(window.settings,"images.placeholderCover")}))}}]),t}(_.Component);e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(34),p=r(f);n(801);var h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"banner-ad-container"},d.default.createElement(p.default,{path:(0,l.default)(this.props.data,"metadataMap.adTag"),dimensions:[[970,90],[728,90],[320,50]]}))}}]),t}(d.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(109),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(39),m=r(h),y=n(122),v=r(y),g=n(62),b=r(g),_=n(15),w=n(60),E=n(27),k=n(12),T=r(k),S=n(8),C=r(S);n(767);var P=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={bundle:(0,c.default)(r.props,"data.contentData[0].gist"),list:(0,c.default)(r.props,"data.contentData[0].gist.bundleList",[]),trailer:(0,c.default)(r.props,"data.contentData[0].contentDetails.trailers[0]"),isPurchased:!1,warning:!1,orientation:"portrait"},r.setThumbnailType=function(){var e=r.state.bundle.imageGist;r.setState({orientation:e._3x4?"portrait":"landscape"})},r.playFirstVideo=function(){window.location=r.state.list[0].gist.permalink},r.share=function(e,t){b.default[e](window.location.href,t)},o=n,i(r,o)}return o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this.state.bundle.bundlePricing;e.purchase?this.getBundle():this.setState({isPurchased:!0,message:"This content is free."}),this.setThumbnailType()}},{key:"getBundle",value:function(){var e=this;(0,_.getUser)(function(t){t&&(0,E.getTransactionInfo)(t.userId,!0).then(function(t){var n=e.state.list,r=t.data.records.map(function(e){return e.contentResponse.gist.id}),a=n.filter(function(e){return!r.includes(e.id)});0===a.length?e.setState({isPurchased:!0,message:"You've purchased this bundle."}):a.length!==n.length&&a.length>0&&e.setState({isPurchased:!1,warning:"You have already purchased individual movies within this bundle."})})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.bundle,r=t.list,a=t.trailer,i=t.isPurchased,o=t.orientation,s=t.warning,u=t.message,c=(0,w.fetchModels)(),d=(0,l.default)(r,function(e,t){return e.push(t.id),e},[]),f={gist:Object.assign({},n,{id:{content:n.id,items:d}}),pricing:Object.assign({},n.bundlePricing)};return p.default.createElement("div",{className:"bundle-detail"},p.default.createElement("div",{className:"header"},p.default.createElement("div",{className:"video-module-wrapper"},p.default.createElement("div",{className:"header-info"},p.default.createElement("h1",{itemProp:"name",className:"header-title"},n.title),p.default.createElement("span",{className:"header-details"},p.default.createElement("span",null,r.length+" videos"))))),p.default.createElement("div",{className:"main-content"},p.default.createElement("div",{className:"top-content"},p.default.createElement("div",{className:"bundle-cover"},p.default.createElement("img",{src:n.imageGist._16x9,alt:n.title})),i?p.default.createElement("div",{className:"overlay-video-container purchased"},p.default.createElement("div",{className:"overlay-video"},p.default.createElement("div",{className:"overlay-title"},p.default.createElement("span",null,u))),p.default.createElement("div",{className:"overlay-body"},p.default.createElement("div",{className:"overlay-button site-background-color"},p.default.createElement("button",{onClick:this.playFirstVideo},"Watch now")))):p.default.createElement("div",{className:"overlay-wrapper"},p.default.createElement(v.default,{content:f,watchNow:this.playFirstVideo,model:c,warning:s}))),p.default.createElement("div",{className:"bottom-content"},p.default.createElement("p",{className:"bundle-description"},n.description),a&&p.default.createElement("div",{className:"bundle-trailer"},p.default.createElement("a",{href:a.permalink},p.default.createElement("div",{className:"trailer"},p.default.createElement("img",{src:a.videoImageUrl,alt:n.title}),p.default.createElement("i",{className:"ion-ios-play site-color"}))),p.default.createElement("div",{className:"sharing-buttons"},p.default.createElement("i",{className:"ion-social-twitter",onClick:function(){return e.share("twitter","Bundle page")}}),p.default.createElement("i",{className:"ion-social-facebook",onClick:function(){return e.share("facebook")}}),p.default.createElement("i",{className:"ion-ios-email",onClick:function(){return e.share("email")}}))))),p.default.createElement(m.default,{layout:{settings:{infoHover:!0,thumbnailType:o,loop:r.length>6,columns:{desktop:6,mobile:3,ott:6,tablet:4}}},data:{contentData:r,title:"Inside the bundle"}}))}}]),t}(f.Component);(0,T.default)(P,function(e){return{user:e.user}},C.default),e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"getLabel",value:function(){return(this.props.className.includes("prev")?"Previous":"Next")+" event slide"}},{key:"render",value:function(){return u.default.createElement("button",Object.assign({},this.props,{style:this.style,className:this.props.className+(this.props.hide?" hide":""),"aria-label":this.getLabel()}),u.default.createElement("div",{className:"focus-box"}))}}]),t}(u.default.PureComponent);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=n.onFocus.bind(n),n}return o(t,e),u(t,[{key:"getCenteredBgImgStyle",value:function(e){return{background:"url("+e+"?impolicy=resize&w=900&h=500)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}},{key:"onFocus",value:function(e){e.currentTarget.focus(),this.props.onFocus(this.props.index)}},{key:"render",value:function(){var e=this.props.item.gist,t=(0,l.default)(e.imageGist,"_16x9",e.landscapeImageUrl);return d.default.createElement("div",{className:"event-carousel-item"},d.default.createElement("div",{className:"image-event",style:this.getCenteredBgImgStyle(t)}),d.default.createElement("div",{className:"background-black"}),!this.props.noInfo&&d.default.createElement("div",{className:"foot"},d.default.createElement("div",{className:"text"},d.default.createElement("div",{className:"title"},e.title),d.default.createElement("div",{className:"description"},e.description)),d.default.createElement("div",{className:"buttons"},d.default.createElement("a",{"aria-label":"Info for "+e.title,onFocus:this.onFocus,className:"info",href:e.permalink},"Info"),"EVENT"===e.contentType&&e.ticketUrl&&d.default.createElement("a",{"aria-label":"Tickets for "+e.title,onFocus:this.onFocus,className:"tickets cta",href:e.ticketUrl,target:"_blank"},"Tickets"))))}}]),t}(d.default.PureComponent);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(32),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(44),m=r(h),y=n(492),v=r(y),g=n(493),b=r(g);n(68),n(177),n(768);var _=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.items=(0,c.default)(e,"data.contentData",[]),n.state={desktopMode:window.innerWidth>=1025,currentSlideIdx:0},n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.attachWindowResizeListener(),this.disableSlideContainerFocus(),this.disableTabbingDots()}},{key:"attachWindowResizeListener",value:function(){var e=this;window.addEventListener("resize",function(t){e.setState({desktopMode:window.innerWidth>=1025})})}},{key:"disableSlideContainerFocus",value:function(){(0,l.default)(document.querySelectorAll(".slick-slide"),function(e){e.tabIndex="-1"})}},{key:"disableTabbingDots",value:function(){var e=this;if(null!=this.carousel.querySelector(".slick-dots"))var t=setInterval(function(){var n=e.carousel.querySelector(".slick-dots");n&&((0,l.default)(n.querySelectorAll("button"),function(e){e.dataset.noFocus=!0,e.tabIndex=-1}),clearInterval(t))},300)}},{key:"updateCurrentSlideIdx",value:function(e){this.setState({currentSlideIdx:e})}},{key:"render",value:function(){var e=this,t=this.items.length>1,n=(0,c.default)(this.props.layout,"settings.noInfo");return p.default.createElement("div",{ref:function(t){return e.carousel=t},className:"event-carousel "+((0,c.default)(this.props,"layout.settings.isHidden")?"hide":"")},this.items.length>0&&p.default.createElement(m.default,{ref:function(t){return e.slider=t},dots:t,infinite:!1,arrows:t,accessibility:!1,afterChange:this.updateCurrentSlideIdx.bind(this),prevArrow:p.default.createElement(v.default,{hide:0===this.state.currentSlideIdx}),nextArrow:p.default.createElement(v.default,{hide:this.state.currentSlideIdx===this.items.length-1}),autoplay:t,speed:750,centerMode:this.state.desktopMode&&!0,cssEase:"ease-in-out",slidesToShow:1,centerPadding:this.state.desktopMode&&"300px",autoplaySpeed:4e5},this.items.map(function(e,t){return p.default.createElement("div",{key:t},p.default.createElement(b.default,{index:t,item:e,noInfo:n}))})))}}]),t}(p.default.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(251),s=r(o),l=function(e){return i.default.createElement(s.default,Object.assign({},e,{type:"person"}))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(17),p=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:e.data&&e.data.contentData},n.handleClick=n.handleClick.bind(n),n}return o(t,e),u(t,[{key:"handleClick",value:function(e){(0,f.setPlaySourcePrefix)("Carousel")}},{key:"render",value:function(){var e=this,t=this.props.item,n=t.gist,r=(n.videoImageUrl||n.landscapeImageUrl||(0,l.default)(window.settings,"images.placeholderCover"))+"?impolicy=resize&w="+this.props.maxWidth+"&h="+.67*this.props.maxWidth;return d.default.createElement("a",{onClick:function(t){return e.handleClick(n.title)},className:"carousel-item",href:n.permalink},d.default.createElement("div",{className:"image"},d.default.createElement("img",{src:r,"data-src":r,className:"lazy",alt:n.title})),d.default.createElement("div",{className:"play-icon site-color"},d.default.createElement("i",{className:"ion-ios-play"})),d.default.createElement("div",{className:"foot"},d.default.createElement("div",{className:"info"},d.default.createElement("span",{className:"title"},n.title),d.default.createElement("span",{className:"more"},n.runtime&&Math.ceil(n.runtime/60)+"mins | ",n.year&&n.year+" |",n.primaryCategory&&n.primaryCategory.title&&n.primaryCategory.title)),d.default.createElement("div",{onClick:function(t){return e.handleClick(n.title)},className:"cta",href:n.permalink},"Watch Now")))}}]),t}(d.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(42),i=r(a),o=n(1),s=r(o),l=n(157),u=r(l),c=function(e){var t=e.item,n=(e.maxWidth,(0,i.default)(t.tags,function(e){return"classDuration"===e.tagType})),r=t.gist,a=(r.imageGist._32x9||r.imageGist._16x9)+"?impolicy=resize&w=1200&h=337.5";return s.default.createElement("a",{className:"carousel-item schedule-carousel",href:r.permalink},s.default.createElement("div",{className:"image"},s.default.createElement("img",{src:a,"data-src":a,className:"lazy desktop-image",alt:r.title}),s.default.createElement("img",{src:r.imageGist._16x9+"?impolicy=resize&w=1000&h=562.5","data-src":r.imageGist._16x9+"?impolicy=resize&w=1000&h=562.5",className:"lazy mobile-image",alt:r.title}),s.default.createElement("div",{className:"schedule-info"},"PERSON"!==r.contentType&&s.default.createElement("div",{className:"duration"},n&&s.default.createElement("span",{className:"item"},n.title)," ",r.primaryCategory&&r.primaryCategory.title&&s.default.createElement("span",{className:"item"}," ",r.primaryCategory.title)),r.scheduleStartDate&&s.default.createElement(u.default,{scheduleStartDate:r.scheduleStartDate,scheduleEndDate:r.scheduleEndDate}))))};e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(28),p=n(259),h=r(p),m=n(25),y=r(m),v=n(52),g=n(20),b=n(54),_=r(b);n(802);var w=n(165),E=r(w),k=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"fetchData",value:function(){var e=this;return new Promise(function(t,n){return(0,g.getToken)(function(n){return v.axiosWithKey.get(window.settings.apiBaseUrl+"/content/pages",{params:{path:window.location.pathname,modules:e.props.data.id,includeContent:!0,offset:e.props.items.length,languageCode:(0,_.default)(),sortBy:(0,l.default)(e.props,"data.filters.sortBy","title")},headers:{Authorization:n}}).then(function(e){return t((0,l.default)(e,"data.modules[0].contentData",[]))})})})}},{key:"render",value:function(){var e=(0,l.default)(this.props,"layout.settings"),t=(0,l.default)(this.props,"data.filters")||{},n=t.categories,r=t.tags,a=n&&n[0]||r&&r[0]||"";return d.default.createElement("div",{className:"category-page"},d.default.createElement(f.Helmet,null,d.default.createElement("title",null,a+" | "+window.settings.site)),d.default.createElement("h1",{className:"category-page-title site-color "},a||this.props.data.title),d.default.createElement("div",{className:"category-page-grid "+(e.thumbnailType?e.thumbnailType:"")+(e.columns&&e.columns.desktop?" items-on-desktop-"+e.columns.desktop:" ")+(e.columns&&e.columns.tablet?" items-on-tablet-"+e.columns.tablet:" ")+(e.columns&&e.columns.mobile?" items-on-mobile-"+e.columns.mobile:" ")},this.props.items.map(function(t){return d.default.createElement("div",{className:"grid-item",key:t.id},d.default.createElement(h.default,{item:t,thumbnailType:e.thumbnailType}))})),this.props.fetching&&d.default.createElement(y.default,null))}}]),t}(d.default.Component);e.exports=(0,E.default)(k)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_react=__webpack_require__(1),_react2=_interopRequireDefault(_react),ContentHtml=function(_React$Component){function ContentHtml(){return _classCallCheck(this,ContentHtml),_possibleConstructorReturn(this,(ContentHtml.__proto__||Object.getPrototypeOf(ContentHtml)).apply(this,arguments))}return _inherits(ContentHtml,_React$Component),_createClass(ContentHtml,[{key:"render",value:function(){var e,t=this,n=__webpack_require__(207);try{e=n.template(n.get(this.props,"layout.settings.html"))({data:n.get(this.props,"data.contentData")})}catch(r){e='<div class="html-error">'+r+"</div>",console.error(r)}return _react2.default.createElement("div",{className:"content-html"},_react2.default.createElement("style",null,n.get(this.props,"layout.settings.css")),_react2.default.createElement("div",{ref:function(e){return t.el=e},dangerouslySetInnerHTML:{__html:e}}))}},{key:"componentDidMount",value:function componentDidMount(){var _=__webpack_require__(207),data=this.props.data.contentData,entries=_.map(data,function(e){return e.gist}),el=this.el;eval(_.get(this.props,"layout.settings.js"))}}]),ContentHtml}(_react2.default.Component);module.exports=ContentHtml},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(83),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(39),p=r(f),h=n(15),m=n(27);n(803);var y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={records:null},n}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"continue-watching "+(this.state.records?"":"empty")},!(0,l.default)(this.state.records)&&d.default.createElement(p.default,{layout:this.props.layout,data:{contentData:this.state.records.map(function(e){return e.contentResponse}),title:"Continue Watching",filter:"Watch History",categoryUrl:this.state.records.length>=20?"/user/history":void 0}}))}},{key:"componentDidMount",value:function(){var e=this;(0,h.onUserAuth)(function(t){return t?void(0,m.fetchHistory)(t.userId).then(function(t){e.setState(Object.assign({},e.state,{records:t}))}):e.setState(Object.assign({},e.state,{records:null}))})}}]),t}(d.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(6),f=r(d),p=n(77),h=n(8),m=r(h);n(804);var y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={password:"",passwordConfirm:"",redirectToCardUpdate:!1,passwordUpdated:!1,errorMessage:"",token:""},n.handleChange=n.handleChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=new URLSearchParams(window.location.search);this.setState({redirectToCardUpdate:e.has("updatePayment"),token:e.get("resetToken")})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({errorMessage:""}),this.showFormErrors()){var n=document.forms.createPassword,r={resetToken:this.state.token,newPassword:n.password.value};(0,f.default)({url:"/identity/password",baseURL:window.settings.apiBaseUrl,method:"post",params:{site:window.settings.internalName},headers:{"Content-Type":"application/json","x-api-key":window.settings.baseAPIKey},data:JSON.stringify(r)}).then(function(e){var r={email:e.data.email,password:n.password.value};m.default.dispatch((0,p.login)(r)).then(function(){t.state.redirectToCardUpdate?(window.location.href="/user/account",window.sessionStorage.setItem("openUpdatecard",!0)):window.location.href="/"})}).catch(function(e){t.setState({errorMessage:e.response.data.error})})}else console.log("form is invalid: do not submit")}},{key:"handleChange",value:function(e){e.target.classList.add("active"),this.setState(a({},e.target.name,e.target.value)),this.showInputError(e.target.name)}},{key:"showFormErrors",value:function(){var e=this,t=document.querySelectorAll(".form-group input"),n=!0;return t.forEach(function(t){t.classList.add("active");var r=e.showInputError(t.name);r||(n=!1)}),n}},{key:"showInputError",value:function(e){var t=this.refs[e].validity,n=document.getElementById(e+"Label").textContent,r=document.getElementById(e+"Error"),a=e.indexOf("password")!==-1,i="passwordConfirm"===e;return i&&(this.refs.password.value!==this.refs.passwordConfirm.value?this.refs.passwordConfirm.setCustomValidity("Passwords do not match"):this.refs.passwordConfirm.setCustomValidity("")),t.valid?(r.textContent="",!0):(t.valueMissing?r.textContent=n+" is a required field":a&&t.patternMismatch?r.textContent=n+" should be longer than 4 chars":i&&t.customError&&(r.textContent="Passwords do not match"),!1)}},{key:"render",value:function(){return c.default.createElement("div",{className:"create-password site-color"},!this.state.passwordUpdated&&c.default.createElement("div",{className:"form-container"},c.default.createElement("div",{className:"header"},"Type your new password and confirm"),c.default.createElement("form",{name:"createPassword",onSubmit:this.handleSubmit,noValidate:!0},c.default.createElement("div",{className:"form-group"},c.default.createElement("label",{id:"passwordLabel"},"Password"),c.default.createElement("input",{type:"password",name:"password",ref:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,pattern:".{5,}",autoComplete:"false",required:!0}),c.default.createElement("div",{className:"error",id:"passwordError"})),c.default.createElement("div",{className:"form-group"},c.default.createElement("label",{id:"passwordConfirmLabel"},"Confirm Password"),c.default.createElement("input",{type:"password",name:"passwordConfirm",placeholder:"Confirm password",ref:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleChange,autoComplete:"false",required:!0}),c.default.createElement("div",{className:"error",id:"passwordConfirmError"},this.state.errorMessage)),c.default.createElement("div",{className:"button-container"},c.default.createElement("button",{type:"submit",className:"button create-submit",value:"Submit",onClick:this.handleSubmit},"Submit")))))}}]),t}(c.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1087),l=r(s),u=n(203),c=r(u),d=n(3),f=r(d),p=n(7),h=r(p),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),v=r(y),g={0:400,1:500,2:700,3:900},b=function(e){return e&&"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"},_=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refresh=function(){n.forceUpdate()},n.getStageStyle=function(){var e=(0,f.default)(n.props,"layout.settings.stage");return"mobile"===n.viewport&&(e=(0,c.default)({},e,e.mobile)),{position:"relative",height:e.height+"px",margin:"auto",backgroundColor:b(e.bgColor),backgroundImage:e.bgImage?"url("+e.bgImage+")":"",backgroundPosition:e.bgPosition,backgroundSize:e.bgSize,backgroundRepeat:e.bgRepeat}},n.templated=function(e){var t=/\[\s*i(\d*)\s*\]/gi,r=t.exec(e),a=r&&Number(r[1]);if(null!=a){var i=(n.state.increment+a+n.items.length)%n.items.length;e=e.replace(t,"["+i+"]")}try{return(0,l.default)(e)({items:n.items})}catch(r){return console.error(r),""}},n.onViewClick=function(e,t){var r=t.clickKey,a=t.clickValue;if(r)if("increment"===r)n.setState({increment:n.state.increment+Number(a)});else if("appcms-action"===r){var i={login:function(e){return console.log("login")}}[a];i&&i()}},n.data=e.data.contentData,n.items=(0,h.default)(n.data,function(e){return e.gist}),n.state={increment:0},n}return o(t,e),m(t,[{key:"render",value:function(){var e=this,t=(0,f.default)(this.props,"layout.settings.views");return v.default.createElement("div",{className:"cusotm-module"},v.default.createElement("div",{className:"stage",style:this.getStageStyle()},(0,h.default)(t,function(t){return e.getView(t)})))}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.refresh)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.refresh)}},{key:"getView",value:function(e){var t=this,n={key:e.id,style:this.getViewStyle(e),onClick:function(n){return t.onViewClick(n,e)}};return"new-url"===e.clickKey||"new-tab-url"===e.clickKey?(n.href=e.clickValue,"new-tab-url"===e.clickKey&&(n.target="_blank"),v.default.createElement("a",n,this.templated(e.content))):v.default.createElement("div",n,this.templated(e.content))}},{key:"getViewStyle",value:function(e){return"mobile"===this.viewport&&(e=(0,c.default)({},e,e.mobile)),{position:"absolute",display:"block",textDecoration:"none",outline:"none",top:"calc("+e.top.px+"px + "+e.top.percent+"%)",left:"calc("+e.left.px+"px + "+e.left.percent+"%)",width:"calc("+e.width.px+"px + "+e.width.percent+"%)",height:"calc("+e.height.px+"px + "+e.height.percent+"%)",borderRadius:e.borderRadius+"px",borderWidth:e.borderWidth+"px",borderStyle:e.borderColor&&e.borderStyle,borderColor:b(e.borderColor),backgroundColor:b(e.bgColor),backgroundImage:e.bgImage?"url("+this.templated(e.bgImage)+")":"",backgroundPosition:e.bgPosition,backgroundSize:e.bgSize,backgroundRepeat:e.bgRepeat,fontSize:(e.textSize||"12")+"px",fontWeight:g[e.textWeight],textAlign:e.textAlignment,color:b(e.textColor),letterSpacing:e.textSpacing+"px",lineHeight:e.textLineHeight+"em",cursor:e.clickKey?"pointer":"",userSelect:e.clickKey?"none":"",paddingTop:e.paddingTop+"px",paddingLeft:e.paddingLeft+"px",paddingRight:e.paddingRight+"px"}}},{key:"viewport",get:function(){return document.body.clientWidth>700?"desktop":"mobile"}}]),t}(v.default.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){
function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f);n(805);var h=n(45),m=n(20),y=n(53),v=r(y),g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=new URLSearchParams(window.location.search),n=t.get("filmId");(0,m.getToken)(function(r){var a=window.userLanguageSelection||(0,h.userLanguageSelector)();p.default.get(window.settings.apiBaseUrl+"/content/videos/"+n,{params:Object.assign({site:window.settings.internalName,timestamp:(new Date).getTime()},a?{languageCode:a}:{}),headers:{Authorization:r,"x-api-key":window.settings.baseAPIKey},contentType:"application/json"}).then(function(r){var a=r.data;e.setState({videoId:n,video:a,noAds:t.get("noAd"),autoplay:"false"!==t.get("autoplay")})})})}},{key:"render",value:function(){var e=this.state.videoId;return d.default.createElement("div",{className:"embed-player"},e&&d.default.createElement(v.default,Object.assign({},this.state,{videoId:e,fileType:this.props.layout.settings.fileType,isFree:!0,pricingOptions:{type:null},isTrailer:!1,autoplay:this.state.autoplay,videoTag:!this.state.noAds&&(0,l.default)(window.settings,"advertising.videoTag")})))}}]),t}(d.default.Component),b=n(12),_=n(8);b(g,function(e){return{user:e.user}},_),e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c);n(769);var f=n(28),p=n(18),h=n(34),m=r(h),y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"getEventSchedule",value:function(e){var t=[];return e.forEach(function(e){var n=e.orgEventDate;(0,p.differenceInCalendarDays)((0,p.format)(n,"MM/DD/YYYY"),(0,p.format)(Date.now(),"MM/DD/YYYY"))>=0&&t.push({date:n,showTime:e.showTime,eventTime:e.orgEventTime||"",doorTime:e.orgDoorTime||""})}),t}},{key:"render",value:function(){var e=(0,l.default)(this.props,"data.contentData[0].gist"),t={__html:(0,l.default)(e,"details","")},n=this.getEventSchedule(e.eventSchedule),r=n.length&&n[0].date,a=this.props.data.metadataMap||{},i=a.adTag,o=a.subscribeLinkUrl,s=[];return n.length>1&&(s=n.slice(1)),d.default.createElement("div",{className:"event-page"},this.helmet,e.imageGist._16x9&&d.default.createElement("div",{className:"event-page-image-container"},d.default.createElement("img",{src:e.imageGist._16x9,alt:e.title})),d.default.createElement("div",{className:"event-details"},d.default.createElement("div",{className:"event-description"},d.default.createElement("div",{className:"event-title"},e.title),d.default.createElement("div",{className:"event-desc"},d.default.createElement("div",{className:"content",dangerouslySetInnerHTML:t}))),d.default.createElement("div",{className:"event-info "+(n.length>0?"":"past")},d.default.createElement("div",{className:"mob-title"},e.title),n.length>0&&e.ticketUrl&&d.default.createElement("a",{href:e.ticketUrl,className:"event-button site-background-color",target:"_blank"},"Tickets"),n.length>0&&d.default.createElement("div",{className:"event-date-time-info"},d.default.createElement("div",{className:"event-data"},d.default.createElement("ion",{role:"presentation",className:"ion-calendar"}),d.default.createElement("div",{className:"event-meta"},d.default.createElement("p",null,"Date"),d.default.createElement("p",null,(0,p.format)(r,"dddd")," | ",(0,p.format)(r,"MMM D, YYYY")))),n[0].showTime&&d.default.createElement("div",{className:"event-data"},d.default.createElement("ion",{role:"presentation",className:"ion-android-time"}),d.default.createElement("div",{className:"event-meta"},d.default.createElement("p",null,"Time"),d.default.createElement("p",null,(0,p.format)(n[0].date+" "+n[0].eventTime,"h:mm A")))),n[0].doorTime&&d.default.createElement("div",{className:"event-data"},d.default.createElement("ion",{role:"presentation",className:"ion-ios-home"}),d.default.createElement("div",{className:"event-meta"},d.default.createElement("p",null,"Doors open"),d.default.createElement("p",null,(0,p.format)(n[0].date+" "+n[0].doorTime,"h:mm A")))),e.onSale&&d.default.createElement("div",{className:"event-data"},d.default.createElement("ion",{role:"presentation",className:"ion-ios-pricetags"}),d.default.createElement("div",{className:"event-meta"},d.default.createElement("p",null,"ON SALE NOW"))),s.length>0&&d.default.createElement("div",{className:"event-data"},d.default.createElement("div",{className:"event-meta"},d.default.createElement("p",null,"Additional Dates"),s.map(function(e,t){return d.default.createElement("p",null,(0,p.format)(e.date,"dddd")," |"," ",(0,p.format)(e.date,"MMM D, YYYY"))}))))),o&&d.default.createElement("a",{href:o,className:"coa-signup clearfix"},d.default.createElement("p",null,"Become a coainsider"),d.default.createElement("p",null,"sign up Today!"),d.default.createElement("button",{className:"event-button sign-up clearfix"},"sign up")),i&&d.default.createElement("div",{className:"event-ad clearfix"},d.default.createElement(m.default,{path:i,dimensions:[[300,250]]}))))}},{key:"helmet",get:function(){var e=this.props.data.contentData[0],t=e.gist,n=void 0===t?{}:t,r=e.seo,a=void 0===r?{}:r;return d.default.createElement(f.Helmet,null,d.default.createElement("title",null,(a.title||n.title)+" | "+window.settings.site),d.default.createElement("meta",{name:"description",content:a.description||n.description}),a.keywords&&d.default.createElement("meta",{name:"keywords",content:a.keywords.join(",")}),d.default.createElement("meta",{property:"og:type",content:"event"}),d.default.createElement("meta",{property:"og:title",content:a.title||n.title}),d.default.createElement("meta",{property:"og:description",content:a.description||n.description}),d.default.createElement("meta",{property:"og:image",content:n.posterImageUrl||n.videoImageUrl}))}}]),t}(d.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(18),d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"getEventDate",value:function(){var e=this.props.event.schedule,t=e.orgEventDate+" "+e.orgEventTime,n="";return n+=(0,c.format)(t,"dddd"),n+=" | ",n+=(0,c.format)(t,"MMM D, YYYY"),e.showTime&&(n+=" | "+(0,c.format)(t,"hh:mm A")),e.orgDoorTime&&(n+=" | Doors open at "+(0,c.format)(e.orgEventDate+" "+e.orgDoorTime,"hh:mm A")),n}},{key:"render",value:function(){var e=this,t=this.props.event;return u.default.createElement("div",{className:"event-list-item",tabIndex:"0",key:t.id,"data-url":t.gist.permalink,onKeyPress:function(t){return"Enter"===t.key&&e.props.gotoEvent(t)},onClick:function(t){return e.props.gotoEvent(t)},role:"link","aria-label":t.gist.title+" "+this.getEventDate()},u.default.createElement("div",{className:"event-image-container"},u.default.createElement("div",{className:"event-image",style:{backgroundImage:"url("+t.gist.landscapeImageUrl+")"}})),u.default.createElement("div",{className:"event-date-container"},u.default.createElement("div",{className:"title"},t.gist.title),u.default.createElement("div",{className:"event-date"},this.getEventDate())),u.default.createElement("div",{className:"event-tickets-container"},t.gist.ticketUrl&&u.default.createElement("a",{href:t.gist.ticketUrl,"aria-label":"Tickets for "+t.gist.title,target:"_blank",className:"event-tickets",onClick:function(e){return e.stopPropagation()}},"Tickets")))}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(70),l=r(s),u=n(378),c=r(u),d=n(7),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(252),v=r(y),g=n(505),b=r(g),_=n(52),w=n(25),E=r(w),k=n(18),T=n(24),S=n(89),C=r(S),P=n(246),O=r(P),N=n(147),A=r(N);n(806);var j=6,I=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),n=new Date;return e.state={currentView:"grid",events:[],year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),currentType:"All Events",currentOffset:j,noEventsTimer:0,isModelOpen:!1},e.viewChange=e.viewChange.bind(e),e.typeChange=e.typeChange.bind(e),e.getEvents=e.getEvents.bind(e),e.filterEvents=e.filterEvents.bind(e),e.loadMore=e.loadMore.bind(e),e.showModal=e.showModal.bind(e),e}return o(t,e),p(t,[{key:"viewChange",value:function(e){this.setState({currentView:e.target.value})}},{key:"typeChange",value:function(e){this.setState({currentType:e.target.value})}},{key:"bodyHack",value:function(e){var t=window.document.body.classList;t&&e?t.add("overflow-hide"):t&&t.contains("overflow-hide")&&t.remove("overflow-hide")}},{key:"showModal",value:function(){this.bodyHack(!this.state.isModelOpen),this.setState({isModelOpen:!this.state.isModelOpen})}},{key:"componentDidMount",value:function(){this.getEvents(this.state.year,this.state.month)}},{key:"componentDidUpdate",value:function(e,t){var n=this.eventsCtner.firstChild.children,r=t.currentOffset-1;t.currentOffset!==this.state.currentOffset?n[r]&&this.focusNextLoadedEvent():t.events.length!==this.state.events.length&&this.focusNextLoadedEvent()}},{key:"focusNextLoadedEvent",value:function(){if(this.firstEventLoad===!1){var e=this.eventsCtner.firstChild.children,t=this.state.currentOffset-j;e[t].focus()}}},{key:"gotoEvent",value:function(e){e.preventDefault();var t=e.currentTarget;if(t.dataset.url)return void(window.location.href=t.dataset.url)}},{key:"loadMore",value:function(){this.handleEventLoadState(),this.state.currentOffset+j>this.state.events.length&&this.getEvents(this.state.year+1,this.state.month+1),this.setState({currentOffset:this.state.currentOffset+j})}},{key:"getEvents",value:function(e,t){var n=this;if(!this.state.events[t+"/"+e]){this.setState({loading:!0});var r=Math.floor(new Date(e,t,1).getTime()/1e3),a=Math.floor(new Date(e+1,t+1,0).getTime()/1e3);_.axios.get("/content/event/schedule",{params:{from:r,to:a}}).then(function(e){n.handleEventLoadState(),n.setState({events:n.state.events.concat(n.filterEvents(e.data)),loading:!1,noMoreEvents:0===e.data.length})}).catch(function(e){console.log(e)})}}},{key:"handleEventLoadState",value:function(){void 0===this.firstEventLoad?this.firstEventLoad=!0:this.firstEventLoad&&(this.firstEventLoad=!1)}},{key:"filterEvents",value:function(e){var t=[];return(0,f.default)(e,function(e){(0,f.default)(e.gist.eventSchedule,function(n){var r={};if(r.scheduleDate=1e3*n.eventDate,r.eventTime=1e3*n.eventTime,n.doorTime&&(r.doorTime=1e3*n.doorTime),r.id=e.gist.id+r.scheduleDate,(0,k.differenceInCalendarDays)((0,k.format)(r.scheduleDate,"MM/DD/YYYY"),(0,k.format)(Date.now(),"MM/DD/YYYY"))>=0){var a=new Date(r.scheduleDate);r.date=a.getDate(),r.year=a.getFullYear(),r.month=a.getMonth(),r.schedule=n,r.gist=e.gist,t.push(r)}})}),t=(0,c.default)(t,"id"),t=(0,l.default)(t,"scheduleDate")}},{key:"handleClickOutside",value:function(){this.setState({eventPopup:!1})}},{key:"render",value:function(){var e=this,t=["All Events"],n=this.props.data&&this.props.data.metadataMap,r=n&&n.viewALLEventsURL,a=n&&n.stanzaHandle;this.state.events.forEach(function(e){t.push(e.gist.type)}),t=t.sort().filter(function(e,n){return e!==t[n+1]});var i=this.state.events.filter(function(t){return e.state.currentType===t.gist.type||"All Events"===e.state.currentType});return i=i.slice(0,this.state.currentOffset),m.default.createElement("div",{className:"events-box-shadow"},m.default.createElement("div",{className:"events-container"},m.default.createElement("div",{className:"events-header"},m.default.createElement("div",{tabIndex:"0","aria-label":"Upcoming events",className:"events-copy"},"Upcoming Events"),m.default.createElement("div",{className:"event-selectors"},a&&m.default.createElement("button",{"aria-label":"Add to Calendar",className:"add-to-calendar",onClick:function(){return e.showModal()}},m.default.createElement("div",{className:"add-calendar"},m.default.createElement(T.CalendarIcon,null),m.default.createElement("span",null,"Add to Calendar")," ")),m.default.createElement("div",{className:"event-type-selectors"},m.default.createElement("select",{role:"combobox","aria-label":"Select event type",className:"event-type-select",onChange:function(t){return e.typeChange(t)}},t.map(function(e,t){return m.default.createElement("option",{value:e,key:t},e)})),m.default.createElement("ion",{role:"presentation",className:"ion-ios-arrow-down"})),m.default.createElement("div",{className:"event-view-selectors"},m.default.createElement("div",{className:"icon-view"},"list"!==this.state.currentView?m.default.createElement("ion",{role:"presentation",className:"ion-"+this.state.currentView}):m.default.createElement("ion",{role:"presentation",className:"ion-ios-list"})),m.default.createElement("select",{role:"combobox","aria-label":"Select event viewing style",className:"event-view-select",onChange:function(t){return e.viewChange(t)}},m.default.createElement("option",{value:"grid"},"Grid"),m.default.createElement("option",{value:"list"},"List"),m.default.createElement("option",{value:"calendar"},"Calendar")),m.default.createElement("ion",{role:"presentation",className:"ion-ios-arrow-down"})))),m.default.createElement("div",{ref:function(t){return e.eventsCtner=t},className:"events-view"},"grid"===this.state.currentView&&m.default.createElement("div",{className:"grid-view"},i.map(function(t){return m.default.createElement(v.default,{event:t,key:t.id,gotoEvent:e.gotoEvent})})),"list"===this.state.currentView&&m.default.createElement("div",{className:"list-view"},i.map(function(t){return m.default.createElement(b.default,{event:t,key:t.id,gotoEvent:e.gotoEvent})})),"calendar"===this.state.currentView&&m.default.createElement(O.default,{type:this.state.currentType,gotoEvent:this.gotoEvent})),!("calendar"===this.state.currentView)&&this.state.loading&&m.default.createElement(E.default,null),"calendar"!==this.state.currentView&&m.default.createElement("div",{className:"load-more"},r?m.default.createElement("a",{"aria-label":"View all events",href:r,className:"view-all"}," View All "):this.state.events.length>j?m.default.createElement("button",{"aria-label":"Load more events",className:"load-more-button"+(this.state.noMoreEvents?" no-events":""),onClick:this.loadMore},"Load More"):m.default.createElement("div",null)),this.state.isModelOpen&&m.default.createElement(C.default,{title:"Add to Calendar",shown:this.state.isModelOpen,closeModal:this.showModal,className:"modal-anim calendar-iframe",children:m.default.createElement("iframe",{src:"https://stanza.co/@"+a+"?embed=true"})})))}}]),t}(m.default.Component);e.exports=(0,A.default)(I)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(70),l=r(s),u=n(7),c=r(u),d=n(3),f=r(d),p=n(141),h=r(p),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),v=r(y),g=n(6),b=r(g),_=n(22);n(770);var w=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={loaded:!1,teams:[]},r.componentDidMount=function(){r.fetchFighters().then(function(){r.scrollToView()})},r.fetchFighters=function(){var e=window.settings,t=e.apiBaseUrl,n=e.internalName,a=e.navigation,i=(0,h.default)(a.primary,{displayedPath:"/fighters"})[0];return b.default.get(t+"/search/v2/list?site="+n+"&type=roster").then(function(e){var t=r.sortFightersAlphabetically(e.data[0].teams),n=(0,f.default)(i,"items");r.setState({teams:t,fighters:n})}).catch(function(e){console.log(e)})},r.scrollToView=function(){var e=window.location.hash;if(r.setState({loaded:!0}),""!==e){var t=document.getElementById(e.slice(1));t.scrollIntoView(),window.scrollBy(0,-70)}},r.getToFighterPage=function(e){window.location=(0,f.default)(e,"data.permalink")},r.sortFightersAlphabetically=function(e){return(0,c.default)(e,function(e){return{name:e.name,players:(0,l.default)(e.players,function(e){return e.lastName})}})},r.renderFighters=function(e,t){return r.state.teams.length>0&&v.default.createElement("div",{key:t},v.default.createElement("h1",{id:""+e.name.replace(" ",""),className:"weightclass site-border-color"},e.name),v.default.createElement("div",{className:"fighters-wrapper"},e.players.map(function(e,t){return v.default.createElement("div",{className:"fighter-details",onClick:function(){return r.getToFighterPage(e)},key:t},v.default.createElement("div",{className:"fighter-avatar"},v.default.createElement("img",{src:(0,f.default)(e,"data.images._3x4.url"),alt:e.lastName+" headshot"})),v.default.createElement("div",{className:"fighter-stats"},v.default.createElement("div",{className:"fighter-info"},v.default.createElement("div",{className:"fighter-flag"},v.default.createElement("img",{src:(0,f.default)(e,"data.images._1x1.url"),alt:"country flag"})),v.default.createElement("div",{className:"fighter-fullname"},v.default.createElement("span",null,e.firstName),v.default.createElement("span",null,e.lastName))),v.default.createElement("div",{className:"fighter-record"},v.default.createElement("span",{className:"record site-color"},(0,_.reduceMetadata)(e.data.metadata).mma_record),v.default.createElement("span",{className:"score"},"("+(0,_.reduceMetadata)(e.data.metadata).pfl_record+")"))),v.default.createElement("div",{className:"fighter-charac"},v.default.createElement("div",null,v.default.createElement("span",null,"Weight"),v.default.createElement("span",null,e.weight)),v.default.createElement("div",null,v.default.createElement("span",null,"Height"),v.default.createElement("span",null,e.height))))})))},o=n,i(r,o)}return o(t,e),m(t,[{key:"render",value:function(){var e=this;return v.default.createElement("div",{className:"fighters-roster"},this.state.loaded?this.state.fighters?this.state.fighters.map(function(t){return e.state.teams.filter(function(e){return e.name===t.title}).map(function(t,n){return e.renderFighters(t,n)})}):this.state.teams.map(function(t,n){return e.renderFighters(t,n)}):v.default.createElement("div",null))}}]),t}(y.Component);e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(209),l=r(s),u=n(7),c=r(u),d=n(3),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(130),v=r(y);n(807);var g=n(179),b=r(g),_=n(180),w=r(_),E=n(929),k=r(E),T=n(895),S=r(T),C=n(893),P=r(C),O=n(45),N=function(e){return e.includes("apple.com")?b.default:e.includes("chromecast")?S.default:e.includes("google.com")?w.default:e.includes("roku")?k.default:e.includes("amazon.com")?P.default:void 0},A=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={footerPusher:0},e.setFooterHeight=e.setFooterHeight.bind(e),e}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.setFooterHeight(),window.addEventListener("resize",this.setFooterHeight)}},{key:"setFooterHeight",value:function(){this.setState({footerPusher:document.querySelector(".footer01__content").clientHeight+30})}},{key:"renderAppLinks",value:function(){var e=(0,f.default)(window.settings,"navigation.appStore");if(e)return(0,c.default)(e,function(e,t){var n={background:"url("+N(e.url)+") no-repeat",backgroundSize:"contain",backgroundPosition:"center"};return m.default.createElement("a",{style:n,className:"app-link",key:t,href:e.url,target:"_blank"})})}},{key:"render",value:function(){var e=(0,f.default)(window.settings,"navigation.footer"),t=(0,l.default)((0,f.default)(window.settings,"socialMedia"),function(e){return e.url}),n=(0,f.default)(window.settings,"navigation.sponsor"),r=(0,f.default)(window.settings,"navigation.network");return window.sessionStorage.getItem("isApp")?m.default.createElement("div",null):m.default.createElement("div",{className:"footer01"},m.default.createElement("div",{className:"footer01__pusher",style:{height:this.state.footerPusher+"px"}}),m.default.createElement("div",{className:"footer01__content footer"},m.default.createElement("div",{className:"footer01__border site-border-color"}),m.default.createElement("div",{className:"links"},(0,c.default)(e,function(e,t){return m.default.createElement("a",{className:"link",href:e.url,target:e.newTab?"_blank":"_self",key:t},(0,O.localizeTitle)(e))}),m.default.createElement("div",{className:"social-links"},(0,c.default)(t,function(e,t){return m.default.createElement("a",{key:t,href:e.url,target:"_blank",className:"connect-circle "+t},m.default.createElement("span",{className:"ion-social-"+t}))}))),m.default.createElement("div",{className:"app-links"},this.renderAppLinks()),n&&m.default.createElement("div",{className:"sponsor-links"},(0,c.default)(n,function(e,t){return m.default.createElement("a",{key:t,href:e.url,target:"_blank",className:"sponsor-link"},m.default.createElement("img",{src:e.icon,className:"sponsor-img",alt:e.title}))})),m.default.createElement("div",{className:"info"},m.default.createElement("div",{className:"copyright"}," "+(new Date).getFullYear()+" "+window.settings.companyName+". ALL RIGHTS RESERVED."),m.default.createElement("div",{className:"powered-by"},m.default.createElement("a",{target:"_blank",href:"http://www.viewlift.com/"},"Powered by",!window.SERVER_SIDE_RENDERING&&m.default.createElement("img",{src:v.default,alt:"ViewLift"})),".")),r&&m.default.createElement("div",{className:"network-links"},(0,c.default)(r,function(e,t){return m.default.createElement("a",{key:t,href:e.url,target:"_blank",className:"network-link"},m.default.createElement("img",{src:e.icon,className:"network-img",alt:e.title}))}))))}}]),t}(m.default.Component);e.exports=A},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(209),l=r(s),u=n(7),c=r(u),d=n(3),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(52),v=n(20),g=n(130),b=r(g);n(808);var _=n(179),w=r(_),E=n(180),k=r(E),T=n(45),S=["40b3114f-49e9-48b9-bf32-70427d3e5399","91c39ddb-2b85-441a-a209-bedb475bc1cd","e5e94486-e05f-47e7-b81e-c14ed1f51c36","6005b5aa-7531-4bd4-9883-7dc7ed64cde7","6ed5ba16-a689-435f-bf7d-a572a5251d56"],C=function(e){return e.includes("apple.com")?w.default:e.includes("google.com")?k.default:""},P=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={latestVideos:[]},n}return o(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;(0,v.getToken)().then(function(t){return y.axiosWithKey.get("/content/videos",{headers:{authorization:t},params:{ids:S.join(",")}}).then(function(t){var n=t.data;e.setState({latestVideos:n.records})})})}},{key:"render",value:function(){var e=(0,f.default)(window.settings,"navigation.footer"),t=(0,f.default)(window.settings,"navigation.appStore"),n=(0,l.default)((0,f.default)(window.settings,"socialMedia"),function(e){return e.url});return m.default.createElement("div",{className:"footer02"},m.default.createElement("div",{className:"footer02__content footer"},m.default.createElement("div",{className:"footer02__left"},m.default.createElement("img",{className:"footer02__logo",src:(0,f.default)(window.settings,"images.desktopLogo"),alt:window.settings.site}),m.default.createElement("p",{className:"footer02__copyright"},"Copyright "+(new Date).getFullYear()+" "+window.settings.companyName+". All rights reserved.")),m.default.createElement("div",{className:"footer02__center"},m.default.createElement("div",{className:"footer02__links"},m.default.createElement("h4",{className:"footer02__links-heading"},"Learn More"),(0,c.default)(e,function(e,t){return m.default.createElement("a",{className:"footer02__link link",href:e.url,target:e.newTab?"_blank":"_self",key:t},(0,T.localizeTitle)(e))})),m.default.createElement("div",{className:"footer02__links"},m.default.createElement("h4",{className:"footer02__links-heading"},"Latest Movies"),(0,c.default)(this.state.latestVideos,function(e){var t=e.gist;return m.default.createElement("a",{className:"footer02__link link",href:t.permalink,key:t.id},t.title)}))),m.default.createElement("div",{className:"footer02__right"},m.default.createElement("div",{className:"footer02__appstore-links"},(0,c.default)(t,function(e,t){var n=e.displayedPath,r=e.title;return m.default.createElement("a",{className:"footer02__appstore-link",href:n,key:t},!window.SERVER_SIDE_RENDERING&&m.default.createElement("img",{className:"footer02__appstore-image",src:C(n),alt:r,title:r}))})),m.default.createElement("div",{className:"footer02__social-links"},(0,c.default)(n,function(e,t){return m.default.createElement("a",{key:t,href:e.url,target:"_blank",className:"footer02__social-link "+t},m.default.createElement("span",{className:"ion-social-"+t}))})),m.default.createElement("p",{className:"powered-by"},"Powered by",m.default.createElement("a",{target:"_blank",href:"http://www.viewlift.com/"},!window.SERVER_SIDE_RENDERING&&m.default.createElement("img",{src:b.default,alt:"ViewLift"}))))))}}]),t}(m.default.Component);e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(130),m=r(h);n(809);var y=n(179),v=r(y),g=n(180),b=r(g),_=n(45),w=function(e){return e.includes("apple.com")?v.default:e.includes("google.com")?b.default:""},E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderSubLinkMenu=function(e){return p.default.createElement("div",{className:"sublink-menu"},(0,l.default)(e,function(e,t){return p.default.createElement("a",{key:t,href:e.url,target:e.newTab?"_blank":"_self"},(0,_.localizeTitle)(e))}))},n.renderCopySection=function(){return p.default.createElement("div",{className:"copy-section"},p.default.createElement("div",{className:"copyright"}," "+(new Date).getFullYear()+" "+window.settings.companyName+". All rights reserved."),p.default.createElement("a",{"aria-label":"Viewlift",className:"viewlift",target:"_blank",href:"http://www.viewlift.com/"},p.default.createElement("span",{className:"label"},"Powered by"),!window.SERVER_SIDE_RENDERING&&p.default.createElement("img",{src:m.default,alt:"ViewLift"})))},n.address=(0,c.default)(window.settings,"navigation.settings.footerAddress"),n.phone=(0,
c.default)(window.settings,"customerService.phone"),n.bgImage=(0,c.default)(window.settings,"navigation.settings.footerBackgroundImage"),n}return o(t,e),d(t,[{key:"formatPhoneNumber",value:function(e){var t=(""+e).replace(/\D/g,""),n=t.match(/^(\d{3})(\d{3})(\d{4})$/);return n?"("+n[1]+")"+n[2]+"-"+n[3]:null}},{key:"render",value:function(){var e=void 0;return this.bgImage&&(e={background:"url("+this.bgImage+") no-repeat",backgroundSize:"cover",backgroundPosition:"center"}),p.default.createElement("footer",{style:e,className:"footer03 footer"},p.default.createElement("div",{className:"site-info-section"},p.default.createElement("div",{className:"site-info"},this.renderLogo(),(this.address||this.phone)&&p.default.createElement("div",{className:"contact-info"},this.renderAddressSection(),this.renderPhoneSection())),this.renderNetworks()),p.default.createElement("div",{className:"link-section"},this.renderLinks()),this.renderMediaSection(),this.renderCopySection())}},{key:"renderLogo",value:function(){var e=(0,c.default)(window.settings,"navigation.settings.footerLogo")||(0,c.default)(window.settings,"images.desktopLogo");if(e){var t={background:"url("+e+") no-repeat",backgroundSize:"contain",backgroundPosition:"top"};return p.default.createElement("div",{className:"logo",style:t})}}},{key:"renderAddressSection",value:function(){if(this.address)return p.default.createElement("div",{"aria-label":"Address: "+this.address,tabIndex:"0",className:"address-section"},p.default.createElement("p",{className:"site-info-label"},"Address"),p.default.createElement("div",{className:"site-info-value"},this.address))}},{key:"renderPhoneSection",value:function(){if(this.phone){var e=this.formatPhoneNumber(this.phone);return p.default.createElement("div",{"aria-label":"Phone number: "+e,tabIndex:"0",className:"phone-section"},p.default.createElement("p",{className:"site-info-label"},"Phone"),p.default.createElement("p",{className:"site-info-value"},e))}}},{key:"renderNetworks",value:function(){var e=(0,c.default)(window.settings,"navigation.network");if(e)return p.default.createElement("div",{className:"networks"},p.default.createElement("div",{className:"label"},"Proud Home of The"),p.default.createElement("div",{className:"network-links"},(0,l.default)(e,function(e,t){var n={background:"url("+e.icon+") no-repeat",backgroundSize:"contain",backgroundPosition:"center"};return p.default.createElement("a",{"aria-label":e.title,style:n,key:t,href:e.url})})))}},{key:"renderLinks",value:function(){var e=this,t=(0,c.default)(window.settings,"navigation.footer",[]);return(0,l.default)(t,function(t,n){return p.default.createElement("div",{key:n,className:"footer-link"},p.default.createElement("a",{href:t.url,target:t.newTab?"_blank":"_self"},t.title),t.items&&t.items.length>0&&e.renderSubLinkMenu(t.items))})}},{key:"renderMediaSection",value:function(){var e=(0,c.default)(window.settings,"socialMedia"),t=(0,c.default)(window.settings,"navigation.appStore");if(e||t)return p.default.createElement("div",{className:"media-section"},t&&p.default.createElement("div",{className:"app-links"},(0,l.default)(t,function(e,t){var n={background:"url("+w(e.url)+") no-repeat",backgroundSize:"contain",backgroundPosition:"center"};return p.default.createElement("a",{style:n,className:"app-link",key:t,href:e.url,target:"_blank","aria-label":e.title})})),e&&p.default.createElement("div",{className:"social-links"},(0,l.default)(e,function(e,t){return p.default.createElement("a",{className:"social-link",key:t,href:e.url,"aria-label":t,target:"_blank"},p.default.createElement("i",{role:"presentation",className:"ion-social-"+t}))})))}}]),t}(p.default.Component);e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(209),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(328),m=r(h),y=n(331),v=r(y),g=n(896),b=r(g),_=n(894),w=r(_);n(771);var E=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={links:(0,c.default)(window.settings,"navigation.footer"),socialLinks:(0,l.default)((0,c.default)(window.settings,"socialMedia"),function(e){return e.url}),address:(0,c.default)(window.settings,"navigation.settings.footerAddress")},r.componentDidMount=function(){r.setFooterHeight(),window.addEventListener("resize",r.setFooterHeight)},r.setFooterHeight=function(){r.setState({footerPusher:document.querySelector(".footer04__content").clientHeight+30})},o=n,i(r,o)}return o(t,e),d(t,[{key:"render",value:function(){var e=this.state,t=e.address,n=e.links;return p.default.createElement("div",{className:"footer04"},p.default.createElement("div",{className:"footer04__pusher",style:{height:this.state.footerPusher+"px"}}),p.default.createElement("div",{className:"footer04__content"},p.default.createElement("div",{className:"footer-main"},p.default.createElement("div",{className:"links"},p.default.createElement("ul",null,n.map(function(e,t){return p.default.createElement("li",{key:t},p.default.createElement("a",{href:e.url},e.title))}))),p.default.createElement("div",{className:"download-app"},p.default.createElement("div",{className:"phone-wrapper"},p.default.createElement("a",{href:"https://itunes.apple.com/sa/app/neo-u/id1436991935?mt=8&ign-mpt=uo%3D2",target:"_blank"},p.default.createElement("img",{src:m.default,alt:"appstore download"})),p.default.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.neou.fitness",target:"_blank"},p.default.createElement("img",{src:v.default,alt:"google play download"}))),p.default.createElement("div",{className:"tv-wrapper"},p.default.createElement("a",{href:"https://www.amazon.com/RhinoCo-NEO-U/dp/B07JLSCJVT?keywords=neo+u&qid=1540589241&s=STRING%28mas-store-name%29&sr=1-1&ref=sr_1_1",target:"_blank"},p.default.createElement("img",{src:b.default,alt:"fire tv download"})),p.default.createElement("a",{href:"https://itunes.apple.com/us/app/neo-u/id1436991935?mt=8",target:"_blank"},p.default.createElement("img",{src:w.default,alt:"apple tv download"})))),p.default.createElement("div",{className:"bottom-section"},p.default.createElement("div",{className:"company-address"},t),p.default.createElement("div",{className:"copyright"},"Copyright  "+(new Date).getFullYear()+" "+window.settings.companyName)))))}}]),t}(f.Component);e.exports=E},492,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=n.onFocus.bind(n),n}return o(t,e),u(t,[{key:"getCenteredBgImgStyle",value:function(e){return{background:this.props.fullWidth?"url("+e+"?impolicy=resize&w=900&h=500)":"url("+e+")",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}}},{key:"onFocus",value:function(e){e.currentTarget.focus(),this.props.onFocus(this.props.index)}},{key:"render",value:function(){var e=this.props.item.gist,t=(0,l.default)(e.imageGist,"_16x9",e.landscapeImageUrl)||(0,l.default)(this.props.item,"images._16x9Image.secureUrl"),n=this.props.isFullWidth;return d.default.createElement("div",{className:"event-carousel-item",onClick:n?function(){return window.location=e.permalink}:null},d.default.createElement("div",{className:"image-event",style:this.getCenteredBgImgStyle(t)}),d.default.createElement("div",{className:"background-black"}),!n&&d.default.createElement("div",{className:"foot"},d.default.createElement("div",{className:"text"},d.default.createElement("div",{className:"title"},e.title),d.default.createElement("div",{className:"description"},e.description)),d.default.createElement("div",{className:"buttons"},d.default.createElement("a",{"aria-label":"Info for "+e.title,onFocus:this.onFocus,className:"info",href:e.permalink},"Info"),"EVENT"===e.contentType&&e.ticketUrl&&d.default.createElement("a",{"aria-label":"Tickets for "+e.title,onFocus:this.onFocus,className:"tickets cta",href:e.ticketUrl,target:"_blank"},"Tickets"))))}}]),t}(d.default.PureComponent);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(32),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(44),m=r(h),y=n(512),v=r(y),g=n(513),b=r(g);n(68),n(810),n(772);var _=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.items=(0,c.default)(e,"data.contentData",[]),n.layout=(0,c.default)(e,"layout.settings",[]),n.state={desktopMode:window.innerWidth>=1025,currentSlideIdx:0},n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){this.attachWindowResizeListener(),this.disableSlideContainerFocus(),this.disableTabbingDots()}},{key:"attachWindowResizeListener",value:function(){var e=this;window.addEventListener("resize",function(t){e.setState({desktopMode:window.innerWidth>=1025})})}},{key:"disableSlideContainerFocus",value:function(){(0,l.default)(document.querySelectorAll(".slick-slide"),function(e){e.tabIndex="-1"})}},{key:"disableTabbingDots",value:function(){var e=this;if(null!=this.carousel.querySelector(".slick-dots"))var t=setInterval(function(){var n=e.carousel.querySelector(".slick-dots");n&&((0,l.default)(n.querySelectorAll("button"),function(e){e.dataset.noFocus=!0,e.tabIndex=-1}),clearInterval(t))},300)}},{key:"updateCurrentSlideIdx",value:function(e){this.setState({currentSlideIdx:e})}},{key:"render",value:function(){var e=this,t=this.items.length>1,n=this.layout.isFullWidth,r=this.layout.isHidden,a=this.layout.loop;return p.default.createElement("div",{ref:function(t){return e.carousel=t},className:"event-carousel "+(r?"hide":"")+(n?"full-width":"")},this.items.length>0&&p.default.createElement(m.default,{ref:function(t){return e.slider=t},dots:t&&!n,arrows:t,accessibility:!1,afterChange:this.updateCurrentSlideIdx.bind(this),prevArrow:p.default.createElement(v.default,{hide:0===this.state.currentSlideIdx}),nextArrow:p.default.createElement(v.default,{hide:this.state.currentSlideIdx===this.items.length-1}),speed:750,centerMode:!n&&this.state.desktopMode&&!0,cssEase:"ease-in-out",slidesToShow:1,infinite:!0,centerPadding:!n&&this.state.desktopMode&&"300px",autoplay:a,autoplaySpeed:3e4},this.items.map(function(e,t){return p.default.createElement("div",{key:t},p.default.createElement(b.default,{index:t,item:e,isFullWidth:n}))})))}}]),t}(p.default.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(121),d=r(c),f=n(15),p=n(27),h=n(123),m=r(h),y=n(165),v=r(y),g=n(12),b=r(g),_=n(8),w=r(_),E=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={deleteAllModal:!1,page:1},r.toggleModal=function(){r.setState({deleteAllModal:!r.state.deleteAllModal})},r.clear=function(){(0,p.deleteHistory)().then(function(e){200===e.status&&(r.props.setWrappedState({items:[]}),r.setState({deleteAllModal:!r.state.deleteAllModal}))})},r.deleteItem=function(e){(0,p.deleteHistory)(e.id).then(function(t){200===t.status&&r.props.setWrappedState({items:r.props.items.filter(function(t){return t.id!==e.id})})})},o=n,i(r,o)}return o(t,e),s(t,[{key:"componentDidUpdate",value:function(e,t){t.user&&!this.state.user&&this.setState({deleteAllModal:!1})}},{key:"fetchData",value:function(){var e=this;return new Promise(function(t,n){return(0,f.onUserAuth)(function(n){if(n)return(0,p.fetchHistory)(n.userId,e.state.page).then(function(n){var r=n.map(function(e){return e=e.contentResponse.gist});e.setState({page:e.state.page+1}),t(r)})})})}},{key:"render",value:function(){return!window.SERVER_SIDE_RENDERING&&u.default.createElement(m.default,{user:this.state.user},u.default.createElement(d.default,Object.assign({trayTitle:this.props.data.title||"History",deleteItem:this.deleteItem,toggleModal:this.toggleModal,clear:this.clear,header:"History",deleteAllModal:this.state.deleteAllModal},this.props,this.state)))}}]),t}(l.Component);(0,b.default)(E,function(e){return{user:e.user}},w.default),e.exports=(0,v.default)(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(7),i=r(a),o=n(1),s=r(o);n(811);var l=function(e){return s.default.createElement("div",{className:"company-features-container"},(0,i.default)(e.layout.settings.items,function(e,t){var n={background:"url("+e.imageUrl+") no-repeat",backgroundSize:"contain"};return s.default.createElement("div",{key:t,className:"company-feature"},s.default.createElement("div",{className:"feature-icon-container"},s.default.createElement("div",{className:"feature-icon",style:n})),s.default.createElement("div",{className:"feature-description"},s.default.createElement("h1",{className:"feature-header"},e.title),s.default.createElement("p",{className:"feature-summary"},e.description)))}))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(15),d=n(121),f=r(d),p=n(123),h=r(p),m=n(12),y=r(m),v=n(8),g=r(v),b=n(27),_=n(165),w=r(_),E=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={page:1},o=n,i(r,o)}return o(t,e),s(t,[{key:"fetchData",value:function(){var e=this;return new Promise(function(t,n){return(0,c.getUser)(function(n){if(n)return(0,b.getTransactionInfo)(n.userId,!0,e.state.page).then(function(n){var r=[];Object.keys(n.data.records).forEach(function(e){r.push(n.data.records[e].contentResponse.gist)}),e.setState({page:e.state.page+1}),t(r)})})})}},{key:"render",value:function(){return u.default.createElement(h.default,{user:this.state.user},u.default.createElement(f.default,Object.assign({header:"My Library"},this.props)))}}]),t}(l.Component);(0,y.default)(E,function(e){return{user:e.user}},g.default),e.exports=(0,w.default)(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(253),s=r(o);n(773);var l=function(e){var t=e.data,n=(e.changeView,t);return 0===n.length?i.default.createElement("div",{className:"no-events"},"No Live Events for today"):i.default.createElement("div",{className:"DayView"},n.map(function(e,t){return i.default.createElement(s.default,{event:e,key:t})}))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(253),d=r(c),f=n(520),p=r(f);n(812);var h=n(58),m=r(h),y=n(159),v=y.CONSTANTS.LEFT,g=y.CONSTANTS.RIGHT,b=y.CONSTANTS.BOTH,_=y.CONSTANTS.NONE,w=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={scrollButtons:_},r.handleScroll=function(e){return function(t){var n=r.refs.list,a=Math.ceil(.8*n.getBoundingClientRect().width);n.scrollBy({left:e===g?a:-a,behavior:"smooth"})}},r.scrollButtonDisplayer=function(){var e=r.refs.list,t=e.getBoundingClientRect().width,n=e.scrollWidth,a=e.scrollLeft,i=Math.floor(t)===n,o=0===a&&!i,s=Math.ceil(t+a)>=n&&!i,l=i?_:o?g:s?v:b;r.setState({scrollButtons:l})},r.renderChevron=function(e){var t=r.state.scrollButtons,n=!0;return t===e||t===b?u.default.createElement("div",{className:"DayEvents_scroll scroll_"+e,onClick:r.handleScroll(e)},p.default[e](n)):null},o=n,i(r,o)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){this.debouncedHandler=(0,m.default)(this.scrollButtonDisplayer,350),this.refs.list&&(this.scrollButtonDisplayer(),window.addEventListener("resize",this.debouncedHandler),this.refs.list.addEventListener("scroll",this.debouncedHandler))}},{key:"componentWillUnmount",value:function(){this.refs.list&&(window.removeEventListener("resize",this.debouncedHandler),this.refs.list.removeEventListener("scroll",this.debouncedHandler))}},{key:"render",value:function(){var e=this.props.eventsByDay,t=e.day,n=e.date,r=e.events,a=e.month;return u.default.createElement("div",{className:"DayEvents"},u.default.createElement("div",{className:"DayEvents_labels"},u.default.createElement("div",{className:"DayEvents_dayLabel"},a),u.default.createElement("div",{className:"DayEvents_dateLabel"},n),u.default.createElement("div",{className:"DayEvents_dayLabel"},t)),r?u.default.createElement("div",{className:"DayEvents_list",ref:"list"},this.renderChevron(v),r.map(function(e,t){return u.default.createElement(d.default,{key:t,event:e})})):u.default.createElement("div",{className:"DayEvents_none"},"No Classes Scheduled"),r?this.renderChevron(g):null)}}]),t}(l.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(813),t.default={left:function(e){return i.default.createElement("svg",{viewBox:"0 0 614 1024",width:"3rem",height:"4rem"},i.default.createElement("path",{className:"chevron chevron_left "+(e?"hoverChevron":""),d:"M508.201-2.299c-8.907 0.365-16.581 3.928-24.027 11.237l-8.77 8.588-459.756 459.711c-8.588 8.633-13.338 20.099-13.338 32.295s4.751 23.662 13.338 32.295l468.709 468.572c7.491 7.354 15.165 10.917 24.21 11.283 7.902 0.32 20.007-7.035 33.117-20.144 8.542-8.588 16.81-17.632 24.529-26.95 1.919-2.33 3.563-4.431 5.070-6.349l-22.657-22.611-436.049-436.095 458.386-458.386c-1.507-1.919-3.198-4.065-5.116-6.395-7.674-9.273-15.942-18.317-24.484-26.859-13.11-13.155-25.215-20.51-33.163-20.19z"}))},right:function(e){return i.default.createElement("svg",{viewBox:"0 0 614 1024",width:"3rem",height:"4rem"},i.default.createElement("path",{className:"chevron chevron_right "+(e?"hoverChevron":""),d:"M65.391 1021.681c8.907-0.365 16.581-3.928 24.027-11.237l8.77-8.588 459.756-459.711c8.588-8.633 13.338-20.099 13.338-32.295s-4.751-23.662-13.338-32.295l-468.709-468.572c-7.491-7.354-15.165-10.917-24.21-11.283-7.902-0.32-20.007 7.035-33.117 20.144-8.542 8.588-16.81 17.632-24.529 26.95-1.919 2.33-3.563 4.431-5.070 6.349l22.657 22.611 436.049 436.095-458.386 458.386c1.507 1.919 3.198 4.065 5.116 6.395 7.674 9.273 15.942 18.317 24.484 26.859 13.11 13.155 25.215 20.51 33.163 20.19z"}))}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(775);var o=n(519),s=r(o),l=n(159),u=function(e){var t=e.data,n=(0,l.splitEventsIntoDays)(t);return i.default.createElement("div",{className:"WeekView"},n.map(function(e,t){return i.default.createElement(s.default,{key:t,eventsByDay:e})}))};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(518),d=r(c),f=n(521),p=r(f),h=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={data:r.props.data.contentData.filter(function(e){return e.gist.scheduleEndDate>Date.now()}),view:"week",isToggleAbsolute:!1},r.componentDidMount=function(){var e=document.querySelector(".footer04"),t=document.querySelector(".WeekView_changeView"),n=document.documentElement;window.addEventListener("scroll",function(){r.setState({isToggleAbsolute:n.clientHeight+window.scrollY>=n.scrollHeight-e.offsetHeight+t.offsetHeight})},!1)},r.changeView=function(e){return function(t){var n="week"===e?"day":"week";r.setState({view:n})}},r.renderView=function(e){var t=r.state.data;if("week"===e)return u.default.createElement(p.default,{data:t});if("day"===e){var n=function(e){var t=function(e){return new Date(e).getDate()},n=t(Date.now());return e.filter(function(e){var r=e.gist.scheduleStartDate;return t(r)===n})},a=n(r.state.data);return u.default.createElement(d.default,{data:a})}},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.state.view,t={day:"Weekly View",week:"Daily View"},n=Object.assign({},this.state.isToggleAbsolute?{position:"absolute",bottom:"-30px"}:{position:"fixed",bottom:0});return u.default.createElement("div",{style:{backgroundColor:"#0d0d0d",display:"flex",flexDirection:"column",position:"relative",minHeight:"100vh"}},u.default.createElement("button",{className:"WeekView_changeView",onClick:this.changeView(e),style:n},t[e]),this.renderView(e))}}]),t}(u.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(166),d=r(c);n(814);var f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){this.state.user&&(window.location="/home");var e=this.props.data.metadataMap.desktopImageURL;return u.default.createElement("div",{className:"login-hardwall",style:{backgroundImage:"url("+e+")"}},u.default.createElement("div",{className:"popup-view"},u.default.createElement(d.default,null)))}}]),t}(l.Component),p=n(12),h=n(8);p(f,function(e){return{user:e.user}},h),e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.color,r=e.open;return u.default.createElement("span",{className:t,style:{color:n,marginLeft:"1em"},onClick:this.props.toggle},r?u.default.createElement("i",{className:"ion-arrow-down-b"}):u.default.createElement("i",{className:"ion-arrow-left-b"}))}}]),t}(l.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a),o=function(e){return i.default.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},i.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{transform:"translate(-1198.000000, -19.000000)",fill:"#FFFFFF",fillRule:"nonzero"},i.default.createElement("g",{id:"noun_global_1194707",transform:"translate(1198.000000, 19.000000)"},i.default.createElement("path",{d:"M12,0 C5.4,0 0,5.4 0,12 C0,18.6 5.4,24 12,24 C18.6,24 24,18.6 24,12 C24,5.4 18.6,0 12,0 Z M12.6,6.9375 C14.025,6.9 15.4125,6.7875 16.65,6.525 C17.1,7.9875 17.4,9.6375 17.4375,11.4375 L12.5625,11.4 L12.6,6.9375 Z M12.6,5.8125 L12.6,1.3875 C14.0625,1.725 15.375,3.2625 16.2375,5.4375 C15.1125,5.6625 13.875,5.775 12.6,5.8125 Z M11.475,1.3875 L11.475,5.8125 C10.1625,5.775 8.925,5.6625 7.7625,5.475 C8.6625,3.225 9.975,1.6875 11.475,1.3875 Z M11.4375,6.9375 L11.4375,11.4375 L6.5625,11.4 C6.6375,9.6375 6.9,7.9875 7.35,6.525 C8.625,6.7875 10.0125,6.9375 11.4375,6.9375 Z M5.4375,11.4 L1.1625,11.4 C1.275,9.1125 2.1,7.0125 3.45,5.325 C4.2375,5.7 5.2125,6.0375 6.225,6.3 C5.775,7.8 5.475,9.5625 5.4375,11.4 Z M5.4375,12.525 C5.475,14.325 5.7375,16.0125 6.15,17.5125 C5.1,17.775 4.1625,18.1125 3.3375,18.525 C2.0625,16.8375 1.275,14.775 1.1625,12.525 L5.4375,12.525 Z M6.5625,12.525 L11.4375,12.5625 L11.4375,16.875 C9.975,16.9125 8.55,17.0625 7.275,17.2875 C6.825,15.8625 6.6,14.25 6.5625,12.525 Z M11.4,18 L11.4,22.8 C9.8625,22.4625 8.5125,20.775 7.6125,18.375 C8.775,18.15 10.0875,18 11.4,18 Z M12.525,22.8 L12.525,18 C13.875,18.0375 15.1875,18.15 16.3875,18.375 C15.4875,20.775 14.1,22.5 12.525,22.8 Z M12.5625,16.8375 L12.5625,12.5625 L17.4375,12.6 C17.4,14.2875 17.1375,15.8625 16.7625,17.2875 C15.45,17.025 14.025,16.875 12.5625,16.8375 Z M18.5625,12.6 L22.8375,12.6 C22.725,14.8125 21.9375,16.875 20.6625,18.525 C19.8375,18.1125 18.9,17.775 17.8875,17.5125 C18.3,16.05 18.525,14.3625 18.5625,12.6 Z M18.5625,11.475 C18.525,9.6 18.225,7.8375 17.775,6.3375 C18.825,6.075 19.7625,5.7375 20.55,5.3625 C21.9,7.0875 22.725,9.1875 22.8375,11.5125 L18.5625,11.475 Z M19.8,4.425 C19.0875,4.725 18.3,4.9875 17.4,5.2125 C16.8,3.7125 16.05,2.4375 15.1125,1.575 C16.9125,2.1375 18.525,3.1125 19.8,4.425 Z M8.85,1.575 C7.95,2.4375 7.1625,3.7125 6.5625,5.2125 C5.6625,4.9875 4.875,4.725 4.1625,4.425 C5.475,3.1125 7.0875,2.1375 8.85,1.575 Z M4.0875,19.425 C4.7625,19.0875 5.5875,18.825 6.4875,18.6 C7.05,20.1375 7.7625,21.375 8.625,22.3125 C6.8625,21.75 5.325,20.7375 4.0875,19.425 Z M15.375,22.3125 C16.2375,21.375 16.9875,20.1375 17.5125,18.6 C18.4125,18.825 19.2,19.0875 19.9125,19.425 C18.675,20.7375 17.1375,21.75 15.375,22.3125 Z"
})))))};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(815);var c=n(3),d=r(c),f=n(525),p=r(f),h=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dropdownOpen:!1},r.toggleDropdown=function(e){r.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.languages,n=e.chooseLanguage,r=e.chosenLangCode,a=e.defaultLang,i=[a].concat(t.filter(function(e){return e.code!==a.code})),o={backgroundColor:(0,d.default)(window.settings,"brand.navigation.backgroundColor")},s=this.state.dropdownOpen;return u.default.createElement("div",{className:"ldd-wrapper"},u.default.createElement("div",{className:"ldd-header",onClick:this.toggleDropdown},u.default.createElement(p.default,null),u.default.createElement("span",{className:"ldd-header-title"},r.toUpperCase()),u.default.createElement("span",{className:"ldd-header-arrow"},s?"":"")),s&&u.default.createElement("ul",{className:"ldd-list",style:o},i.map(function(e){return u.default.createElement("li",{key:e.code,onClick:n(e.code),className:"ldd-list-item"},e.name)})))}}]),t}(l.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(816);var c=n(940),d=r(c),f=n(935),p=r(f),h=n(528),m=r(h),y=u.default.createElement("span",{className:"filter-section-icon"},u.default.createElement("img",{src:d.default,alt:"right arrow"})),v=u.default.createElement("span",{className:"filter-section-icon"},u.default.createElement("img",{src:p.default,alt:"down arrow"})),g=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={showItems:!1},r.handleLabelClick=function(e){r.setState(function(e){var t=e.showItems;return{showItems:!t}})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.label,r=e.chosenItems,a=e.toggleItem,i=e.image,o=this.state.showItems,s=t.map(function(e){var t=e.title,n=r.includes(t);return u.default.createElement("div",{className:"filter-section-option",key:t,onClick:a(t)},u.default.createElement(m.default,{on:n}),u.default.createElement("span",{className:"filter-section-option-text"},t))}),l=u.default.createElement("span",{className:"filter-section-icon-image"},u.default.createElement("img",{src:i,alt:"label"}));return u.default.createElement("div",{className:"filter-section"},u.default.createElement("div",{className:"filter-section-heading",onClick:this.handleLabelClick},o?v:y," ",l," ",n),o&&s)}}]),t}(l.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(817);var o=function(e){var t=e.on,n=["switch",t?"on ":""].join(" ");return i.default.createElement("div",{className:n},i.default.createElement("div",{className:"switch-toggle"}))};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchInstructors=t.fetchConcepts=t.fetchTags=t.createSearchQueryURL=t.getCachedTags=t.saveChosenItemsToClientStorage=t.saveFilterItemsToClientStorage=t.getChosenItemsFromClientStorage=t.getFilterItemsFromClientStorage=t.getTags=t.toggler=void 0;var i=n(6),o=r(i),s=n(52),l=n(20),u="searchFilterItems",c="chosenFilterItems",d=(t.toggler=function(e,t){return e.includes(t)?e.filter(function(e){return e!==t}):[].concat(a(e),[t])},t.getTags=function(e,t){return e.filter(function(e){return e.tagType===t}).map(function(e){return{title:e.title}})},t.getFilterItemsFromClientStorage=function(){return JSON.parse(window.localStorage.getItem(u))||{}}),f=t.getChosenItemsFromClientStorage=function(){return JSON.parse(window.localStorage.getItem(c))};t.saveFilterItemsToClientStorage=function(e){var t=d(),n=JSON.stringify(Object.assign({},t,e,{expirationDate:Date.now()+864e5}));window.localStorage.setItem(u,n)},t.saveChosenItemsToClientStorage=function(e){var t=f()||{},n=JSON.stringify(Object.assign({},t,e));window.localStorage.setItem(c,n)},t.getCachedTags=function(){var e=d(),t=e.equipment,n=e.times,r=e.concepts,a=e.brands,i=e.instructors,o=e.music,s=e.expirationDate;return t&&n&&r&&a&&i&&o&&Date.now()<s?{equipment:t,times:n,concepts:r,brands:a,instructors:i,music:o}:null},t.createSearchQueryURL=function(e){var t=window.settings,n=t.apiBaseUrl,r=t.internalName,a=e.chosenEquipment,i=e.chosenTimes,o=e.chosenConcepts,s=e.chosenBrands,l=e.chosenInstructors,u=e.chosenMusic,c=e.explicit,d=e.inputText,f=n+"/search/v1?site="+r+"&types=video",p={searchTerm:d.replace(/ /g,"+"),instructors:l.map(function(e){return e.replace(/ /g,"+")}).join(","),concepts:o.join(","),music:u.map(function(e){return e.replace(/ /g,"+")}).join(","),equipment:a.map(function(e){return e.replace(/ /g,"+")}).join(","),time:i.map(function(e){return e.replace(/ /g,"+")}).join(","),brands:s.map(function(e){return e.replace(/ /g,"+")}).join(",")},h="&explicit="+Boolean(c.length),m=Object.keys(p).filter(function(e){return!!p[e]}).map(function(e){return e+"="+p[e]}).join("&");return m?f+"&"+m+h:""+f+h},t.fetchTags=function(){return new Promise(function(e,t){var n=window.settings.internalName;(0,l.getToken)(function(r){return(0,s.axiosWithKey)({method:"GET",url:"fitness/all-equipment?site="+n,headers:{Authorization:r}}).then(function(t){e(t.data)}).catch(t)})})},t.fetchConcepts=function(){return new Promise(function(e,t){var n=window.settings.internalName;(0,l.getToken)(function(r){return(0,s.axiosWithKey)({method:"GET",url:"content/categories?site="+n+"&languageCode=default",headers:{Authorization:r}}).then(function(t){e(t.data)}).catch(t)})})},t.fetchInstructors=function(){return new Promise(function(e,t){var n=window.settings.internalName;o.default.get(window.settings.apiBaseUrl+("/search/v2/list?site="+n+"&type=person")).then(function(e){return e.data}).then(e).catch(t)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u);n(776);var d=n(527),f=r(d),p=n(936),h=r(p),m=n(941),y=r(m),v=n(934),g=r(v),b=n(933),_=r(b),w=n(937),E=r(w),k=n(939),T=r(k),S=n(938),C=r(S),P=n(529),O=function(e){function t(){var e,n,r,s;i(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state=Object.assign({equipment:[],times:[],concepts:[],brands:[],instructors:[],music:[],explicit:[],inputText:"",chosenEquipment:[],chosenTimes:[],chosenConcepts:[],chosenBrands:[],chosenInstructors:[],chosenMusic:[]},(0,P.getFilterItemsFromClientStorage)(),(0,P.getChosenItemsFromClientStorage)()),r.handleSearch=function(){window.localStorage.setItem("searchFilterURL",(0,P.createSearchQueryURL)(r.state)),window.location.href="/filter"},r.handleInputChange=function(e){var t=e.target.value;r.setState({inputText:t})},r.toggleMaker=function(e){return function(t){return function(n){r.setState(function(n){var r=n[e],i=(0,P.toggler)(r,t),o=a({},e,i);return o},function(){var t=r.state[e],n=a({},e,t);(0,P.saveChosenItemsToClientStorage)(n)})}}},r.renderFilters=function(e,t,n){var a="chosen"+(e[0].toUpperCase()+e.slice(1)),i=r.toggleMaker(a),o=r.state[e],s=r.state[a];return 0!==o.length?c.default.createElement(f.default,{items:o,toggleItem:i,chosenItems:s,label:t,image:n}):null},r.renderLanguageFilter=function(){var e=[{title:"FILTER OUT"}],t=r.toggleMaker("explicit"),n=r.state.explicit,a="Explicit Language",i=C.default;return c.default.createElement(f.default,{items:e,toggleItem:t,chosenItems:n,label:a,image:i})},s=n,o(r,s)}return s(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=(0,P.getCachedTags)();return t?this.setState(t):((0,P.fetchTags)().then(function(t){var n=(0,P.getTags)(t,"equipment"),r=(0,P.getTags)(t,"classDuration"),a=(0,P.getTags)(t,"brand"),i=(0,P.getTags)(t,"musicType");e.setState({equipment:n,times:r,brands:a,music:i},function(){var t=e.state,n=t.equipment,r=t.times,a=t.brands,i=t.music;(0,P.saveFilterItemsToClientStorage)({equipment:n,times:r,brands:a,music:i})})}),(0,P.fetchConcepts)().then(function(t){var n=t.records;return e.setState({concepts:n.map(function(e){return e.gist})},function(){var t=e.state.concepts;(0,P.saveFilterItemsToClientStorage)({concepts:t})})}),void(0,P.fetchInstructors)().then(function(t){var n=t.map(function(e){return{title:e.firstName+" "+e.lastName}});e.setState({instructors:n},function(){var t=e.state.instructors;(0,P.saveFilterItemsToClientStorage)({instructors:t})})}))}},{key:"render",value:function(){var e=this.renderFilters,t=this.props.isOpen;return c.default.createElement("div",{className:"search-slidein "+(t?"":"is-closed")},c.default.createElement("button",{className:"search-slidein-close",onClick:this.props.toggleMenu},"close"),c.default.createElement("div",{className:"search-slidein-searchbar"},c.default.createElement("span",{className:"search-slidein-icon"},c.default.createElement("i",{className:"ion-ios-search-strong"})),c.default.createElement("input",{className:"search-slidein-input",type:"text",value:this.state.inputText,onChange:this.handleInputChange})),c.default.createElement("div",{className:"tags-wrapper"},e("equipment","Equipment",h.default),e("times","Time",y.default),e("concepts","Class Type",g.default),e("brands","Brand",_.default),e("instructors","Instructor",E.default),e("music","Music",T.default),this.renderLanguageFilter()),c.default.createElement("button",{className:"search-slidein-button",onClick:this.handleSearch},"Apply"))}}]),t}(u.Component);t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(24),m=n(486),y=r(m),v=n(9),g=r(v),b=n(15),_=n(17),w=n(45);n(818);var E=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={openSideNav:!1},e.openSideNav=e.openSideNav.bind(e),e.closeSideNav=e.closeSideNav.bind(e),e.onLogoutClick=e.onLogoutClick.bind(e),e.primaryCta=(0,c.default)(window.settings,"navigation.settings.primaryCta",{}),e.setPrimaryLinkGroups(),e.userLinks=(0,c.default)(window.settings,"navigation.user",[]),e.networks=(0,c.default)(window.settings,"navigation.network",[]),e}return o(t,e),d(t,[{key:"setPrimaryLinkGroups",value:function(){this.primaryLinks=(0,c.default)(window.settings,"navigation.primary",[]);var e=Math.ceil(this.primaryLinks.length/2);this.leftPrimaryLinks=this.primaryLinks.slice(0,e),this.rightPrimaryLinks=this.primaryLinks.slice(e,this.primaryLinks.length)}},{key:"render",value:function(){var e=this,t={background:"url("+this.logo+") no-repeat",backgroundSize:"contain",backgroundPosition:"center"};return p.default.createElement("nav",{className:"masthead02"},p.default.createElement("nav",{className:"mobile"},p.default.createElement("div",{onClick:this.openSideNav,className:"burger"},p.default.createElement("div",null),p.default.createElement("div",null),p.default.createElement("div",null)),p.default.createElement("a",{className:"logo",href:"/",style:t}),p.default.createElement("button",{className:"search-btn",onClick:g.default.search},p.default.createElement(h.SearchIcon,null))),this.state.openSideNav&&p.default.createElement("nav",{className:"side-nav"},p.default.createElement("div",{className:"top-section"},p.default.createElement("button",{className:"close-btn",onClick:this.closeSideNav},p.default.createElement("i",{role:"presentation",className:"ion-close"})),this.networks.length&&p.default.createElement("div",{className:"network-section"},p.default.createElement("div",{className:"label"},"Proud Home of The"),p.default.createElement("div",{className:"networks"},this.renderNetworks()))),p.default.createElement("div",{className:"bottom-section"},p.default.createElement("div",{className:"social-icons"},this.renderSocialIcons()),this.renderLinks(this.primaryLinks),this.renderUserActions(),this.state.user&&p.default.createElement("button",{className:"logout-btn",onClick:function(t){return e.onLogoutClick(t)}},"LOG OUT"),this.shouldRenderSubscribeBtn()&&this.subscribeBtn())),p.default.createElement("nav",{className:"desktop"},p.default.createElement("div",{className:"top-section"},p.default.createElement("div",{className:"top-section__left"},this.networks.length&&p.default.createElement("span",{className:"label"},"Proud Home of The"),this.renderNetworks()),p.default.createElement("div",{className:"top-section__right"},p.default.createElement("button",{"aria-label":"Search",className:"search-btn",onClick:g.default.search},p.default.createElement(h.SearchIcon,null)),this.renderSocialIcons(),this.renderUserActions(),this.shouldRenderSubscribeBtn()&&this.subscribeBtn())),p.default.createElement("div",{className:"bottom-section"},p.default.createElement("div",{className:"bottom-section__left"},this.renderLinks(this.leftPrimaryLinks)),p.default.createElement("div",{className:"bottom-section__middle"},p.default.createElement("a",{"aria-label":window.settings.site+" Home",href:"/"},p.default.createElement("img",{src:this.logo,alt:window.settings.site}))),p.default.createElement("div",{className:"bottom-section__right"},this.renderLinks(this.rightPrimaryLinks)))))}},{key:"openSideNav",value:function(){this.setState({openSideNav:!0})}},{key:"closeSideNav",value:function(){this.setState({openSideNav:!1})}},{key:"renderNetworks",value:function(){return(0,l.default)(this.networks,function(e,t){var n={background:"url("+e.icon+") no-repeat",backgroundSize:"contain",backgroundPosition:"center"};return p.default.createElement("a",{"aria-label":e.title,style:n,key:t,target:"_blank",className:"network",href:e.url})})}},{key:"renderSocialIcons",value:function(){var e=(0,c.default)(window.settings,"socialMedia",{});return(0,l.default)(e,function(e,t){return p.default.createElement("a",{"aria-label":t,className:"social-link",key:t,href:e.url,target:"_blank"},p.default.createElement("i",{role:"presentation",className:"ion-social-"+t}))})}},{key:"renderUserActions",value:function(){return this.state.user?this.accountMenu():this.loginBtn()}},{key:"shouldRenderSubscribeBtn",value:function(){return"SVOD"===window.settings.serviceType&&(!this.state.user||!(!this.state.user||this.state.user.isSubscribed))}},{key:"subscribeBtn",value:function(){if("Masthead"===this.primaryCta.placement)return p.default.createElement("a",{href:this.primaryCta.url,className:"cta subscribe-button"},this.primaryCta.ctaText)}},{key:"loginBtn",value:function(){return p.default.createElement("button",{onClick:g.default.login,className:"cta login-button"},"Login")}},{key:"onLogoutClick",value:function(e){e.preventDefault(),(0,b.logout)().then(function(e){(0,_.logoutUser)()})}},{key:"accountMenu",value:function(){var e=this,t=(0,l.default)(this.userLinks,function(e,t){return p.default.createElement("a",{key:t,href:e.url},(0,w.localizeTitle)(e))});return t.push(p.default.createElement("a",{key:this.userLinks.length,onClick:function(t){return e.onLogoutClick(t)}},"Log Out")),p.default.createElement("div",{className:"user-menu"},p.default.createElement(h.UserIcon,null),p.default.createElement("div",{className:"user-menu__links"},t))}},{key:"renderLinks",value:function(e){return(0,l.default)(e,function(e,t){return p.default.createElement(y.default,{key:t,link:e})})}},{key:"logo",get:function(){return(0,c.default)(window.settings,"images.desktopLogo","")}}]),t}(p.default.Component),k=n(12),T=n(8);k(E,function(e){return{user:e.user}},T),e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(254),s=r(o);n(778);var l=function(e){return i.default.createElement(s.default,Object.assign({},e,{filtersSearch:!0}))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(34),p=r(f);n(819);var h=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"rectangle-ad-container"+((0,l.default)(this.props,"layout.settings.isHidden")?" hide":"")},d.default.createElement(p.default,{path:(0,l.default)(this.props.data,"metadataMap.adTag"),dimensions:[[300,250]]}))}}]),t}(d.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(42),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(76),m=r(h),y=n(250),v=r(y),g=n(464),b=r(g),_=n(34),w=r(_);n(820);var E=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this,t=m.default.getState(),n=(0,c.default)(this.props,"layout.settings.backgroundColor"),r=(0,l.default)(t.data.modules,function(t){return t.id===e.props.data.moduleIds[0]}),a=(0,l.default)(t.data.modules,function(t){return t.id===e.props.data.moduleIds[1]}),i=(0,l.default)(t.data.modules,function(t){return t.id===e.props.data.moduleIds[2]});return p.default.createElement("div",{className:"modules-container"},p.default.createElement("div",{className:"carousel-container"},p.default.createElement(v.default,{data:r})),p.default.createElement("div",{className:"headlines-container",style:{background:n}},p.default.createElement("h2",null,p.default.createElement("span",null,a.title)),p.default.createElement(b.default,{data:a}),p.default.createElement("div",{className:"reactangle-ad"},p.default.createElement(w.default,{path:(0,c.default)(i,"metadataMap.adTag"),dimensions:[[300,250]]}))))}}]),t}(p.default.Component);e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),o=n(1),s=r(o),l=n(34),u=r(l);n(821);var c=function(e){var t=e.text,n=e.data;return s.default.createElement("div",null,s.default.createElement("div",{className:"banner-ad-container"},s.default.createElement(u.default,{path:(0,i.default)(n,"metadataMap.bannerAdTag"),dimensions:[[970,90],[728,90],[320,50]]})),s.default.createElement("div",{className:"player-paragraph",dangerouslySetInnerHTML:{__html:""+(t||"No bio at the moment.")}}))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(63),d=r(c),f=n(46);n(822);var p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.data,r=t.firstName,a=t.lastName,i=t.imageGist,o=t.number,s=t.instagramUrl,l=t.twitterUrl,c=t.facebookUrl,p=t.website;return u.default.createElement("div",{className:"player-container"},u.default.createElement("div",{className:"player-banner"},u.default.createElement("div",{className:"player-info"},u.default.createElement("div",{className:"player-team-logo"},u.default.createElement("img",{src:i._1x1,alt:"team logo"})),u.default.createElement("div",{className:"player-number site-color"},o),u.default.createElement("div",{className:"player-fullname"},u.default.createElement("span",null,r),u.default.createElement("span",null,a))),u.default.createElement("div",{className:"player-wrapper"},u.default.createElement("div",{className:"player-avatar"},u.default.createElement("img",{src:i._3x4||n(330),alt:"avatar"})),u.default.createElement("div",{className:"player-details"},u.default.createElement("div",{className:"personal-info"},f.player_info[0].map(function(t,n){return u.default.createElement("div",{key:n},u.default.createElement("span",{className:"details-header"},t),u.default.createElement("span",{className:"details-info"},null!==e.props.data[f.player_info[1][n]]?"dob"===f.player_info[1][n]?(0,d.default)(new Date(e.props.data[f.player_info[1][n]].replace("UTC","")),"MM/DD/YY"):e.props.data[f.player_info[1][n]]:"N/A"))})),u.default.createElement("div",{className:"social-handles"},l&&u.default.createElement("a",{href:l},u.default.createElement("i",{className:"ion-social-twitter"})),c&&u.default.createElement("a",{href:c},u.default.createElement("i",{className:"ion-social-facebook"})),s&&u.default.createElement("a",{href:s},u.default.createElement("i",{className:"ion-social-instagram"})),p&&u.default.createElement("a",{href:p},u.default.createElement("i",{className:"ion-ios-world-outline"})))))))}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(34),p=r(f),h=n(46),m=n(75),y=r(m),v=n(25),g=r(v);n(823);var b=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={headers:h.player_stats_info,season_stats:[]},r.componentDidMount=function(){r.props.api&&r.getDataFromApi(r.props.api)},r.componentWillReceiveProps=function(e){r.getDataFromApi(e.api)},r.getDataFromApi=function(e){var t=e.data.playerData.playerStats;if(t.hasOwnProperty("seasonStats")){if(Array.isArray(t.seasonStats)){var n=t.seasonStats.filter(function(e){return"Regular"===e.type}),a=t.seasonStats.filter(function(e){return"Playoffs"===e.type});t=[n,a]}else t=[[t.seasonStats]];r.setState({headers:h.player_stats_info_bis})}else t=[(0,l.default)(t,"regular",[]),(0,l.default)(t,"playoff",[])];r.setState({season_stats:t})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return d.default.createElement("div",null,this.state.season_stats.length?this.state.season_stats.map(function(t,n){return d.default.createElement("div",{className:"playerinfo-wrapper",key:n},d.default.createElement("h3",{className:"playerinfo-season site-border-color"},n<1?"Regular Season":"Playoffs"),d.default.createElement(y.default,{key:n,headers:e.state.headers[0],data:t,values:e.state.headers[1]}))}):d.default.createElement(g.default,null),d.default.createElement("div",{className:"banner-ad-container"},d.default.createElement(p.default,{path:(0,l.default)(this.props.data,"metadataMap.bannerAdTag"),dimensions:[[970,90],[728,90],[320,50]]})))}}]),t}(c.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(371),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f),h=n(536),m=r(h),y=n(537),v=r(y),g=n(535),b=r(g);n(824);var _=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={items:r.props.data&&r.props.data.contentData[0].gist,selection:!0},r.selection=function(e){(0,l.default)(e.target.className,"selected")||r.setState({selection:!r.state.selection})},r.componentDidMount=function(){var e=r.state.items.integrationId;return null===e?r.setState({selection:!1}):void p.default.get("/player/stats/"+e).then(function(e){r.setState({api:e})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.state.items,t=this.state.selection;return d.default.createElement("div",{className:"person-detail-01"},d.default.createElement(m.default,{data:e}),d.default.createElement("div",{className:"page-selection"},d.default.createElement("div",{onClick:this.selection,className:t?"player-stats site-border-color selected":"player-stats"},"Stats"),d.default.createElement("div",{onClick:this.selection,className:t?"player-bio":"player-bio site-border-color selected"},"Bio")),t?d.default.createElement(v.default,{api:this.state.api,data:this.props.data}):d.default.createElement(b.default,{text:e.body,data:this.props.data}))}}]),t}(c.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");
}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(63),p=r(f),h=n(22);n(825);var m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"renderFighterDetail",value:function(e,t){return d.default.createElement("div",{className:"detail"},d.default.createElement("span",{className:"detail-header"},e),d.default.createElement("span",{className:"detail-info"},t||"N/A"))}},{key:"render",value:function(){var e=(0,l.default)(this.props,"data.contentData[0].gist",{}),t=(0,h.reduceMetadata)((0,l.default)(e,"metadata",[])),r=e.firstName,a=e.lastName,i=e.imageGist,o=e.height,s=e.weight,u=e.dob,c=e.birthPlace,f=e.twitterUrl,m=e.instagramUrl,y=e.body,v=e.facebookUrl,g=e.teams;return d.default.createElement("div",{className:"person-detail-02"},d.default.createElement("div",{className:"player-container",style:{backgroundImage:"url("+(i._32x9||n(898))+")"}},d.default.createElement("div",{className:"player-banner"},d.default.createElement("div",{className:"player-info"},d.default.createElement("div",{className:"player-title"},d.default.createElement("div",{className:"player-team-logo"},i._1x1&&d.default.createElement("img",{src:i._1x1,alt:"team logo"})),d.default.createElement("div",{className:"player-fullname"},d.default.createElement("span",null,r),d.default.createElement("span",null,a))),d.default.createElement("div",{className:"player-record site-color"},t.mma_record),d.default.createElement("div",{className:"player-score"},t.pfl_record?"("+t.pfl_record+")":"")),d.default.createElement("div",{className:"player-wrapper"},d.default.createElement("div",{className:"player-avatar"},d.default.createElement("img",{src:i._3x4||n(329),alt:"avatar"})),d.default.createElement("div",{className:"player-details"},d.default.createElement("div",{className:"personal-info"},d.default.createElement("div",{className:"info-row physical"},this.renderFighterDetail("WEIGHT DIVISION",g[0].gist.title),this.renderFighterDetail("HEIGHT",o),this.renderFighterDetail("WEIGHT",s)),d.default.createElement("div",{className:"info-row origin"},this.renderFighterDetail("BIRTHDAY",null===u?"":(0,p.default)(u.split("T")[0],"MM/DD/YY")),this.renderFighterDetail("HOMETOWN",c),this.renderFighterDetail("POINTS",t.points))),d.default.createElement("div",{className:"social-handles"},f&&d.default.createElement("a",{href:f},d.default.createElement("i",{className:"ion-social-twitter"})),v&&d.default.createElement("a",{href:v},d.default.createElement("i",{className:"ion-social-facebook"})),m&&d.default.createElement("a",{href:m},d.default.createElement("i",{className:"ion-social-instagram"}))))))),d.default.createElement("div",{className:"bio",dangerouslySetInnerHTML:{__html:y}}))}}]),t}(d.default.PureComponent);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(258),p=r(f),h=n(24);n(779);var m=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={mobileMode:window.innerWidth<=800},r.componentDidMount=function(){window.addEventListener("resize",function(){r.setState({mobileMode:window.innerWidth<=800})},!1)},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=(0,l.default)(this.props,"data.contentData[0].gist"),t=(0,l.default)(e,"relatedVideos",[]),n=this.state.mobileMode,r=e.body,a=e.instagramUrl,i=e.facebookUrl,o=e.twitterUrl,s=e.imageGist,u=e.badgeImages;return d.default.createElement("div",{className:"person-detail-03",style:{backgroundImage:"url("+(n?s._3x4:s._1x1)+")"}},d.default.createElement("div",{className:"person-wrapper"},d.default.createElement("div",{className:"instructor-logo"},d.default.createElement("img",{src:u._1x1,alt:"brand logo"})),n&&d.default.createElement("div",{className:"social-handles"},a&&d.default.createElement("a",{href:a,target:"_blank"},d.default.createElement(h.InstagramIcon,null)),o&&d.default.createElement("a",{href:o,target:"_blank"},d.default.createElement("i",{className:"ion-social-twitter"})),i&&d.default.createElement("a",{href:i,target:"_blank"},d.default.createElement("i",{className:"ion-social-facebook"}))),d.default.createElement("div",{className:"info"},d.default.createElement("div",{className:"description-wrapper"},d.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:r}}),d.default.createElement("div",{className:"classes"},d.default.createElement(p.default,{settings:{arrows:!n,swipe:!n},data:{contentData:t.filter(function(e){return!e.gist.isLiveStream}),title:"Recent classes"},layout:{settings:{thumbnailType:"landscape",loop:!1,columns:{desktop:3,mobile:1,ott:4,tablet:2}}}}))))))}}]),t}(c.Component);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=n(43),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(34),m=r(h),y=n(44),v=r(y);n(68);var g=n(28),b=n(62),_=r(b),w=n(18);n(826);var E=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={currentImage:0,clickNext:!1,clickPrev:!1,fullScreenMode:!1,adBreak:0,closeAd:!1},e.setCurrentImage=e.setCurrentImage.bind(e),e.clickPrev=e.clickPrev.bind(e),e.clickNext=e.clickNext.bind(e),e.slideImage=e.slideImage.bind(e),e.toggleFullScreen=e.toggleFullScreen.bind(e),e.toggleAd=e.toggleAd.bind(e),e}return o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;this.smallCarousel=document.querySelector(".small-photogallery-carousel .slick-track"),setTimeout(function(){window.dispatchEvent(new Event("resize"))},0),window.document.addEventListener("keyup",function(t){27===t.keyCode&&e.state.fullScreenMode&&e.setState({fullScreenMode:!1}),37===t.keyCode&&e.clickPrev(),39===t.keyCode&&e.clickNext()})}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.state.clickNext&&this.state.currentImage%5===0){var r=this.smallSlider.innerSlider.state.slideCount,a=r-this.state.currentImage,i=a<5?r-a:this.state.currentImage;Promise.resolve(this.smallSlider.slickGoTo(i)).then(function(){n.slideImage()})}if(this.state.clickPrev&&this.state.currentImage+1===this.smallSlider.innerSlider.state.slideCount){var o=this.state.currentImage+1>5?this.smallSlider.innerSlider.state.slideCount-this.smallSlider.innerSlider.state.slideCount%5:0;Promise.resolve(this.smallSlider.slickGoTo(o)).then(function(){n.slideImage()})}this.state.clickPrev&&0!==this.state.currentImage&&null!==this.smallCarousel.children[t.currentImage].previousSibling&&!this.smallCarousel.children[t.currentImage].previousSibling.classList.contains("slick-active")&&Promise.resolve(this.smallSlider.slickPrev()).then(function(){n.slideImage()}),this.slideImage()}},{key:"clickNext",value:function(){this.bigSlider.slickNext(),this.state.currentImage+1!==this.smallSlider.innerSlider.state.slideCount?this.setState({currentImage:this.state.currentImage+1,clickNext:!0,clickPrev:!1}):this.setState({currentImage:0,clickNext:!0,clickPrev:!1}),this.state.fullScreenMode&&this.adIntervalCheck()}},{key:"adIntervalCheck",value:function(){this.setState({adBreak:this.state.adBreak+1,closeAd:!1})}},{key:"renderImage",value:function(e){var t={backgroundImage:"url("+e+")"};return p.default.createElement("figure",{className:"image-container"},p.default.createElement("div",{className:"image",style:t}))}},{key:"renderSmallSlideImages",value:function(e){var t={backgroundImage:"url("+e+")"};return p.default.createElement("figure",{className:"image-container"},p.default.createElement("div",{className:"image",style:t}))}},{key:"slideImage",value:function(){var e=document.querySelector(".slick-current");e&&e.classList.remove("slick-current"),this.smallCarousel.children[this.state.currentImage].classList.add("slick-current")}},{key:"setCurrentImage",value:function(e){var t=document.querySelector(".slick-current"),n=e.currentTarget;t&&t.classList.remove("slick-current"),this.bigSlider.slickGoTo(parseInt(n.dataset.index,10)),this.setState({currentImage:parseInt(n.dataset.index,10)}),n.classList.add("slick-current")}},{key:"clickPrev",value:function(){this.bigSlider.slickPrev(),this.state.currentImage>0?this.setState({currentImage:this.state.currentImage-1,clickPrev:!0,clickNext:!1}):this.setState({currentImage:this.smallSlider.innerSlider.state.slideCount-1,clickPrev:!0,clickNext:!1}),this.state.fullScreenMode&&this.adIntervalCheck()}},{key:"toggleFullScreen",value:function(){this.setState({fullScreenMode:!this.state.fullScreenMode})}},{key:"toggleAd",value:function(){this.setState({closeAd:!this.state.closeAd})}},{key:"displayAdContainer",value:function(e){return p.default.createElement("div",{className:"ad-container"},p.default.createElement("div",{className:"ad-copy"},"Advertisement"),p.default.createElement("div",{className:"ad"},p.default.createElement(m.default,{path:e,dimensions:[[300,250]]})),p.default.createElement("div",{className:"ad-close",onClick:this.toggleAd},"Close"))}},{key:"render",value:function(){var e=this,t=this.props.data.contentData[0],n=t.gist,r=t.streamingInfo.photogalleryAssets,a=t.tags.map(function(e){return e.title}),i=(0,l.default)(this.props.data,"metadataMap.adTag"),o=function(t){var n=t.className;return p.default.createElement("button",{onClick:e.clickPrev,className:n})},s=function(t){var n=t.className;return p.default.createElement("button",{onClick:e.clickNext,className:n})},u={infinite:!0,speed:200,slidesToShow:1,slidesToScroll:1,prevArrow:p.default.createElement(o,null),nextArrow:p.default.createElement(s,null)},c={infinite:!1,speed:300,slidesToShow:5,slidesToScroll:r.length>5?5:r.length,dots:r.length>5,arrows:r.length>5,nextArrow:r.length>5&&p.default.createElement(k,{itemCount:r.length}),prevArrow:r.length>5&&p.default.createElement(k,{itemCount:r.length})};return p.default.createElement("div",{className:"photo-gallery "+(this.state.fullScreenMode?"full-screen":"")},this.helmet,p.default.createElement("div",{className:"photo-gallery-content"},!this.state.fullScreenMode&&p.default.createElement("div",{className:"title-container"},p.default.createElement("div",{className:"title"},n.title),p.default.createElement("div",{className:"title-metadata"},p.default.createElement("div",{className:"author-details"},t.contentDetails.author&&p.default.createElement("span",{className:"name details"}," By ",t.contentDetails.author.name),n.publishDate&&p.default.createElement("span",{className:"date details"}," ",(0,w.format)(n.publishDate,"MMM D")),p.default.createElement("span",{className:"count details"},r.length," Photos")),a.length>0&&p.default.createElement("div",{className:"tagged"},p.default.createElement("span",{className:"tag-key"},"TAGGED:")," ",p.default.createElement("span",{className:"tag-value"},a.sort().join())))),p.default.createElement("div",{className:"photos-count"}," ",this.state.currentImage+1,"/",r.length),p.default.createElement("div",{className:"photogallery-carousel-containers"},p.default.createElement("div",{className:"photogallery-carousels"},p.default.createElement("div",{className:"big-photogallery-carousel"},p.default.createElement(v.default,Object.assign({},u,{ref:function(t){return e.bigSlider=t}}),r.map(function(t,n){return p.default.createElement("div",{key:n,onLoad:function(){return window.dispatchEvent(new Event("resize"))}},e.renderImage(t.secureUrl))})),p.default.createElement("div",{className:"full-screen-button","aria-label":"Open Full Screen",onClick:this.toggleFullScreen})),p.default.createElement("div",{className:"small-photogallery-carousel"+(r.length<=5?" dont-transform":"")},p.default.createElement(v.default,Object.assign({},c,{ref:function(t){return e.smallSlider=t}}),r.map(function(t,n){return p.default.createElement("div",{className:0===n&&"slick-current site-border-color",key:n,onClick:function(t){return e.setCurrentImage(t)}},e.renderImage(t.secureUrl))})))),i&&p.default.createElement("div",{className:"photo-gallery-ad-container"},p.default.createElement("div",{className:"photo-gallery-ad"},p.default.createElement(m.default,{path:i,dimensions:[[300,250]]})))),this.state.adBreak%3===0&&0!==this.state.adBreak&&!this.state.closeAd&&this.state.fullScreenMode&&window.google&&i&&this.displayAdContainer(i)),p.default.createElement("div",{className:"photo-gallery-share"},p.default.createElement("div",{className:"share-options"},p.default.createElement("div",{className:"copy"}," Share this Gallery"),p.default.createElement("div",{className:"sharing"},p.default.createElement("i",{className:"ion-social-facebook",onClick:_.default.facebook.bind(this,window.location.href)}),p.default.createElement("i",{className:"ion-social-twitter",onClick:_.default.twitter.bind(this,window.location.href,n.title)}),p.default.createElement("i",{className:"ion-ios-email-outline",onClick:_.default.email.bind(this,window.location.href)}))),p.default.createElement("div",{className:"next-gallery"})))}},{key:"helmet",get:function(){var e=this.props.data.contentData[0],t=e.gist,n=void 0===t?{}:t,r=e.seo,a=void 0===r?{}:r;return p.default.createElement(g.Helmet,null,p.default.createElement("title",null,(a.title||n.title)+" | "+window.settings.site),p.default.createElement("meta",{name:"description",content:a.description||n.description}),a.keywords&&p.default.createElement("meta",{name:"keywords",content:a.keywords.join(",")}),p.default.createElement("meta",{property:"og:type",content:"image.gallery"}),p.default.createElement("meta",{property:"og:title",content:a.title||n.title}),p.default.createElement("meta",{property:"og:description",content:a.description||n.description}),p.default.createElement("meta",{property:"og:image",content:n.landscapeImageUrl||(0,l.default)(window.settings,"images.placeholderCover")}))}}]),t}(p.default.Component),k=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.style={};var r=(0,c.default)(e.className,"slick-prev")?"left":"right",o=e.itemCount/5*30;return n.style[r]="calc(50% - "+o+"px)",n}return o(t,e),d(t,[{key:"render",value:function(){return p.default.createElement("button",{style:this.style,className:this.props.className,onClick:this.props.onClick})}}]),t}(p.default.Component);e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=n(142),c=r(u),d=n(7),f=r(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(1),m=r(h),y=n(28),v=n(245),g=r(v),b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={scriptTags:[],rawHtml:null},n}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.splitScriptTagsFromHtml()}},{key:"splitScriptTagsFromHtml",value:function(){if(this.props.data){var e=document.createElement("div");e.innerHTML=this.props.data.rawText;var t=this.copyScriptsInHtml(e),n=this.removeScriptTagsFromHtml(e);this.setState({scriptTags:t,rawHtml:n.innerHTML.toString()})}}},{key:"copyScriptsInHtml",value:function(e){var t=e.getElementsByTagName("script");return(0,f.default)(t,function(e){if(e){var t=document.createElement("script");return e.src&&(t.src=e.src),e.textContent&&(t.textContent=e.textContent),t}})}},{key:"removeScriptTagsFromHtml",value:function(e){var t=e,n=e.getElementsByTagName("script");return(0,c.default)(n,function(e){e&&e.parentElement.removeChild(e)}),t}},{key:"componentWillUnmount",value:function(){(0,c.default)(this.state.scriptTags,function(e){return e.remove()})}},{key:"loadScriptTags",value:function(){return(0,f.default)(this.state.scriptTags,function(e,t){return e.src?m.default.createElement("script",{key:t,src:e.src}):m.default.createElement("script",{key:t},e.textContent)})}},{key:"render",value:function(){var e=(0,l.default)(this.props,"data.title","");return m.default.createElement("div",{className:"raw-html"},e&&m.default.createElement(g.default,null,e),this.state.scriptTags&&m.default.createElement(y.Helmet,null,this.loadScriptTags()),this.state.rawHtml&&m.default.createElement("div",{className:"raw-html__content",dangerouslySetInnerHTML:{__html:this.state.rawHtml}}))}}]),t}(m.default.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(a,i){try{var o=t[a](i),s=o.value}catch(l){return void n(l)}return o.done?void e(s):Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(279),u=r(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(166),h=r(p),m=n(25),y=r(m),v=n(8),g=r(v),b=n(40);n(780);var _=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.data||{},a=r.metadataMap,s={redeemSection:JSON.parse(a.redeemSection),authSection:JSON.parse(a.authSection),planDetails:JSON.parse(a.planDetails),successSection:JSON.parse(a.successSection)};return n.state={metaData:[{title:s.redeemSection.title,message:s.redeemSection.description,cta:s.redeemSection.cta},{title:s.authSection.title,message:s.authSection.description,guestMessage:s.authSection.guestUserDescription},{title:s.successSection.title,message:s.successSection.description,cta:s.successSection.cta}],planText:s.planDetails,redirectInterval:null,authenticateInitiated:!1,authenticationState:null,offerCode:null,processing:!1,error:null,currentStep:0,planDetails:null,planType:null},n.processValidateOfferCode=n.processValidateOfferCode.bind(n),n.authenticateCallback=n.authenticateCallback.bind(n),n.initiateAuthentication=n.initiateAuthentication.bind(n),n.subscribeUser=n.subscribeUser.bind(n),n.redirectUser=n.redirectUser.bind(n),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.state.user&&this.state.user.isSubscribed&&null===this.state.redirectInterval&&this.redirectUser()}},{key:"componentDidUpdate",value:function(){this.state.user&&this.state.user.isSubscribed&&!this.state.processing&&this.state.currentStep<2&&null===this.state.redirectInterval&&this.redirectUser()}},{key:"redirectUser",value:function(){var e=this;if(null===this.state.redirectInterval)this.setState({redirectInterval:5}),setInterval(function(){e.redirectUser()},1e3);else{if(!(this.state.redirectInterval>0))return window.location.href="/",!1;this.setState(function(e){return{redirectInterval:e.redirectInterval-1}})}}},{key:"initiateAuthentication",value:function(e){var t=this,n="login"===e?"Logging In ...":"Signing Up ...";setTimeout(function(e){t.setState({processing:!0,authenticateInitiated:!0,authenticationState:n})})}},{key:"authenticateCallback",value:function(e,t){e?this.subscribeUser():this.setState({processing:!1,authenticationState:null,authenticateInitiated:!1})}},{key:"subscribeUser",value:function(){function e(){return t.apply(this,arguments)}var t=a(u.default.mark(function e(){var t;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.user||this.state.user.isSubscribed){e.next=15;break}if(this.setState({authenticationState:"Subscribing ...",processing:!0}),"SUBSCRIPTION"!==this.state.planType){e.next=8;break}return e.next=5,(0,b.subscribeBySubscriptionOfferCode)(this.state.offerCode);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,(0,b.subscribeByTransactionOfferCode)(this.state.offerCode);case 10:e.t0=e.sent;case 11:t=e.t0,t.isError||"COMPLETED"!==t.data.subscriptionStatus?this.setState({processing:!1,authenticationState:null,authenticateInitiated:!1,error:t.error||"An unknown error occuredd."}):(this.setState({authenticationState:null,authenticateInitiated:!1}),this.nextStep()),e.next=16;break;case 15:this.redirectUser();case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"processValidateOfferCode",value:function(e){var t=this;e.preventDefault();var n=this.offerCodeInput.value;this.setState({processing:!0,error:null,offerCode:n},a(u.default.mark(function e(){var r,a;return u.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.validateSubscriptionOfferCode)(n);case 2:if(r=e.sent,r.isError){e.next=5;break}return e.abrupt("return",t.setState({planDetails:r.data,planType:"SUBSCRIPTION"},t.nextStep()));case 5:return e.next=7,(0,b.validateTransactionOfferCode)(n);case 7:if(a=e.sent,a.isError){e.next=10;break}return e.abrupt("return",t.setState({planDetails:a.data,planType:"TRANSACTION"},t.nextStep()));case 10:t.setState({error:a.error?a.error:r.error,processing:!1});case 11:case"end":return e.stop()}},e,t)})))}},{key:"nextStep",value:function(){this.setState(function(e){return{currentStep:e.currentStep<2?e.currentStep+1:0,processing:!1,error:null}})}},{key:"prevStep",value:function(){this.setState(function(e){return{currentStep:e.currentStep>0?e.currentStep-1:0,processing:!1,error:null}})}},{key:"render",value:function(){if(this.state.user&&this.state.user.isSubscribed&&this.state.currentStep<2)return f.default.createElement("div",{className:"redeem-offer-code-container centered"},f.default.createElement("div",{className:"title"},"You already have a valid subscription plan."),null!==this.state.redirectInterval&&f.default.createElement("div",{className:"message"},"You will be redirected in ",this.state.redirectInterval," seconds."));var e=!this.state.user&&this.state.metaData[this.state.currentStep].guestMessage?this.state.metaData[this.state.currentStep].guestMessage:this.state.metaData[this.state.currentStep].message;return f.default.createElement("div",{className:"redeem-offer-code-container centered"},f.default.createElement("div",{className:"title"},this.state.metaData[this.state.currentStep].title),f.default.createElement("div",{className:"message"},e),0===this.state.currentStep?this.renderValidateSection():1===this.state.currentStep?this.renderAuthenticateSection():this.renderSuccessSection(),null!==this.state.authenticationState&&f.default.createElement("div",{className:"overlay"},f.default.createElement("div",{className:"loading centered"},f.default.createElement(y.default,null),this.state.authenticationState)))}},{key:"renderValidateSection",value:function(){var e=this;return f.default.createElement("div",{className:"validation-view-container"},f.default.createElement("form",{className:"redeem-offer-code-view",onSubmit:function(t){return e.processValidateOfferCode(t)}},f.default.createElement("div",null,f.default.createElement("div",{className:"input-box"},f.default.createElement("input",{type:"text",placeholder:"ENTER CODE",ref:function(t){e.offerCodeInput=t},defaultValue:this.state.offerCode,autoFocus:!0}))),f.default.createElement("div",{className:"error-block collapsible "+(this.state.error?"":"collapsed")},this.state.error||""),f.default.createElement("div",{className:"button-container"},f.default.createElement("input",{type:"submit",className:"redeem-offer-code-button button fat cta right-section "+(this.state.processing?"disabled":""),value:this.state.processing?"Processing ...":"Redeem"}))))}},{key:"renderAuthenticateSection",value:function(){var e=this;if(null!==this.state.planDetails&&null!==this.state.planType){var t=!this.state.user||(!!this.state.authenticateInitiated||!!this.state.user.isSubscribed),n=this.state.planDetails.renewalCyclePeriodMultiplier+" "+this.state.planDetails.renewalCycleType+(this.state.planDetails.renewalCyclePeriodMultiplier>1?"S":""),r=this.state.planText.title.left.replace("{planDuration}",n),a=this.state.planText.title.right.replace("{planDuration}",n),i=this.state.planText.description.replace("{planDuration}",n);return f.default.createElement("div",{className:"authenticate-view-container"},f.default.createElement("div",{className:"right-section "+(t?"float-right":"")},f.default.createElement("div",{className:"planbox site-background-color"},f.default.createElement("div",{className:"header"},r," ",f.default.createElement("span",{className:"plan-duration"},a)),f.default.createElement("div",{className:"description"},f.default.createElement("p",null,i))),f.default.createElement("div",{className:"error-block collapsible "+(this.state.error?"":"collapsed")},this.state.error||""),!t&&f.default.createElement("div",{className:"button-container"},f.default.createElement("input",{type:"button",className:"redeem-offer-code-button button fat cta right-section "+(this.state.processing?"disabled":""),onClick:function(t){e.subscribeUser()},value:this.state.processing?"Processing ...":this.state.planText.cta}))),t&&f.default.createElement("div",{className:"left-section float-left"},f.default.createElement(h.default,{activeTab:"signup",onInitiate:this.initiateAuthentication,onAuthenticate:this.authenticateCallback,user:this.state.user})),f.default.createElement("div",{className:"clear"}))}}},{key:"renderSuccessSection",value:function(){return f.default.createElement("div",{className:"success-view-container"},f.default.createElement("input",{type:"button",className:"redeem-offer-code-button button fat cta",onClick:function(e){window.location.href="/"},value:"Let's Go!"}))}}]),t}(f.default.Component),w=n(12);w(_,function(e){return{user:e.user}},g.default),e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(6),f=r(d);n(827);var p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={password:"",passwordConfirm:"",validToken:"",checkingToken:"",passwordUpdated:!1,errorMessage:""},n.handleChange=n.handleChange.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.checkTokenAuth()}},{key:"checkTokenAuth",value:function(){var e=this;(0,f.default)({baseURL:window.settings.apiBaseUrl,url:"/identity/reset-password-token/"+window.document.location.search.split("=")[1],method:"GET",headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(t){t.data.isValidToken&&e.setState({checkingToken:!1,validToken:!0})}).catch(function(t){console.log(t.response.data.error),e.setState({checkingToken:!1,validToken:!1})})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({errorMessage:""}),this.showFormErrors()){var n=document.forms.resetPassword,r={resetToken:window.location.search.split("=")[1],newPassword:n.password.value};(0,f.default)({url:"/identity/password",baseURL:window.settings.apiBaseUrl,method:"post",params:{site:window.settings.internalName},headers:{"Content-Type":"application/json","x-api-key":window.settings.baseAPIKey},data:JSON.stringify(r)}).then(function(e){e.data.passwordUpdated&&t.setState({passwordUpdated:!0}),setTimeout(function(){return window.location.href="/"},3e3)}).catch(function(e){t.setState({errorMessage:e.response.data.error})})}else console.log("form is invalid: do not submit")}},{key:"handleChange",value:function(e){e.target.classList.add("active"),this.setState(a({},e.target.name,e.target.value)),this.showInputError(e.target.name)}},{key:"showFormErrors",value:function(){var e=this,t=document.querySelectorAll(".form-group input"),n=!0;return t.forEach(function(t){t.classList.add("active");var r=e.showInputError(t.name);
r||(n=!1)}),n}},{key:"showInputError",value:function(e){var t=this.refs[e].validity,n=document.getElementById(e+"Label").textContent,r=document.getElementById(e+"Error"),a=e.indexOf("password")!==-1,i="passwordConfirm"===e;return i&&(this.refs.password.value!==this.refs.passwordConfirm.value?this.refs.passwordConfirm.setCustomValidity("Passwords do not match"):this.refs.passwordConfirm.setCustomValidity("")),t.valid?(r.textContent="",!0):(t.valueMissing?r.textContent=n+" is a required field":a&&t.patternMismatch?r.textContent=n+" should be longer than 4 chars":i&&t.customError&&(r.textContent="Passwords do not match"),!1)}},{key:"render",value:function(){return c.default.createElement("div",{className:"reset-password site-color"},this.state.validToken&&!this.state.checkingToken&&!this.state.passwordUpdated&&c.default.createElement("div",{className:"form-container"},c.default.createElement("div",{className:"header"},"Type your new password and confirm"),c.default.createElement("form",{name:"resetPassword",onSubmit:this.handleSubmit,noValidate:!0},c.default.createElement("div",{className:"form-group"},c.default.createElement("label",{id:"passwordLabel"},"Password"),c.default.createElement("input",{type:"password",name:"password",ref:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,pattern:".{5,}",autoComplete:"false",required:!0}),c.default.createElement("div",{className:"error",id:"passwordError"})),c.default.createElement("div",{className:"form-group"},c.default.createElement("label",{id:"passwordConfirmLabel"},"Confirm Password"),c.default.createElement("input",{type:"password",name:"passwordConfirm",placeholder:"Confirm password",ref:"passwordConfirm",value:this.state.passwordConfirm,onChange:this.handleChange,autoComplete:"false",required:!0}),c.default.createElement("div",{className:"error",id:"passwordConfirmError"},this.state.errorMessage)),c.default.createElement("div",{className:"button-container"},c.default.createElement("button",{type:"submit",className:"button reset-submit site-border-color",value:"Submit",onClick:this.handleSubmit},"Submit")))),!this.state.validToken&&""!==this.state.validToken&&c.default.createElement("div",{className:"reset-password"},"Token is expired. Please click on forgot password again"),this.state.passwordUpdated&&c.default.createElement("div",{className:"password-changed header"},"Your password has been changed. Please login with the updated password"))}}]),t}(c.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(142),u=r(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(9),h=r(p),m=n(28);n(828),window.popup=h.default;var y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={scriptTags:[],rawHTML:null},n.scriptTags=[],n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this,t=document.createElement("div");this.props.data&&(t.innerHTML=this.props.data.rawText);var n=t.getElementsByTagName("script");(0,u.default)(n,function(t){var n=document.createElement("script");t.src&&(n.src=t.src),t.textContent&&(n.textContent=t.textContent),e.scriptTags.push(n),t.parentElement.removeChild(t),e.setState(Object.assign({},e.state,{scriptTags:[].concat(a(e.state.scriptTags),[n])}))}),this.setState(Object.assign({},this.state,{rawHTML:t.innerHTML.toString()}))}},{key:"componentWillUnmount",value:function(){(0,u.default)(this.state.scriptTags,function(e){e.remove()})}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"ancillary-container rich-text",ref:function(t){e.container=t}},this.scriptTags.length>0?f.default.createElement(m.Helmet,null,f.default.createElement("script",{type:"text/javascript"},""+this.scriptTags[0].textContent)):"",this.state.rawHTML&&f.default.createElement("div",null,this.props.data&&this.props.data.title&&f.default.createElement("div",{className:"title"},this.props.data.title),f.default.createElement("div",{className:"ancillary-pages",dangerouslySetInnerHTML:{__html:this.state.rawHTML}})))}}]),t}(f.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(44),p=r(f),h=n(160),m=r(h),y=n(22),v=n(65),g=r(v),b=n(6),_=r(b);n(324),n(829);var w=function(e){function t(){var e,n,r,s;i(this,t);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={items:[]},r.isOngoing=function(e){e.forEach(function(e){var t=1e3*e.schedule.gameTime,n=r;(0,g.default)(t)&&e.dataId&&(r[e.dataId]=setInterval(function t(){return _.default.get("/game/boxscore/"+e.dataId+"/"+Date.now()).then(function(t){var r=t.data.gamescore.boxscore.teamstats,i=r.map(function(e){return e.goals}),o=l(i,2),s=o[0],u=o[1];(0,y.isLive)("GAME",t.data)?n.setState(a({},e.dataId,[!0,s,u])):(n.setState(a({},e.dataId,[!1,s,u])),clearInterval(n[e.dataId]))}).catch(function(e){console.log(e)}),t}.call(n),12e4))})},r.componentDidMount=function(){(0,y.getGames)().then(function(e){if(e.length<6){var t=e.length;e.length=6,e.fill(0,t,6)}r.setState({items:e});var n=(0,y.nextGame)(e);r.slider.slickGoTo(n),r.isOngoing(e)})},s=n,o(r,s)}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t={responsive:[{breakpoint:1400,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1e3,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:800,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:400,settings:{slidesToShow:1,slidesToScroll:1}}]};return d.default.createElement("div",{className:"schedule-tray-wrapper"},this.state.items.length>0&&d.default.createElement(p.default,Object.assign({},t,{ref:function(t){e.slider=t},slidesToShow:6,slidesToScroll:6,infinite:!0,arrows:!1}),this.state.items.map(function(t,n){return 0!==t?d.default.createElement("div",{key:n},d.default.createElement(m.default,{homeTeam:t.homeTeam,awayTeam:t.awayTeam,schedule:t.schedule,ticket:t.ticket,stream:t.stream,link:t.link,live:e.state[t.dataId]&&e.state[t.dataId][0],scores:e.state[t.dataId]&&[e.state[t.dataId][1],e.state[t.dataId][2]]})):d.default.createElement("div",null)})))}}]),t}(c.Component);e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSearchResults=void 0;var a=n(6),i=r(a),o=n(20);t.fetchSearchResults=function(){return new Promise(function(e,t){var n=window.localStorage.getItem("searchFilterURL");n?(0,o.getToken)(function(r){i.default.get(n,{headers:{"x-api-key":window.settings.baseAPIKey,Authorization:r}}).then(function(e){var t=e.data;return t.filter(function(e){return!e.gist.isLiveStream})}).then(function(t){return e(t)}).catch(t)}):e(null)})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(257),d=r(c),f=n(547),p=n(25),h=r(p);n(830);var m=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={searchResults:[],resultsNumber:0,isLoading:!0,hasMadeQuery:!1},o=n,i(r,o)}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;(0,f.fetchSearchResults)().then(function(t){t?e.setState({searchResults:t,resultsNumber:t.length,isLoading:!1,hasMadeQuery:!0}):e.setState({isLoading:!1,hasMadeQuery:!1})})}},{key:"render",value:function(){var e=this.state,t=e.searchResults,n=e.resultsNumber,r=e.isLoading,a=e.hasMadeQuery;return r?u.default.createElement("div",{className:"filter-search-spinner"},u.default.createElement("div",null,u.default.createElement(h.default,null))):a?u.default.createElement("div",{className:"filter-search-results"},u.default.createElement("h1",{className:"filter-search-results-heading"},u.default.createElement("span",{className:"filter-search-reasults-red"},""+n)," ","workouts found based off your selection"),u.default.createElement("div",{className:"search-results-grid netflix-tray "},t.map(function(e,t){return u.default.createElement(d.default,{item:e,key:e.gist.id,noHover:!0})}))):u.default.createElement("div",{className:"filter-search-results-none"},"Use search bar or filters to search for workouts!")}}]),t}(l.Component);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c);n(831);var f=n(155),p=r(f),h=n(25),m=r(h),y=n(40),v=n(9),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={plans:[],selected:null,loading:!0},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;return this.state.user&&this.state.user.isSubscribed?(window.location.href="/",!1):void(window.sessionStorage.getItem("plans")?(0,y.getInvisiblePlans)().then(function(t){e.setState({plans:t,loading:!1})}):(0,y.getSubscriptionPlans)().then(function(t){e.setState({plans:t,loading:!1})}))}},{key:"selectPlan",value:function(e,t){return e===this.state.selected?(0,v.createSubscription)(t):void this.setState(Object.assign({},this.state,{selected:e}))}},{key:"render",value:function(){var e=this,t=(0,l.default)(this.props.layout,"settings.images.desktop");return d.default.createElement("div",{className:"select-plans-container",style:{backgroundImage:"url("+t+")"}},this.state.user&&this.state.user.isSubscribed?d.default.createElement("div",{className:"thank-you"}," Thank you for subscribing! "):d.default.createElement("div",{className:"select-plans"},d.default.createElement("div",{className:"header"},d.default.createElement("p",null,this.props.data.title),d.default.createElement("p",{className:"header-copy"},this.props.data.description)),this.state.loading&&d.default.createElement(m.default,null),d.default.createElement("div",{className:"plans-container site-color"},this.state.plans.map(function(t,n){return d.default.createElement(p.default,{plan:t,key:t.id,onClick:function(r){return e.selectPlan(n,t.id)},selected:n===e.state.selected})})),d.default.createElement("p",{className:"choose-plan-text"},"Choose your plan")))}}]),t}(d.default.Component),b=n(12),_=n(8);b(g,function(e){return{user:e.user}},_),e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(832);var c=n(468),d=r(c),f=n(25),p=r(f),h=n(40),m=n(9),y=n(17),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={plans:[],selected:null,loading:!0},n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;return this.state.user&&this.state.user.isSubscribed?(window.location.href="/",!1):(window.sessionStorage.getItem("plans")?(0,h.getInvisiblePlans)().then(function(t){e.setState({plans:t,loading:!1})}):(0,h.getSubscriptionPlans)().then(function(t){e.setState({plans:t,loading:!1})}),void(0,y.trackEvent)("View Plans",{source:"Web"}))}},{key:"selectPlan",value:function(e){return(0,m.createSubscription)(e)}},{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"select-plans02-container"},this.state.user&&this.state.user.isSubscribed?u.default.createElement("div",{className:"thank-you"}," Thank you for subscribing! "):u.default.createElement("div",{className:"select-plans02"},u.default.createElement("p",{className:"choose-plan-text"},this.props.data&&this.props.data.title),u.default.createElement("p",{className:"introductory-desc"},this.props.data&&this.props.data.description),this.state.loading&&u.default.createElement(p.default,null),u.default.createElement("div",{className:"landing-page-plans site-color"},this.state.plans.map(function(t,n){return u.default.createElement(d.default,{plan:t,key:t.id,onClick:function(n){return e.selectPlan(t.id)}})}))))}}]),t}(u.default.Component),g=n(12),b=n(8);g(v,function(e){return{user:e.user}},b),e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.episodeDetails,n=t.title,r=t.description,a=t.videoImageUrl,i=t.seasonTitle,o=t.episodeNumber,s=t.seasonNumber;return u.default.createElement("div",{className:"next-episode-info"},u.default.createElement("div",{className:"next-episode-img",onClick:function(t){e.props.openEpisodeOverlay(t,o,s,e.props.episodeDetails)}},u.default.createElement("div",{className:"image",style:{backgroundImage:"url("+a+")"}},u.default.createElement("div",{className:"play-icon site-color"},u.default.createElement("i",{className:"ion-ios-play"}))),u.default.createElement("button",{className:"button site-background-color"}," Watch Now ")),u.default.createElement("div",{className:"details"},u.default.createElement("div",{className:"episode-name"},u.default.createElement("span",{className:"season-episode-details"},i," : E",o),u.default.createElement("span",{className:"name"},n)),u.default.createElement("div",{className:"next-episode-desc"},r)))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(43),l=r(s),u=n(141),c=r(u),d=n(70),f=r(d),p=n(1085),h=r(p),m=n(1090),y=r(m),v=n(7),g=r(v),b=n(109),_=r(b),w=n(201),E=r(w),k=n(370),T=r(k),S=n(3),C=r(S),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),O=n(1),N=r(O),A=n(6),j=r(A),I=n(28),x=n(422),M=n(39),D=r(M),L=n(122),R=r(L),B=n(9),U=r(B),F=n(121),V=r(F),H=n(555),W=r(H),z=n(553),q=r(z),G=n(554),Y=r(G),K=n(551),Q=r(K),X=n(89),$=r(X),J=n(53),Z=r(J),ee=n(62),te=r(ee),ne=n(17),re=n(45),ae=n(15),ie=n(20),oe=n(27),se=n(24),le=n(60),ue=n(264),ce=r(ue);n(833);var de=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));fe.call(n);var r=n.props.data.contentData[0].seasons.length-1;return n.state={scrollTo:0,topOffset:0,deviceType:"desktop",trailerModalOpen:!1,episodeOverlayFalse:!0,previewSettings:(0,C.default)(window.settings,"features.free_preview"),currentEpisode:1,currentSeason:r,currentEpisodes:(0,C.default)(e,"data.contentData[0].seasons["+r+"].episodes"),seasonInfo:(0,C.default)(e,"data.contentData[0].seasons"),seasonPass:{contentType:"SEASON_PASS",gist:{id:(0,C.default)(e,"data.contentData[0].seasons[0].id"),title:"Season Pass",background:"#000",cta:"Purchase Season",permalink:"TBD"}}},n.updatedShowData=(0,T.default)(n.props.data.contentData[0]),n.hasSeasonPass=!1,n}return o(t,e),P(t,[{key:"componentDidMount",value:function(){var e=this.episodesTray?this.episodesTray.offsetTop-(this.state.topOffset+50):0;this.setState({scrollTo:e,models:(0,le.fetchModels)()}),this.getVideoInfo(),this.handleResize(),this.getTransactionInfo(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"socialShare",value:function(e){var t=this.updatedShowData,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o;s.push(r.primaryCategory);var l={contentId:r.id,contentTitle:r.title,contentType:r.contentType,playbackType:"Streamed"};switch(i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(l.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(l.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),l.contentGenre=s.map(function(e){return e&&e.title}).join(","),l.medium=e,e){case"Facebook":te.default.facebook(window.location.href);break;case"Twitter":te.default.twitter(window.location.href,r.title);break;case"Email":te.default.email(window.location.href)}(0,ne.trackEvent)("Shared",l)}},{key:"getNextEpisode",value:function(e,t){var n=this.updatedShowData,r=n.seasons[e],a=void 0;return a=r.episodes[t+1]?r.episodes[t+1].gist:n.seasons[e+1]&&n.seasons[e+1].episodes[0]?n.seasons[e+1].episodes[0].gist:n.seasons[0].episodes[0].gist}},{key:"getFeaturedEpisode",value:function(e){var t=this,n=void 0;if(e.seasons.forEach(function(e,r){e.episodes.forEach(function(e,a){e.gist.watchHistory&&e.gist.watchHistory.latestEpisode&&(n=e.gist.watchHistory.watchedPercentage>90?t.getNextEpisode(r,a):e.gist)})}),null==n){var r=!0,a=!1,i=void 0;try{for(var o,s=e.seasons[0].episodes[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;if(void 0!=l.gist.episodeNumber){n=l.gist;break}}}catch(u){a=!0,i=u}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}}return n}},{key:"render",value:function(){var e=this.updatedShowData,t=e.gist;return N.default.createElement("div",{className:"show"},this.renderHelmet(),this.renderHeroImage(),this.renderDetailsBar(),this.renderShowDetails(),N.default.createElement("div",{className:"mobile-share"},this.renderShareContainer(t.title)),this.renderSeasonsAndEpisodesTray(),this.renderTrailerModal())}}]),t}(O.Component),fe=function(){var e=this;this.appendSeasonInfo=function(t){var n=e.state,r=n.seasons,a=n.currentSeason,i=n.seasonPass,o=r&&r.filter(function(e){return e.seasonId===t[a].id}),s=o&&(0,C.default)(o,"[0].videos"),l=t[a].episodes.map(function(e){return Object.assign({},e)});return e.updatedShowData.seasons[a].episodes=l,t[0].pricing&&!o?l.length>0&&l.indexOf(i)===-1&&(l.unshift(i),e.hasSeasonPass=!0):0===l.indexOf(i)&&l.shift(),o&&s&&Object.keys(s).forEach(function(e){l.forEach(function(t){t.gist.id===s[e].videoId&&(0,E.default)(t,{purchaseStatus:"PURCHASED"})})}),l},this.getTransactionInfo=function(){var t=(0,C.default)(e.props,"data.contentData[0].id"),n=(0,C.default)(e.state.user,"userId");n&&(0,oe.getTransactionInfo)(n,!0,"SERIES",t).then(function(t){t.data&&(e.hasSeasonPass=!1,e.setState({seasons:t.data.seasons}),e.forceUpdate())})},this.handleResize=function(){window.innerWidth<600?e.setState({topOffset:53,deviceType:"mobile"}):window.innerWidth>600&&window.innerWidth<1024?e.setState({topOffset:53,deviceType:"tablet"}):e.setState({topOffset:67,deviceType:"desktop"})},this.getVideoInfo=function(){var t=(0,C.default)(e.props.data,"contentData[0].gist.id");(0,ae.getUser)(function(n){n&&(0,oe.getVideoInfo)(t,function(t){e.setState({isQueued:t.isQueued,startTime:t.watchedTime})})})},this.openTrailerModal=function(){e.setState({trailerModalOpen:!0}),window.document.body.classList.add("overflow-hide")},this.closeTrailerModal=function(){e.setState({trailerModalOpen:!1}),window.document.body.classList.remove("overflow-hide")},this.playEpisode=function(t){var n=e.updatedShowData,r=n.seasons[e.state.currentSeason],a=r.episodes[t];U.default.hide(),e.getFilmSrc(a.gist,e.state.currentSeason,t,!0)},this.openEpisodeOverlay=function(t,n,r,a){t&&t.preventDefault();var i=e.updatedShowData,o=(i.seasons[r].episodes[n].gist.id,i.seasons[r]),s={series:i.id,season:o.id},l=e.state.previewSettings,u=i.seasons[r].episodes[n].gist;if(a)var c=(0,C.default)(a,"contentType")||(0,C.default)(a,"gist.contentType"),d=a.pricing&&a.pricing.type,f=(0,ce.default)(e.state,a,e.state.models);var p=!f&&l&&!l.isFreePreview&&d&&("FREE"!==d||!a.gist.isTrailer)&&"SVOD"!==d;if(c&&"SEASON_PASS"===c){var h=(0,_.default)(o.episodes,function(e,t){return e.push(t.gist.id),e},[]),m=Object.assign({},s,{content:o.id,items:h}),y=R.default.formatPricing(o.pricing,m,"Season Pass"),v={gist:Object.assign({},o,{contentType:"SEASON",title:o.title+"'s Season Pass"})};U.default.purchase(y[0],v,function(){return e.playEpisode(1)})}else if(c&&"VIDEO"===c&&p){var g=Object.assign({},s,{content:a.gist.id,video:a.gist.id}),b=R.default.formatPricing(a.pricing,g,a.gist.title),w={gist:Object.assign({},o,{contentType:"EPISODE",title:a.gist.title})};U.default.purchase(b[0],w,function(){return e.playEpisode(n,o.id)})}else e.getFilmSrc(u,r,n)},this.handleChange=function(t,n){void 0===n&&(n=t.target.value),e.setState({currentSeason:n,currentEpisodes:e.updatedShowData.seasons[n].episodes})},this.renderMobileItems=function(){return N.default.createElement(V.default,{isEpisode:!0,openEpisodeOverlay:e.openEpisodeOverlay,items:(0,g.default)(e.appendSeasonInfo(e.state.seasonInfo),function(e){return Object.assign({},e.gist,{pricing:e.pricing,purchaseStatus:e.purchaseStatus,container:e})}),season:e.state.currentSeason})},this.addToQueue=function(){var t=e.updatedShowData,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o,l=r.id,u=r.contentType;(0,oe.addToQueue)(l,u,function(t){s.push(r.primaryCategory);var n={contentId:r.id,contentTitle:r.title,contentType:"SERIES"===r.contentType?"Show":"Video",playbackType:"Streamed"};"SERIES"!==r.contentType&&(n.showName=r.title),i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(n.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(n.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),n.contentGenre=s.map(function(e){return e&&e.title}).join(","),(0,ne.trackEvent)("Added to Watchlist",n),e.setState({isQueued:!0})})},this.removeFromQueue=function(){var t=e.updatedShowData,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o,l=r.id;(0,oe.removeFromQueue)(l,function(t){s.push(r.primaryCategory);var n={contentId:r.id,contentTitle:r.title,contentType:"SERIES"===r.contentType?"Show":"Video",playbackType:"Streamed"};"SERIES"!==r.contentType&&(n.showName=r.title),i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(n.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(n.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),n.contentGenre=s.map(function(e){return e&&e.title}).join(","),(0,ne.trackEvent)("Removed From Watchlist",n),e.setState({isQueued:!1})})},this.renderShareContainer=function(){return N.default.createElement("div",{className:"show__share"},N.default.createElement("div",{className:"sharing"},N.default.createElement("i",{className:"ion-social-facebook",onClick:function(){e.socialShare("Facebook")}}),N.default.createElement("i",{className:"ion-social-twitter",onClick:function(){e.socialShare("Twitter")}}),N.default.createElement("i",{className:"ion-ios-email-outline",onClick:function(){e.socialShare("Email")}}),e.state.user&&(e.state.isQueued?N.default.createElement("div",{className:"remove-watchlist site-color",onClick:e.removeFromQueue}," ",N.default.createElement(se.RemoveFromWatchlistIcon,null)):N.default.createElement("div",{className:"add-watchlist site-color",onClick:e.addToQueue}," ",N.default.createElement(se.AddToWatchlistIcon,null)))))},this.getFilmSrc=function(t,n,r,a){var i=e.updatedShowData,o=(0,C.default)(i,"seasons["+n+"].episodes["+r+"].pricing"),s=t.id,l=t.watchHistory?t.watchHistory.watchedTime:0;(0,ie.getToken)(function(u){var c=window.userLanguageSelection||(0,re.userLanguageSelector)();j.default.get(window.settings.apiBaseUrl+"/content/videos/"+s,{params:Object.assign({site:window.settings.internalName,timestamp:(new Date).getTime()},c?{languageCode:c}:{}),headers:{Authorization:u,"x-api-key":window.settings.baseAPIKey},contentType:"application/json"}).then(function(s){var u=s.data;u.purchasedFlag=a,u.currentSeason=n,u.currentEpisode=e.hasSeasonPass?r-1:r,u.showData=i;var c=(0,C.default)(e.props,"data.contentData[0].gist");u.fileType=(0,C.default)(e.props.data,"metadataMap.fileType"),u.watchedTime=l,u.seasonTitle=t.seasonTitle,u.episodeNumber=t.episodeNumber,u.title=e.updatedShowData.seasons[n].episodes[r].gist.title,u.openPurchaseScreen=function(t){e.openEpisodeOverlay(t,r,n,u)},e.updatedShowData.seasons[n].episodes[r+1]&&(u.nextEpisode=e.getNextEpisode(n,r),u.playNextEpisode=function(t){e.playNextEpisode(t,n,r)}),U.default.episodeOverlay({video:u,pricingOptions:o,seriesInfo:c})})})},this.playNextEpisode=function(t,n,r){e.openEpisodeOverlay(t,r+1,n)},this.renderSeasonList=function(){var t=e.props.data.settings,n=(0,g.default)(e.updatedShowData.seasons,function(e){return(0,y.default)(e.title)}).reverse(),r=t.tabularView||!0,a=e.props.layout.settings.columns||{desktop:6,mobile:2,ott:6,tablet:4};return r?N.default.createElement(x.Sticky,{topOffset:-e.state.topOffset},function(t){var r=t.style,i=t.isSticky;return N.default.createElement(Y.default,{isSticky:i,topOffset:e.state.topOffset,scrollTo:e.state.scrollTo,deviceType:e.state.deviceType,style:r,columns:a,handleChange:e.handleChange,seasonNames:n,currentSeason:e.state.currentSeason})}):N.default.createElement(q.default,{handleChange:e.handleChange,seasonNames:n,currentSeason:e.state.currentSeason})},this.renderHelmet=function(){var t=e.updatedShowData.gist;return N.default.createElement(I.Helmet,null,N.default.createElement("title",null,t.title+" | "+window.settings.site),N.default.createElement("meta",{name:"description",content:t.description}),N.default.createElement("meta",{property:"og:type",content:"video.tv_show"}),N.default.createElement("meta",{property:"og:title",content:t.title}),N.default.createElement("meta",{property:"og:description",content:t.description}),N.default.createElement("meta",{property:"og:image",content:t.videoImageUrl}))},this.renderHeroImage=function(){var t=e.updatedShowData,n=(0,C.default)(e.props.data,"metadataMap.imageCenterMode"),r=(0,C.default)(t,"images._16x9Image.url"),a=(0,C.default)(t,"showDetails.trailers[0]");
return a&&(a.videoId=a.id),N.default.createElement("div",{className:n&&"true"===n&&"center"},N.default.createElement("div",{className:"show__hero",style:{cursor:a?"pointer":"auto"},onClick:a?e.openTrailerModal:null},n&&"true"===n?N.default.createElement("img",{className:"show__hero__image",src:r+"?impolicy=resize&w=1000&h=563",alt:"show banner"}):N.default.createElement("div",{className:"show__hero__image",style:r&&{backgroundImage:"url("+r+"?impolicy=resize&w=1200&h=800)"}}),a&&N.default.createElement("div",{className:"show__play__icon site-color"},N.default.createElement("i",{className:"ion-ios-play"}))))},this.renderDetailsBar=function(){var t=e.updatedShowData,n=t.gist,r=(0,h.default)((0,C.default)(t,"seasons[0].episodes"));e.hasSeasonPass&&(r-=1);var a=t.seasons.length>1?t.seasons.length+" Seasons ":r>1?r+" Episodes":r+" Episode";return N.default.createElement("div",{className:"show__details"},N.default.createElement("div",{className:"show__title__box"},N.default.createElement("span",{className:"title"},n.title),N.default.createElement("span",{className:"meta-data"},a,n.primaryCategory&&n.primaryCategory.title&&"|  "+(0,C.default)(n,"primaryCategory.title"))),N.default.createElement("div",{className:"desktop-share"},e.renderShareContainer(n.title)))},this.renderShowDetails=function(){var t=e.updatedShowData,n=t.gist.description,r=(0,C.default)(t,"showDetails.trailers[0]");r&&(r.videoId=r.id);var a=t.creditBlocks&&(0,f.default)((0,c.default)(t.creditBlocks,function(e,t){return e.title=e.title&&e.title.trim(),(0,l.default)(["directors","director","actor","actors","starring","cast"],e.title&&e.title.toLowerCase())}),"title"),i=t.seasons.length,o=(i?t.seasons[0].episodes.length:0,e.getFeaturedEpisode(t));return N.default.createElement("div",{className:"show__info"},N.default.createElement("div",{className:"show__trailer__box"},N.default.createElement(W.default,{trailerSrc:r,description:n,creditBlocks:a})),null!==o&&N.default.createElement("div",{className:"show__next__episode"},N.default.createElement(Q.default,{episodeDetails:o,openEpisodeOverlay:e.openEpisodeOverlay})))},this.renderSeasonsAndEpisodesTray=function(){var t=e.updatedShowData,n=t.seasons.length,r=n?t.seasons[0].episodes.length:0,a={settings:{infoHover:!1,thumbnailType:"landscape",loop:!1,columns:{desktop:6,mobile:3,ott:6,tablet:4}}};return n>0&&r>0&&N.default.createElement(x.StickyContainer,null,N.default.createElement("div",{className:"episodes-tray-container",ref:function(t){return e.episodesTray=t}},N.default.createElement("div",{className:"season-list-container"},N.default.createElement("div",{className:"seasons-list"},e.renderSeasonList())),N.default.createElement("div",{className:"episodes-tray"},N.default.createElement(D.default,{trayTitle:"Tray",data:{contentData:e.appendSeasonInfo(e.state.seasonInfo),isEpisode:!0},layout:a,openEpisodeOverlay:e.openEpisodeOverlay,lazyLoad:!1,season:e.state.currentSeason}),N.default.createElement("div",{className:"mobile-display"},e.renderMobileItems()))))},this.renderTrailerModal=function(){var t=e.updatedShowData,n=(0,C.default)(t,"showDetails.trailers[0]");return n&&(n.videoId=n.id),n&&e.state.trailerModalOpen?N.default.createElement($.default,{title:n.title,shown:e.state.trailerModalOpen,closeModal:e.closeTrailerModal,className:"modal-anim",children:N.default.createElement(Z.default,Object.assign({},n,{autoplay:!0,isTrailer:!0,modalOpen:e.state.trailerModalOpen}))}):""}},pe=n(12),he=n(8);pe(de,function(e){return{user:e.user}},he),e.exports=de},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.seasonNames,r=t.currentSeason,a=this.props.seasonNames.length;return u.default.createElement("select",{className:"season-list-dropdown-view site-color",onChange:function(t){return e.props.handleChange(t)},defaultValue:r},n.map(function(e,t){return u.default.createElement("option",{value:parseInt(a-(t+1),10),key:a-(t+1),"data-season":a-(t+1)},e||"Season "+(t+1))}))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(44),d=r(c),f=n(164),p=r(f),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n}return o(t,e),s(t,[{key:"handleChange",value:function(e,t){e.target.blur();var n=this.props,r=n.scrollTo,a=n.isSticky,i=n.deviceType;this.props.handleChange(e,t),a&&"mobile"===i&&window.scrollTo(0,r)}},{key:"render",value:function(){var e=this,t=window.settings.brand&&window.settings.brand.general.backgroundColor,n=this.props.seasonNames,r=this.props.seasonNames.length,a=this.props,i=a.columns,o=a.currentSeason,s=a.style,l=a.isSticky,c=a.topOffset,f=a.deviceType,h=new p.default(i),m=n.length>i[f],y="season-list-tabular-view "+(l?" isSticky ":"")+(m?"hasMultipleItems ":"")+f;return u.default.createElement("div",{ref:function(t){return e.seasonListEl=t},className:y,style:Object.assign({},s,{top:l?c:0,backgroundColor:"mobile"===f?t:""})},u.default.createElement(d.default,{dots:!1,infinite:!1,arrows:m,slidesToShow:h.slidesToShow,slidesToScroll:1,responsive:h.responsiveBreakpoints},n.map(function(t,n){return u.default.createElement("div",{tabIndex:"-1",className:"season-title "+(r-(n+1)===o?"current site-color":"")},u.default.createElement("a",{href:"",key:r-(n+1),"data-season":r-(n+1),onClick:function(t){t.preventDefault(),e.handleChange(t,r-(n+1))}},t||"Season "+(r-n)))})))}}]),t}(u.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showLessDesc:!0},e.displayCompleteDesc=e.displayCompleteDesc.bind(e),e}return o(t,e),u(t,[{key:"ellipsify",value:function(e,t){return d.default.createElement("div",null,e.split(" ").slice(0,t).join(" "),"...",d.default.createElement("span",{className:"more-button",onClick:this.displayCompleteDesc},"More"))}},{key:"displayCompleteDesc",value:function(){this.setState({showLessDesc:!1})}},{key:"renderCreditBlocks",value:function(){return(0,l.default)(this.props.creditBlocks,function(e,t){if(e.credits)return d.default.createElement("div",{className:"crew",key:t},d.default.createElement("div",{className:"role"},e.title),d.default.createElement("div",{className:"people"}," ",(0,l.default)(e.credits,"title").slice(0,4).join(", ")))})}},{key:"render",value:function(){return d.default.createElement("div",{className:"show__trailer__info"},d.default.createElement("div",{className:"description-container"},d.default.createElement("div",{className:"crew-cast"},this.renderCreditBlocks()),d.default.createElement("div",{className:"desc"},this.props.description&&this.props.description.split(" ").length>30&&this.state.showLessDesc?this.ellipsify(this.props.description,30):this.props.description)))}}]),t}(d.default.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(246),d=r(c);n(834);var f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"small-calendar"},u.default.createElement(d.default,{type:"All Events",mobile:!0}))}}]),t}(u.default.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(24);n(835);var p=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={close:!1},e}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return this.state.close?d.default.createElement("div",null):d.default.createElement("div",{className:"splash-screen"},d.default.createElement("a",{className:"link desktop",href:(0,l.default)(this.props.data,"metadataMap.clickThroughURL")},d.default.createElement("div",{className:"image",style:{backgroundImage:"url("+(0,l.default)(this.props.data,"metadataMap.desktopImageURL")+")"}},d.default.createElement("div",{className:"close-icon",onClick:function(t){return e.close(t)}},d.default.createElement(f.CloseIcon,null)))),d.default.createElement("a",{className:"link mobile",href:(0,l.default)(this.props.data,"metadataMap.clickThroughURL")},d.default.createElement("div",{className:"image",style:{backgroundImage:"url("+(0,l.default)(this.props.data,"metadataMap.mobileImageURL")+")"}},d.default.createElement("div",{className:"close-icon",onClick:function(t){return e.close(t)}},d.default.createElement(f.CloseIcon,null)))))}},{key:"close",value:function(e){e.preventDefault(),this.setState({close:!this.state.close})}}]),t}(d.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(75),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"penalties-wrapper"},u.default.createElement("h3",{className:"penalties-title site-border-color"},"Penalties"),this.props.penalties.length>0?u.default.createElement(d.default,{headers:this.props.headers[0],data:this.props.penalties,values:this.props.headers[1]}):u.default.createElement("div",{className:"not-yet"},"No penalties yet."))}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(75),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"roster-wrapper"},u.default.createElement("h3",{className:"roster-title site-border-color"},"Game Rosters"),this.props.rosters.length>0?this.props.rosters.map(function(t,n){return u.default.createElement("div",{className:"table-wrapper",key:n},u.default.createElement("span",{className:"team-name"},n<1?e.props.awayTeam.mascot:e.props.homeTeam.mascot),u.default.createElement(d.default,{headers:e.props.headers[0],data:n<1?e.props.homePlayers:e.props.awayPlayers,values:e.props.headers[1],navigation:n<1?e.props.homePlayers:e.props.awayPlayers}))}):u.default.createElement("div",{className:"not-yet"},"No rosters yet."))}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(75),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"scoring-wrapper"},u.default.createElement("h3",{className:"scoring-title site-border-color"},"Scoring Summary"),this.props.scoring.length>0?u.default.createElement(d.default,{headers:this.props.headers[0],data:this.props.scoring,values:this.props.headers[1],navigation:this.props.scoring,filterTag:"assist1",filter:this.props.Assists}):u.default.createElement("div",{className:"not-yet"},"No goals yet."))}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return u.default.createElement("div",{className:"game-summary"},u.default.createElement("h3",{className:"game-summary-title site-border-color"},"Game Summary"),u.default.createElement("div",{className:"game-wrapper"},this.props.gameStats.map(function(t,n){return u.default.createElement("div",{className:"team",key:n},u.default.createElement("span",{className:"team-name"},n<1?e.props.awayTeam.mascot:e.props.homeTeam.mascot),e.props.headers[0].map(function(n,r){return u.default.createElement("div",{key:r},u.default.createElement("span",null,n),u.default.createElement("span",null,u.default.createElement("b",null,t[e.props.headers[1][r]]||"N/A")))}))})))}}]),t}(l.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(65),d=r(c),f=n(63),p=r(f),h=n(156),m=r(h);n(836);var y=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={desktopMode:window.innerWidth>=750},r.componentDidMount=function(){window.addEventListener("resize",function(e){r.setState({desktopMode:window.innerWidth>=750})},!1)},r.hideTimer=function(){r.setState(r.state),r.props.displayTabs()},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.env,t=this.props.page[e.schedule][0];return u.default.createElement("div",{className:"gamebanner-container"},u.default.createElement("div",{className:"banner",style:{backgroundImage:"url("+(this.state.desktopMode?this.props.page.imageGist._32x9:this.props.page.imageGist._16x9)+")"}},(0,d.default)(this.props.faceoffTime)?e.scoreboard&&u.default.createElement(e.scoreboard,{data:this.props.data}):this.props.selection?u.default.createElement(m.default,{header:e.faceoff||"Time until faceoff",startTime:this.props.faceoffTime,hide:this.hideTimer}):e.scoreboard&&u.default.createElement(e.scoreboard,{data:this.props.data})),u.default.createElement("div",{className:"bottom-section site-background-color"},u.default.createElement("div",{className:"section-wrapper"},e.bannerInfo&&u.default.createElement(e.bannerInfo,{page:this.props.page,data:this.props.data,faceoffTime:this.props.faceoffTime}),u.default.createElement("div",{className:"wrapper"},u.default.createElement("div",{className:"venue"},u.default.createElement("span",null,(0,p.default)(t.orgEventDate+" "+t.orgEventTime,"MM/DD - hh:mm A")," ",t[e.timezone]),u.default.createElement("span",null,t.venue)),(0,d.default)(this.props.faceoffTime)?u.default.createElement("div",null):this.props.page.ticketUrl&&u.default.createElement("button",{className:"ticket-button",style:{visibility:this.props.selection?"visible":"hidden"}},u.default.createElement("a",{href:this.props.page.ticketUrl,target:"_blank"},"Buy Tickets"))))))}}]),t}(l.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(371),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(65),p=r(f),h=n(22),m=n(562),y=r(m),v=n(158),g=r(v);n(323);var b=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={selection:!0},r.displayTabs=function(){r.setState(r.state)},r.selection=function(e){(0,l.default)(e.target.className,"selected")||r.setState({selection:!r.state.selection})},r.initializeProps=function(){r.setState(r.state)},r.componentDidMount=function(){(0,p.default)(r.props.faceoffTime)&&(0,h.isLive)(r.props.page.contentType,r.props.api)&&r.setState({selection:!1})},r.componentWillReceiveProps=function(e){r.props.api!==e.api&&r.initializeProps()},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.page,t=this.props.api,n="EVENT"===e.contentType;return d.default.createElement("div",{className:"game-detail"},this.props.faceoffTime&&d.default.createElement(y.default,{page:e,data:t,env:this.props.env,displayTabs:this.displayTabs,selection:this.state.selection,faceoffTime:this.props.faceoffTime}),(0,p.default)(this.props.faceoffTime)?d.default.createElement("div",{className:"page-selection"},d.default.createElement("div",{onClick:this.selection,className:this.state.selection?"game-preview site-border-color selected":"game-preview"},e.contentType," ",n?"Recap":"Preview"),d.default.createElement("div",{onClick:this.selection,className:this.state.selection?"game-recap":"game-recap site-border-color selected"},e.contentType," ",(0,h.isLive)(e.contentType,t)?" Live":n?" Cagenomics":" Recap")):d.default.createElement("div",null),this.state.selection?d.default.createElement(this.props.env.preview,{page:e,api:t}):d.default.createElement(this.props.env.recap,{page:e,api:t}),d.default.createElement(g.default,{path:window.location.href,title:e.title,type:e.contentType}))}}]),t}(c.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(83),u=r(l),c=n(1076),d=r(c),f=n(23),p=r(f),h=n(42),m=r(h),y=n(43),v=r(y),g=n(3),b=r(g),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),w=n(1),E=r(w);n(321),n(837);var k=function(e){function t(){var e,n,r,s;i(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={event:(0,b.default)(r.props.api,"LiveEvents[0]")},r.initializeProps=function(){r.header="<div>\n      <span>Strikes Landed / Thrown</span>\n      <span>Arm Strikes Landed / Thrown</span>\n      <span>Leg Strikes Landed / Thrown</span>\n      <span>Ground Strikes Landed / Thrown</span>\n      <span>Takedowns / Attempts</span>\n      <span>Submission Attempts</span>\n      <span>Knockdowns</span>\n      <span>Dominant Positions</span>\n    </div>";var e=document.querySelectorAll(".button");e.forEach(function(e){e.addEventListener("click",function(){var t=e.nextElementSibling;(0,v.default)(t.className,"toggled")?(e.className="button",t.className="stats-container"):(e.className="button toggled",t.className="stats-container toggled")},!1);var t=e.nextElementSibling,n=(0,m.default)(r.state.event.Fights,{FightId:e.getAttribute("data-fight")}),a=r.mergeRounds(n);r.appendToPage(a,t)})},r.componentDidMount=function(){r.initializeProps()},r.componentDidUpdate=function(e){r.props.api!==e.api&&r.initializeProps()},r.mergeRounds=function(e){function t(e,t,n){if(!(0,p.default)(e)&&"FighterId"!==n)return+e+ +t}var n=[],r=[],i=[];n.push(e.Rounds.filter(function(t){return t.FighterId===e.Fighter1_Id})),r.push(e.Rounds.filter(function(t){return t.FighterId===e.Fighter2Id}));for(var o=[n,r],s=0;s<o.length;s++)for(var l=0,u=o[s].length;l<u;l++)if(o[s][l].length){var c=o[s][l].map(function(e){return e}),f=c.slice(0,1),h=c.slice(1,c.length-1);i.push(d.default.apply(void 0,[f[0]].concat(a(h),[t])))}return i},r.appendToPage=function(e,t){var n=[];e.forEach(function(e){var t="<div>\n        <span>"+(+e.TotalArmStrikesThrown+ +e.TotalLegStrikesThrown)+" / "+ +e.TotalStrikesThrown+"</span>\n        <span>"+(+e.NonPowerArmStrikesLanded+ +e.PowerArmStrikesLanded)+" / "+ +e.TotalArmStrikesThrown+"</span>\n        <span>"+(+e.NonPowerLegStrikesLanded+ +e.PowerLegStrikesLanded)+" / "+ +e.TotalLegStrikesThrown+"</span>\n        <span>"+ +e.PowerGroundStrikesLanded+" / "+ +e.GroundStrikesThrown+"</span>\n        <span>"+ +e.Takedowns+" / "+ +e.TakedownAttempts+"</span>\n        <span>"+ +e.SubmissionAttempts+"</span>\n        <span>"+ +e.Knockdowns+"</span>\n        <span>"+ +e.DominantPositions+"</span>\n      </div>";n.push(t)}),t.innerHTML=(0,u.default)(n[0])?"<div><span>No data yet.</span></div>":n[0]+r.header+n[1]},s=n,o(r,s)}return s(t,e),_(t,[{key:"render",value:function(){return E.default.createElement("div",{className:"matchup-wrapper fight-detail"},E.default.createElement("div",{className:"preview",style:{width:"100%"}},E.default.createElement("h3",{className:"preview-title site-border-color"},"Preview"),E.default.createElement("div",{className:"preview-paragraph",dangerouslySetInnerHTML:{__html:""+(this.props.page.details||"Coming soon.")}})))}}]),t}(w.Component);e.exports=k},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f),h=n(46),m=n(22);n(321);var y=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={matchup:[]},r.componentDidMount=function(){var e=r.props.page,t=(0,m.reduceMetadata)((0,l.default)(e,"metadata",[]));p.default.get("/season/standings/"+t.seasonID).then(function(t){var n=t.data.seasonData.standings.team,a=n.filter(function(t){return t.teamid===e.awayTeam.gist.dataId}),i=n.filter(function(t){return t.teamid===e.homeTeam.gist.dataId});r.setState({matchup:[a,i]})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"matchup-wrapper"},d.default.createElement("div",{className:"preview"},d.default.createElement("h3",{className:"preview-title site-border-color"},"Preview"),d.default.createElement("div",{className:"preview-paragraph",
dangerouslySetInnerHTML:{__html:""+(this.props.page.body||"Coming soon.")}})),d.default.createElement("div",{className:"matchup-summary"},d.default.createElement("h3",{className:"matchup-summary-title site-border-color"},"Matchup"),this.state.matchup.map(function(e,t){return e.map(function(e,t){return d.default.createElement("div",{className:"team",key:t},d.default.createElement("span",{className:"team-name"},e.mascot),d.default.createElement("span",{className:"team-standing"},e.wins," - ",e.losses),d.default.createElement("div",{className:"team-wrapper"},h.game_matchup[0].map(function(t,n){return d.default.createElement("div",{key:n},d.default.createElement("span",null,t),d.default.createElement("span",null,d.default.createElement("b",null,e[h.game_matchup[1][n]])))})))})})))}}]),t}(c.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(1083),u=r(l),c=n(1066),d=r(c),f=n(70),p=r(f),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=n(1),y=r(m),v=n(46);n(322),n(838);var g=function(e){function t(){var e,n,r,s;i(this,t);for(var l=arguments.length,c=Array(l),f=0;f<l;f++)c[f]=arguments[f];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={fights:[],selected:null},r.onSelect=function(e){var t=e.target.id?parseInt(e.target.id,10):+e.target.value.split("")[0]-1;isNaN(t)||r.setState({selected:t})},r.initializeProps=function(){var e=r.props.api.LiveEvents[0],t=(0,p.default)(e.Fights,"FightStatus").reverse(),n=null!==r.state.selected?r.state.selected:(0,d.default)(t,function(e){return"1"===e.FightStatus||"2"===e.FightStatus});r.stats={},r.setState({fights:t,selected:n})},r.componentDidMount=function(){r.initializeProps()},r.componentDidUpdate=function(e){r.props.api!==e.api&&r.initializeProps()},r.getValues=function(e,t,n,a){var i={Round:n.Round,Time:n.RoundTime,Fighter:e["Fighter"+(t%2?1:2)+"_LastName"],AS:+n.PowerArmStrikesLanded+ +n.NonPowerArmStrikesLanded,"AS%":100*r.stats.AS/+n.TotalArmStrikesThrown||0,LS:+n.NonPowerLegStrikesLanded+ +n.PowerLegStrikesLanded,"LS%":100*r.stats.LS/+n.TotalLegStrikesThrown||0,GS:+n.PowerGroundStrikesLanded+ +n.NonPowerGroundStrikesLanded,"GS%":100*r.stats.GS/+n.GroundStrikesThrown||0};return r.stats[a]=i[a],isNaN(i[a])||"Round"===a?i[a]:(+i[a]).toFixed(1)},r.displayNames=function(e){var t,n=(t={},a(t,e.Fighter1_Id,e.Fighter1_LastName),a(t,e.Fighter2Id,e.Fighter2_LastName),t),r=n[e.Fighter1_Id],i=n[e.Fighter2Id],o=r+" / "+i;if("1"===e.FightStatus&&e.Rounds.length)o+=" (Now)";else if(e.WinnerId){var s=n[e.WinnerId];o=(0,u.default)(o,s,s+" (Won)")}return o},s=n,o(r,s)}return s(t,e),h(t,[{key:"render",value:function(){var e=this;return y.default.createElement("div",{className:"recap-fight"},y.default.createElement("h1",{className:"fight-selection-title site-border-color"},"Cagenomics"),y.default.createElement("div",{className:"recap-fight-wrapper"},y.default.createElement("div",{className:"fight-selection"},y.default.createElement("h1",{className:"site-color"},"Fights"),y.default.createElement("div",{className:"fights-desktop"},this.state.fights.map(function(t,n){return y.default.createElement("div",{key:n,className:"fighter "+(e.state.selected===n&&t.Rounds.length?"selected site-background-color":""),style:{opacity:!t.Rounds.length&&".5"}},e.state.selected===n&&y.default.createElement("span",{className:"selected-arrow site-color"}),y.default.createElement("input",{type:"radio",name:"fighter",id:t.Rounds.length?n:null,onClick:e.onSelect}),y.default.createElement("label",{htmlFor:n},y.default.createElement("span",{className:"fight-id"},n+1),e.displayNames(t)))})),y.default.createElement("div",{className:"fights-mobile"},y.default.createElement("select",{onChange:this.onSelect,className:"site-background-color"},this.state.fights.map(function(t,n){return y.default.createElement("option",{key:n,value:n+1+" "+t.Fighter1_LastName+" / "+t.Fighter2_LastName,disabled:!t.Rounds.length},n+1+" "+e.displayNames(t))})))),y.default.createElement("table",{className:"fights-stats",cellSpacing:"0"},y.default.createElement("tbody",null,y.default.createElement("tr",null,v.fight_heads.map(function(e,t){return y.default.createElement("th",{key:t,className:"heads"},e)})),this.state.fights.map(function(t,n){return t.Rounds.map(function(r,a){return n===e.state.selected&&[r].map(function(n,r){return y.default.createElement("tr",{key:r},v.fight_heads.map(function(r,a){return y.default.createElement("td",{key:a,className:"values"},e.getValues(t,t.Rounds.indexOf(n),n,r))}))})})})))),y.default.createElement("p",{className:"legend"},y.default.createElement("em",null,"AS"),": Arm Strikes, ",y.default.createElement("em",null,"LS"),": Leg Strikes, ",y.default.createElement("em",null,"GS"),": Ground Strikes"))}}]),t}(m.Component);e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(46),d=n(558),f=r(d),p=n(559),h=r(p),m=n(560),y=r(m),v=n(561),g=r(v),b=n(22);n(322);var _=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={scoring:[],penalties:[],gameStats:[],rosters:[]},r.initializeProps=function(){var e=r.props.api.gamescore.boxscore,t=e.gameinformation,n=e.scoringsummary,a=e.penaltysummary,i=e.teamstats,o=e.teamroster;r.index=0,r.unmounted||r.setState({awayTeam:t.awayteam,homeTeam:t.hometeam,awayPlayers:(0,b.combineNames)(o[0].player,"firstname[0]","lastname"),homePlayers:(0,b.combineNames)(o[1].player,"firstname[0]","lastname"),scoring:(0,b.combineNames)(n.goal,"scorer.firstname[0]","scorer.lastname"),penalties:(0,b.combineNames)(a.penalty,"player.firstname[0]","player.lastname"),gameStats:i,rosters:o})},r.componentDidMount=function(){r.initializeProps()},r.componentDidUpdate=function(e){r.props.api!==e.api&&r.initializeProps()},r.componentWillUnmount=function(){r.unmounted=!0},r.findAssists=function(e,t){return 1===t&&(r.asts=[]),void 0!==e["assist"+t]?r.asts.push(e["assist"+t].firstname.slice(0,1)+". "+e["assist"+t].lastname)+r.findAssists(e,t+1):r.asts},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=function(t){var n=t.data;return u.default.createElement("td",null,n.assist1?e.findAssists(n,1).replace(/[0-9]/g,"").replace(",",", "):"N/A")};return u.default.createElement("div",{className:"recap-body"},u.default.createElement("div",{className:"left-pane"},this.state.scoring&&u.default.createElement(y.default,{headers:c.scoring_heads,scoring:this.state.scoring,Assists:t}),this.state.penalties&&u.default.createElement(f.default,{headers:c.penalties_heads,penalties:this.state.penalties}),this.state.rosters&&u.default.createElement(h.default,{headers:c.rosters_head,rosters:this.state.rosters,homeTeam:this.state.homeTeam,awayTeam:this.state.awayTeam,awayPlayers:this.state.awayPlayers,homePlayers:this.state.homePlayers})),u.default.createElement("div",{className:"right-pane"},this.state.gameStats&&u.default.createElement(g.default,{headers:c.game_summary,gameStats:this.state.gameStats,homeTeam:this.state.homeTeam,awayTeam:this.state.awayTeam})))}}]),t}(l.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u);n(839);var d=function(e){function t(){var e,n,r,o;a(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={scores:[{final:"",periods:[]}],status:""},r.initializeProps=function(){var e=r.props.data.gamescore.boxscore,t=e.gameinformation,n=e.teamstats.map(function(e){return{final:e.goals,periods:e.linescore.period}}),a=s(n,2),i=a[0],o=a[1];r.setState({scores:[i,o],status:t.gamestatus.status,away_mascot:t.awayteam.mascot,home_mascot:t.hometeam.mascot})},r.componentDidMount=function(){r.initializeProps()},r.componentDidUpdate=function(e){r.props.data!==e.data&&r.initializeProps()},o=n,i(r,o)}return o(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"scoreboard-container"},c.default.createElement("div",{className:"scoreboard-wrapper"},c.default.createElement("div",{className:"status site-background-color"},"FINAL"!==this.state.status?c.default.createElement("span",{className:"live"},"Live"):c.default.createElement("span",null,"Final")),c.default.createElement("table",{className:"table-teams"},c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("th",null)),c.default.createElement("tr",null,c.default.createElement("td",null,this.state.away_mascot)),c.default.createElement("tr",null,c.default.createElement("td",null,this.state.home_mascot))))),c.default.createElement("table",{className:"table-scores"},c.default.createElement("tbody",null,c.default.createElement("tr",null,this.state.scores[0].periods.map(function(e,t){return c.default.createElement("th",{className:"scoreboard-header",key:t},"P"+(t+1))})),this.state.scores.map(function(e,t){return c.default.createElement("tr",{key:t},e.periods.map(function(e,t){return c.default.createElement("td",{className:"scoreboard-content",key:t},c.default.createElement("span",null,e.goals))}))}))),c.default.createElement("table",{className:"table-final"},c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("th",{className:"scoreboard-header"},"FINAL")),this.state.scores.map(function(e,t){return c.default.createElement("tr",{key:t},c.default.createElement("td",{className:"scoreboard-content"},c.default.createElement("span",{className:"site-color"},e.final)))}))))}}]),t}(u.Component);e.exports=d},function(e,t,n){"use strict";var r={GAME:{preview:n(565),recap:n(567),scoreboard:n(568),bannerInfo:n(255).Teams,schedule:"gameSchedule",time:"gameTime",timezone:"gameTimeZone",api:"/game/boxscore"},EVENT:{preview:n(564),recap:n(566),scoreboard:"",bannerInfo:n(255).Event,schedule:"eventSchedule",time:"eventTime",timezone:"eventTimeZone",faceoff:"Time Until PFL Fights",api:"/compustrike/event"}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(90),d=n(92),f=r(d),p=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleShareToggleClick=e.handleShareToggleClick.bind(e),e}return o(t,e),s(t,[{key:"handleShareToggleClick",value:function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:this.props.article.gist,options:{watchlist:!1}};f.default.open(t)}},{key:"render",value:function(){var e=this.props.article,t=e.gist;return u.default.createElement("a",{href:t.permalink,className:"stacked-article"},t.imageGist._16x9&&u.default.createElement("div",{className:"stacked-article-image"},u.default.createElement("div",{className:"article-image-container"},u.default.createElement("div",{className:"article-image"},u.default.createElement("img",{className:"lazy",src:t.imageGist._16x9+"?impolicy=resize&w=90&h=50","data-src":t.imageGist._16x9+"?impolicy=resize&w=900&h=500",alt:t.title})))),u.default.createElement("div",{className:"article-metadata"},u.default.createElement("div",{className:"article-title"},(0,c.ellipsifyByWord)(t.title,10,10)),u.default.createElement("div",{className:"article-summary"},t.summaryText),u.default.createElement("div",{className:"article-underline site-background-color"}),t.description&&u.default.createElement("div",{className:"article-description"},t.description),u.default.createElement("div",{className:"article-bottom"},u.default.createElement("div",{className:"read-more"},"read more"),u.default.createElement("div",{className:"share"},u.default.createElement("div",{className:"share-toggle__icon",onClick:this.handleShareToggleClick},u.default.createElement("span",{className:"small-rect"}),u.default.createElement("span",{className:"small-rect"}),u.default.createElement("span",{className:"small-rect"}))))))}}]),t}(u.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(34),p=r(f),h=n(570),m=r(h);n(840);var y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=(0,l.default)(this.props.layout,"settings"),t=(0,l.default)(this.props,"data.metadataMap.adTag",null),n=parseInt(e.adFrequency,10),r=this.props.data.contentData;return d.default.createElement("div",{className:"stacked-articles "+e.imagePlacement},d.default.createElement("div",{className:"stacked-articles-items"},r.map(function(e,r){return d.default.createElement("div",{className:"stacked-article-container",key:r},d.default.createElement(m.default,{article:e}),t&&n&&((r+1)%n===0?d.default.createElement("div",{className:"article-ad"},d.default.createElement(p.default,{path:t,dimensions:[[970,90],[728,90],[320,50]]})):""))})))}}]),t}(d.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(424),p=r(f),h=n(53),m=r(h),y=n(24);n(841);var v=function(e){var t=e.currentVideo,n=e.isPip,r=e.disablePip,a=e.hideAds,i=function(e){return(0,l.default)(t,e)};return d.default.createElement("div",{className:"StandaloneVideoPlayer01 site-border-color"+(n?" StandaloneVideoPlayer01--pip":"")},d.default.createElement("div",{className:"StandaloneVideoPlayer01__placeholder"}),d.default.createElement("div",{className:"StandaloneVideoPlayer01__player"},d.default.createElement("button",{className:"StandaloneVideoPlayer01__close-button",onClick:r},d.default.createElement(y.CloseIcon,null)),d.default.createElement(m.default,{video:t,videoId:i("gist.id"),videoTag:(0,l.default)(window.settings,"advertising.videoTag"),isFree:i("gist.free"),hlsSrc:i("streamingInfo.videoAssets.hls"),permalink:i("gist.permalink"),autoplay:!0,fileType:"hls",hideAds:a,pricingOptions:i("pricing")})))},g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={pipVideo:!1,pipEnabled:!0},n.handleVisibilityChange=n.handleVisibilityChange.bind(n),n.disablePip=n.disablePip.bind(n),n}return o(t,e),u(t,[{key:"handleVisibilityChange",value:function(e){this.setState({pipVideo:!e})}},{key:"disablePip",value:function(){this.setState({pipEnabled:!1})}},{key:"render",value:function(){return d.default.createElement(p.default,{partialVisibility:!0,disabled:!this.state.pipEnabled,onChange:this.handleVisibilityChange},d.default.createElement(v,Object.assign({currentVideo:(0,l.default)(this.props.data,"contentData.0"),isPip:this.state.pipEnabled&&this.state.pipVideo,disablePip:this.disablePip,hideAds:(0,l.default)(this.props.layout,"settings.hideAds")},this.state)))}}]),t}(c.Component);e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(70),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f);n(842);var h=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={keys:["goals","assists","saves"],top_players:[]},r.componentDidMount=function(){p.default.get("/team-roster-standing/"+r.props.teamId+"/"+r.props.seasonId).then(function(e){var t=e.data.rosters.teamroster.team,n=t.players.player,a=t.goalies.goalie;r.sortData([n,n,a],r.state.keys),r.setState({top_players:r.state.top_players})}).catch(function(e){console.log(e)})},r.sortData=function(e,t){e.map(function(e,n){var a=(0,l.default)(e,function(e){return-e[t[n]]}),i=a.slice(0,3);return r.state.top_players.push(i)})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"top-players"},this.state.top_players.length?this.state.top_players.map(function(t,r){return d.default.createElement("div",{className:"top-leaders",key:r},d.default.createElement("h3",{className:"top-leaders-title site-border-color"},(new Date).getFullYear()+" "+(r>1?"Goalie Leaders":e.state.keys[r].slice(0,-1)+" Leaders")),t.map(function(t,a){return d.default.createElement("div",{className:"players-section",key:a},d.default.createElement("span",{className:"player-info"},d.default.createElement("img",{src:t.photo?t.photo:n(330),alt:t.firstname+" "+t.lastname}),a+1+". "+t.firstname+" "+t.lastname),d.default.createElement("span",{className:"score"},t[e.state.keys[r]]))}))}):d.default.createElement("div",null),d.default.createElement("a",{className:"stats-link",href:"/stats"},"All stats"))}}]),t}(c.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(34),p=r(f);n(843);var h=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={teams:[]},r.componentDidMount=function(){var e=r.props.data.seasonData.standings;r.setState({teams:e.team,league:e.league.leaguename})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"standings"},d.default.createElement("div",{className:"standings-wrap"},d.default.createElement("h3",{className:"standings-title site-border-color"},(new Date).getFullYear()+" Standings"),d.default.createElement("h4",null,this.state.league),this.state.teams.length?this.state.teams.map(function(e,t){return d.default.createElement("div",{className:"team-stat",key:t},d.default.createElement("span",{className:"team"},t+1+". "+e.teamshortname),d.default.createElement("span",{className:"score"},e.wins+" - "+e.losses))}):d.default.createElement("div",null)),d.default.createElement("div",{className:"rectangle-ad-container"},d.default.createElement(p.default,{path:(0,l.default)(this.props.data,"metadataMap.squareAdTag"),dimensions:[[300,250]]})))}}]),t}(c.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(46);n(844);var d=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={current:{}},r.componentDidMount=function(){var e=r.props.data.seasonData.standings.team,t=e.filter(function(e){return e.teamid===r.props.teamId})[0];r.setState({current:t})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.social,n=t.twitterUrl,r=t.facebookUrl,a=t.instagramUrl;return u.default.createElement("div",{className:"teambanner-container"},u.default.createElement("div",{className:"teambanner-banner"},u.default.createElement("div",{className:"teambanner-wrapper"},u.default.createElement("div",{className:"teambanner-logo"},u.default.createElement("img",{src:this.props.logo,alt:"logo"})),u.default.createElement("div",{className:"teambanner-stats"},u.default.createElement("div",{className:"current-stats site-color"},this.state.current.wins+" - "+this.state.current.losses),u.default.createElement("div",{className:"social-handles"},n&&u.default.createElement("a",{href:n},u.default.createElement("i",{className:"ion-social-twitter"})),r&&u.default.createElement("a",{href:r},u.default.createElement("i",{className:"ion-social-facebook"})),a&&u.default.createElement("a",{href:a},u.default.createElement("i",{className:"ion-social-instagram"})))),u.default.createElement("table",{className:"teambanner-table"},u.default.createElement("tbody",null,c.team_stats.map(function(t,n){return u.default.createElement("tr",{key:n},t.map(function(t,r){return 0===n?u.default.createElement("th",{key:r},t):u.default.createElement("td",{key:r},2===n?t:e.state.current[t])}))}))))))}}]),t}(l.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(160),d=r(c),f=n(22);n(845);var p=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={games:[]},r.componentDidMount=function(){(0,f.getGames)().then(function(e){var t=(0,f.nextGame)(e),n=e.slice(t,t+3);r.setState({games:n})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"upcoming-games"},u.default.createElement("h3",{className:"upcoming-games-title site-border-color"},(new Date).getFullYear()+" Upcoming games"),this.state.games.map(function(e,t){return u.default.createElement(d.default,{key:t,homeTeam:e.homeTeam,awayTeam:e.awayTeam,schedule:e.schedule,ticket:e.ticket,stream:e.stream,link:e.link})}),u.default.createElement("a",{className:"schedule-link",href:"/schedule-events"},"Full schedule"))}}]),t}(l.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(575),p=r(f),h=n(574),m=r(h),y=n(573),v=r(y),g=n(576),b=r(g),_=n(6),w=r(_),E=n(34),k=r(E),T=n(22);n(846);var S=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={items:r.props.data&&r.props.data.contentData[0].gist},r.componentDidMount=function(){var e=(0,T.reduceMetadata)((0,l.default)(r.state.items,"metadata",[]));w.default.get("/season/standings/"+e.seasonID).then(function(t){r.setState({data:t.data,seasonId:e.seasonID})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"team-detail"},this.state.data&&d.default.createElement("div",null,d.default.createElement(p.default,{teamId:this.state.items.dataId,logo:this.state.items.imageGist._1x1,social:this.state.items,data:this.state.data}),d.default.createElement("div",{className:"banner-ad-container"},d.default.createElement(k.default,{path:(0,
l.default)(this.props.data,"metadataMap.bannerAdTag"),dimensions:[[970,90],[728,90],[320,50]]})),d.default.createElement("div",{className:"boards-wrapper"},d.default.createElement(b.default,null),d.default.createElement(v.default,{teamId:this.state.items.dataId,seasonId:this.state.seasonId}),d.default.createElement(m.default,{teamId:this.state.items.dataId,data:this.state.data}))))}}]),t}(c.Component);e.exports=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(269),d=r(c),f=n(268),p=r(f),h=n(147),m=r(h);n(847);var y=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={teamNavOpen:!1},e.mobileNavOpen=e.mobileNavOpen.bind(e),e.handleScroll=e.handleScroll.bind(e),e.handleResize=e.handleResize.bind(e),e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)}},{key:"handleScroll",value:function(){(0,d.default)(this.teamMasthead)}},{key:"handleResize",value:function(){(0,p.default)(this.teamMasthead)}},{key:"mobileNavOpen",value:function(){this.setState({teamNavOpen:!this.state.teamNavOpen})}},{key:"handleClickOutside",value:function(e){this.setState({teamNavOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props.layout.settings;return u.default.createElement("div",{className:"team-masthead",ref:function(t){return e.teamMasthead=t}},u.default.createElement("div",{className:"team-masthead-container",style:{backgroundColor:t.backgroundColor}},u.default.createElement("div",{className:"team-logo-container"},u.default.createElement("div",{className:"team-logo"},u.default.createElement("img",{src:t.image,alt:"capitals"})),u.default.createElement("div",{className:"team-name"},t.title)),u.default.createElement("div",{className:"team-nav"},t.links&&t.links.map(function(e){return u.default.createElement("a",{href:e.displayedPath,key:e.id}," ",e.title," ")}),u.default.createElement("div",{className:"social-media"},t.socialLinks&&t.socialLinks.map(function(e){return u.default.createElement("a",{href:e.displayedPath,target:"_blank",key:e.id,className:"connect-circle "+e.title.toLowerCase()},u.default.createElement("span",{className:"ion-social-"+e.title.toLowerCase()}))}))),u.default.createElement("div",{className:"mobile-team-nav",onClick:this.mobileNavOpen},u.default.createElement("div",{className:"mobile-dots"},u.default.createElement("span",{className:"small-rect"}),u.default.createElement("span",{className:"small-rect"}),u.default.createElement("span",{className:"small-rect"})),this.state.teamNavOpen&&u.default.createElement("div",{className:"team-mobile-nav"},t.links&&t.links.map(function(e){return u.default.createElement("a",{href:e.displayedPath,key:e.id}," ",e.title," ")}),t.socialLinks&&t.socialLinks.map(function(e){return u.default.createElement("a",{href:e.displayedPath,target:"_blank",key:e.id,className:"connect-circle "+e.title.toLowerCase()},u.default.createElement("span",{className:"ion-social-"+e.title.toLowerCase()}),e.title)})))))}}]),t}(u.default.Component);e.exports=(0,m.default)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(6),d=r(c),f=n(46),p=n(22),h=n(25),m=r(h);n(320);var y=n(75),v=r(y),g=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={roster:[],loaded:!1,items:r.props.data&&r.props.data.metadataMap},r.componentDidMount=function(){var e=r.state.items;d.default.get("/team-roster-standing/"+e.teamId+"/"+e.seasonId).then(function(e){var t=e.data.rosters.teamroster.team,n=t.players.player.concat(t.goalies.goalie),a=(0,p.combineNames)(n,"firstname","lastname");r.setState({roster:a,team:t.teamname,loaded:!0})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){var e=function(e){var t=e.data,n=e.value;return u.default.createElement("td",null,(0,p.labelIsValid)(t,n)?t[n].replace(/(&apos;)|(&quot;)|-/g,"'"):"N/A")};return u.default.createElement("div",{className:"teamstats"},u.default.createElement("div",{className:"teamstats-title site-border-color"},(new Date).getFullYear()+" "+(this.state.team||"")+" Roster"),this.state.loaded?u.default.createElement(v.default,{headers:f.roster_stats_heads[0],data:this.state.roster,values:f.roster_stats_heads[1],length:this.state.roster.length,filterTag:"height",filter:e}):u.default.createElement(m.default,null))}}]),t}(l.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=n(1082),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(63),m=r(h),y=n(22),v=n(160),g=r(v),b=n(46);n(781);var _=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={games:[],range:[]},r.toMonth=function(e){return(0,m.default)(1e3*e,"MM")},r.componentDidMount=function(){(0,y.getGames)().then(function(e){r.setState({games:e,range:(0,c.default)(r.toMonth(e[(0,y.nextGame)(e)].schedule.gameTime),+r.toMonth(e[e.length-1].schedule.gameTime)+1)})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),d(t,[{key:"render",value:function(){var e=this;return p.default.createElement("div",{className:"team-schedule"},p.default.createElement("h1",{className:"team-schedule-title site-border-color"},(new Date).getFullYear()+" "+(0,l.default)(window.settings,"companyName","")+" Schedule"),this.state.games.length?this.state.range.map(function(t,n){return p.default.createElement("div",{key:n},p.default.createElement("h1",{className:"current-month"},b.months[t-1]),p.default.createElement("div",{className:"games-wrapper"},e.state.games.map(function(n,r){return t===+e.toMonth(n.schedule.gameTime)&&1e3*n.schedule.gameTime>Date.now()?p.default.createElement(g.default,{key:r,siteName:window.settings.companyName,homeTeam:n.homeTeam,awayTeam:n.awayTeam,schedule:n.schedule,ticket:n.ticket,stream:n.stream,link:n.link}):""})))}):p.default.createElement("div",{className:"no-games"},"No games at the moment."))}}]),t}(f.Component);e.exports=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),d=n(6),f=r(d),p=n(75),h=r(p),m=n(25),y=r(m),v=n(46),g=n(22);n(320);var b=function(e){function t(){var e,n,r,o;a(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.state={players:[],goalies:[],headers:[v.players_heads,v.goalies_heads],loaded:!1,items:r.props.data&&r.props.data.metadataMap},r.componentDidMount=function(){var e=r.state.items;f.default.get("/team-roster-standing/"+e.teamId+"/"+e.seasonId).then(function(e){var t=e.data.rosters.teamroster.team,n=t.players.player,a=t.goalies.goalie,i=(0,g.combineNames)([n,a],"firstname","lastname"),o=s(i,2),l=o[0],u=o[1];r.setState({players:l,goalies:u,team:t.teamname,loaded:!0})}).catch(function(e){console.log(e)})},o=n,i(r,o)}return o(t,e),l(t,[{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"teamstats"},c.default.createElement("div",{className:"teamstats-title site-border-color"},(new Date).getFullYear()+" "+(this.state.team||"")+" Statistics"),this.state.loaded?["players","goalies"].map(function(t,n){return c.default.createElement(h.default,{key:n,headers:e.state.headers[n][0],data:e.state[t],values:e.state.headers[n][1],sortBy:[["PTS","points"],["GA","saves"]][n],length:e.state[t].length})}):c.default.createElement(y.default,null))}}]),t}(u.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(44),p=r(f),h=n(164),m=r(h),y=n(583),v=r(y);n(68),n(324);var g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:(0,l.default)(e.data,"contentData")||[]},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.layout.settings,t=e.columns||{},n=this.state.items&&this.state.items.length>t.desktop,r=new m.default(t);return d.default.createElement("div",{className:"article-tray "+(e.thumbnailType?e.thumbnailType:"")},d.default.createElement("div",{className:"tray-header"},this.props.data.title),d.default.createElement("div",{className:"items site-color"},this.state.items&&this.state.items.length>0&&d.default.createElement(p.default,{dots:!1,infinite:e.loop,arrows:n,slidesToShow:r.slidesToShow,slidesToScroll:r.slidesToScroll,responsive:r.responsiveBreakpoints},this.state.items.map(function(e,t){return d.default.createElement("div",{key:t},d.default.createElement(v.default,{item:e,sharing:!0}))}))))}}]),t}(d.default.Component);e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(18),p=n(90),h=n(92),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleShareToggleClick=n.handleShareToggleClick.bind(n),n.state={hoverOverflow:!1},n}return o(t,e),u(t,[{key:"formatReadtime",value:function(e){var t=e.split(" ")[0];return t<1?60*t+"sec read":t+"min read"}},{key:"render",value:function(){var e=this,t=this.props.item.gist;return d.default.createElement("a",{className:"article-tray-item "+(this.state.hoverOverflow?"overflow":""),href:t.permalink,ref:function(t){return e.el=t}},d.default.createElement("div",{className:"image-container",style:this.backgroundThumb},this.metaData),d.default.createElement("div",{className:"details"},d.default.createElement("div",{className:"title-container"},d.default.createElement("div",{className:"title"},t.title),this.props.sharing&&d.default.createElement("div",{className:"share"},d.default.createElement("div",{className:"share-toggle__icon",onClick:this.handleShareToggleClick},d.default.createElement("span",{className:"small-rect"}),d.default.createElement("span",{className:"small-rect"}),d.default.createElement("span",{className:"small-rect"})))),d.default.createElement("div",{className:"title-divider site-background-color"}),t.summaryText&&d.default.createElement("div",{className:"description"},(0,p.ellipsifyByWord)(t.summaryText,15,15))))}},{key:"handleShareToggleClick",value:function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:this.props.item.gist,options:{watchlist:!1}};m.default.open(t)}},{key:"metaData",get:function(){var e=(0,l.default)(this.props,"item.gist"),t=(0,l.default)(window.settings,"brand.metadata");if(e&&t)return d.default.createElement("div",{className:"metadata"},t.displayDuration&&e.readTime&&d.default.createElement("span",null,this.formatReadtime(e.readTime)),t.displayAuthor&&e.author&&d.default.createElement("span",null,e.author),t.displayPublishDate&&e.publishDate&&d.default.createElement("span",null,(0,f.format)(e.publishDate,"MMM D")))}},{key:"thumbImage",get:function(){var e=this.props.item.gist.imageGist;if(e)return e._16x9||e._3x4||e._1x1||e._32x9||(0,l.default)(window.settings,"images.placeholderCover")}},{key:"backgroundThumb",get:function(){return{background:"url("+this.thumbImage+"?impolicy=resize&w=500&h=280) no-repeat",backgroundSize:"contain",backgroundPosition:"center"}}}]),t}(d.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(39),s=r(o),l=function(e){return i.default.createElement("div",{className:"netflix-tray"},i.default.createElement(s.default,Object.assign({},e,{netflix:!0,noBadgeImage:!0})))};e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(201),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(39),d=r(c),f=n(1),p=r(f),h=n(89),m=r(h),y=n(53),v=r(y),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.options={noPlayIcon:!0,noBoxshadow:!0,isEpisode:!0,noEpisodeNumber:!0},n.state={videoId:null,videoTitle:""},(0,l.default)(e.data,n.options),n.openEpisodeOverlay=n.openEpisodeOverlay.bind(n),n.closeModal=n.closeModal.bind(n),n}return o(t,e),u(t,[{key:"openEpisodeOverlay",value:function(e,t){e.preventDefault();var n=this.props.data.contentData[t].gist;this.setState({videoId:n.id,videoTitle:n.title,isModelOpen:!0}),document.body.classList.add("overflow-hide")}},{key:"closeModal",value:function(){this.setState({isModelOpen:!1}),document.body.classList.remove("overflow-hide")}},{key:"render",value:function(){return p.default.createElement("div",{className:"preview-tray"},p.default.createElement(d.default,Object.assign({},this.props,{openEpisodeOverlay:this.openEpisodeOverlay})),this.state.isModelOpen?p.default.createElement(m.default,{title:this.state.videoTitle,shown:this.state.isModelOpen,closeModal:this.closeModal,className:"modal-anim",children:p.default.createElement(v.default,{autoplay:!0,videoId:this.state.videoId})}):"")}}]),t}(p.default.Component);e.exports=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=n(201),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(39),p=r(f),h=n(1),m=r(h),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.options={sharing:!0,noBlockTitle:!0,noPlayIcon:!0,noBoxshadow:!0},(0,c.default)(e.data,n.options),n}return o(t,e),d(t,[{key:"render",value:function(){return m.default.createElement("div",{className:"sports-tray "+((0,l.default)(this.props,"layout.settings.isHidden")?"hide":"")},m.default.createElement(p.default,this.props))}}]),t}(m.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=n(25),p=r(f),h=n(262),m=n(15),y=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={deviceCount:null,loading:!1,message:null,devices:[]},e.handleSubmit=e.handleSubmit.bind(e),e.onKeyup=e.onKeyup.bind(e),e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.onUserAuth)(function(t){return e.getDevices(t)})}},{key:"getDevices",value:function(e){var t=this;return e?void(0,h.fetchDevices)(this.props.user.userId).then(function(e){t.setState({deviceCount:e.length,devices:e})}):void this.setState({deviceCount:null})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),(0,h.activateDevice)(this.deviceCode.value.toUpperCase(),this.props.user.userId).then(function(e){e.data&&"success"===e.data.status&&(t.setState({loading:!1,message:"Device has been Activated!"}),t.getDevices(t.props.user),t.deviceCode.value="",t.deviceMsg.classList.remove("error"),setTimeout(function(e){return t.setState({message:null})},3e3))}).catch(function(e){t.setState({loading:!1,message:e.response.data.errorMessage}),t.deviceMsg.classList.add("error")})}},{key:"onKeyup",value:function(){this.setState({message:null})}},{key:"render",value:function(){var e=this;if(!this.props.user)return null;var t=this.state.loading?u.default.createElement(p.default,null):"Activate";return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Device Management"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Num devices"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},this.state.deviceCount)),u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button",onClick:function(t){return d.default.manageDevices({devices:e.state.devices,getDevices:function(t){return e.getDevices(t)}})}},"Manage")),u.default.createElement("div",{className:"buttons"},u.default.createElement("form",{className:"add-code-form",onSubmit:this.handleSubmit},u.default.createElement("input",{type:"text",ref:function(t){return e.deviceCode=t},className:"device-code",onKeyUp:this.onKeyup,required:!0}),u.default.createElement("button",{type:"submit",className:"device-submit"},t)),this.state.message&&u.default.createElement("span",{className:"device-msg",ref:function(t){return e.deviceMsg=t}},this.state.message))))}}]),t}(u.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(18),d=n(9),f=r(d),p=n(181),h=r(p),m=n(182),y=r(m),v=n(183),g=r(v),b=n(184),_=r(b),w={amex:h.default,discover:y.default,mastercard:g.default,visa:_.default},E=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"error",value:function(){console.log("error")}},{key:"render",value:function(){var e=this.props.subscription,t=e.subscriptionInfo,n=t.platform,r=t.paymentHandlerDisplayName,a=n.indexOf("web")!==-1,i=e&&e.subscriptionPlanInfo||{},o=e&&e.subscriptionInfo||{};return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Subscription Plan"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},i&&i.name),i.renewable&&u.default.createElement("div",{className:"next-step"},"Next billing date: ",u.default.createElement("br",null),(0,c.format)(o.subscriptionEndDate,"MM-DD-YYYY"))),u.default.createElement("div",{className:"buttons"},i.renewable&&e.plans.length>0&&u.default.createElement("div",{className:"button",onClick:function(e){return a?f.default.upgradeSubscription():f.default.error(r)}},"Upgrade Plan"),i.renewable&&u.default.createElement("div",{className:"button",onClick:function(e){return a?f.default.cancelSubscription():f.default.error(r)}},"Cancel Subscription"))),u.default.createElement("div",{className:"clearfix"}),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Payment Processor"),u.default.createElement("div",{className:"main"},u.default.createElement("span",null,e&&o&&o.brand&&u.default.createElement("img",{alt:"Payment",className:"payment-card",src:w[o.brand.toLowerCase()],role:"presentation"})),u.default.createElement("span",null,o.last4?"**** **** **** "+o.last4:o.paymentHandler)),u.default.createElement("div",{className:"buttons"},i.renewable&&"STRIPE"===o.paymentHandler&&u.default.createElement("div",{className:"button",onClick:function(e){return a?f.default.updateStripePayment():f.default.error(r)}},"Update Billing"),u.default.createElement("div",{className:"button",onClick:function(e){return f.default.billingHistory()}},"Billing History"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"next-step"},"You have cancelled your subscription.")),u.default.createElement("div",{className:"buttons"},u.default.createElement("a",{href:"/viewplans",className:"button"},"Subscribe Now"),u.default.createElement("div",{className:"button",onClick:function(e){return d.default.billingHistory()}},"Billing History"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(18),d=n(9),f=r(d),p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.subscription;return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Subscription Plan"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},e.subscriptionPlanInfo&&e.subscriptionPlanInfo.name),u.default.createElement("div",{className:"next-step"},"Schedule to be cancelled on: "+(0,c.format)(e.subscriptionInfo.subscriptionEndDate,"MM-DD-YYYY"))),u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button",onClick:function(e){return f.default.billingHistory()}},"Billing History"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,
enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(25),d=r(c),f=n(15),p=n(9),h=r(p),m=n(588),y=r(m),v=n(593),g=r(v),b=n(590),_=r(b),w=n(589),E=r(w),k=n(592),T=r(k),S=n(594),C=r(S),P=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={loading:!0},e}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;(0,f.fetchUserSubscription)().then(function(){e.setState({loading:!1}),window.sessionStorage.getItem("openUpdatecard")&&(h.default.updateStripePayment(),window.sessionStorage.removeItem("openUpdatecard"))}).catch(function(t){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props.user&&this.props.user.subscription;if(this.state.loading)return u.default.createElement(d.default,null);if(!this.props.user.isSubscribed&&!this.props.user.subscription)return u.default.createElement(T.default,{subscription:e});switch(e.subscriptionInfo.subscriptionStatus){case"COMPLETED":case"INACTIVE":case"REFUNDED":return u.default.createElement(y.default,{subscription:e});case"PENDING":return u.default.createElement(g.default,{subscription:e});case"SUSPENDED":return u.default.createElement(C.default,{subscription:e});case"DEFERRED_CANCELLATION":return u.default.createElement(_.default,{subscription:e});case"CANCELLED":return u.default.createElement(E.default,{subscription:e});default:return u.default.createElement("div",null)}}}]),t}(u.default.Component);e.exports=P},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.subscription&&this.props.subscription.subscriptionInfo.errorMessage;return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},e?e:"Not Started")),u.default.createElement("div",{className:"buttons"},u.default.createElement("a",{href:"/viewplans",className:"button"},"Subscribe Now"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.subscription;return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Subscription Plan"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},e.subscriptionPlanInfo&&e.subscriptionPlanInfo.name)),u.default.createElement("div",{className:"status"},"PENDING")),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Subscription"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"next-step"},"Account has been suspended.")),u.default.createElement("div",{className:"buttons"},u.default.createElement("a",{href:"/viewplans",className:"button"},"Subscribe Now"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=n(181),p=r(f),h=n(182),m=r(h),y=n(183),v=r(y),g=n(184),b=r(g),_={amex:p.default,discover:m.default,mastercard:v.default,visa:b.default},w=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props.user.billingInfo,t=void 0===e?{}:e,n=t.stripeToken;n=void 0===n?{}:n;var r=n.card;r=void 0===r?{}:r;var a=r.brand,i=r.last4;return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Transactions"),u.default.createElement("div",{className:"clearfix"}),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Payment Processor"),u.default.createElement("div",{className:"main"},u.default.createElement("span",null,a&&u.default.createElement("img",{alt:"Payment",className:"payment-card",src:_[a.toLowerCase()],role:"presentation"})),u.default.createElement("span",null,i?"**** **** **** "+i:"stripe")),u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button",onClick:function(e){return d.default.updateStripePayment()}},"Update Billing"),u.default.createElement("div",{className:"button",onClick:function(e){return d.default.billingHistory()}},"Billing History"))),u.default.createElement("div",{className:"clearfix"}))}}]),t}(u.default.Component);e.exports=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"isVLAuthenticated",value:function(){return"viewlift"===this.state.user.provider}},{key:"render",value:function(){return u.default.createElement("section",null,u.default.createElement("div",{className:"title site-color"},"Account Info"),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Email"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},this.state.user&&this.state.user.email||"...")),this.isVLAuthenticated()&&u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button",onClick:function(e){return d.default.updateProfile()}},"Edit profile"))),u.default.createElement("div",{className:"detail"},u.default.createElement("div",{className:"title site-color"},"Name"),u.default.createElement("div",{className:"main"},u.default.createElement("div",{className:"key"},this.state.user&&this.state.user.name||"")),this.isVLAuthenticated()&&u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button",onClick:function(e){return d.default.changePassword()}},"Change password"))))}}]),t}(u.default.Component),p=n(12),h=n(8);p(f,function(e){return{user:e.user}},h),e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(3),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(28),m=n(122),y=r(m),v=n(62),g=r(v),b=n(266),_=r(b),w=n(17),E=n(89),k=r(E),T=n(53),S=r(T),C=n(15),P=n(9),O=r(P),N=n(156),A=r(N),j=n(124),I=n(27),x=n(24);n(850);var M=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={video:(0,c.default)(e.data,"contentData[0]"),isModelOpen:!1,pricingOptions:(0,c.default)(e.data,"contentData[0].pricing"),isQueued:!1},n.showTrailer=n.showTrailer.bind(n),n.addToQueue=n.addToQueue.bind(n),n.removeFromQueue=n.removeFromQueue.bind(n),n.socialShare=n.socialShare.bind(n),n}return o(t,e),d(t,[{key:"bodyHack",value:function(e){var t=window.document.body.classList;t&&e?t.add("overflow-hide"):t&&t.contains("overflow-hide")&&t.remove("overflow-hide")}},{key:"showTrailer",value:function(){this.bodyHack(!this.state.isModelOpen),this.setState({isModelOpen:!this.state.isModelOpen})}},{key:"componentDidMount",value:function(){this.getVideoInfo(),this.state.video.pricing&&this.getTransactionInfo()}},{key:"getTransactionInfo",value:function(){var e=this,t=this.state.video.gist,n=t.contentType,r=t.id;(0,C.getUser)(function(t){return t?t&&t.isSubscribed&&e.state.video.pricing.type&&e.state.video.pricing.type.includes("SVOD+")?void e.setState({purchased:!0}):void(0,I.getTransactionInfo)(t.userId,!1,n,r).then(function(t){t.data&&t.data[0][r]?e.setState({purchased:!0}):e.setState({purchased:!1})}):void e.setState({purchased:!1})})}},{key:"getVideoInfo",value:function(){var e=this,t=this.state.video.gist.id;(0,C.getUser)(function(n){n&&(0,I.getVideoInfo)(t,function(t){e.setState({isQueued:t.isQueued,startTime:t.watchedTime})})})}},{key:"disableRightClick",value:function(e){e.preventDefault()}},{key:"addToQueue",value:function(){var e=this,t=this.state.video,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o,l=r.id,u=r.contentType;(0,I.addToQueue)(l,u,function(t){s.push(r.primaryCategory);var n={contentId:r.id,contentTitle:r.title,contentType:"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(n.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(n.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),n.contentGenre=s.map(function(e){return e&&e.title}).join(","),(0,w.trackEvent)("Added to Watchlist",n),e.setState({isQueued:!0})})}},{key:"removeFromQueue",value:function(){var e=this,t=this.state.video,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o,l=r.id;(0,I.removeFromQueue)(l,function(t){s.push(r.primaryCategory);var n={contentId:r.id,contentTitle:r.title,contentType:"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(n.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(n.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),n.contentGenre=s.map(function(e){return e&&e.title}).join(","),(0,w.trackEvent)("Removed From Watchlist",n),e.setState({isQueued:!1})})}},{key:"renderCrew",value:function(e){return(0,l.default)(e,function(e,t){if(e.credits){var n="starring"===e.title?"actor":e.title;return p.default.createElement("div",{key:t},p.default.createElement("div",{className:"role"},e.title),p.default.createElement("div",{className:"people"},(0,l.default)(e.credits,function(e,t){return p.default.createElement("span",{key:t,itemProp:n},e.title)})))}})}},{key:"render",value:function(){var e=this,t=this.state.video,n=this.state.user&&this.state.user.isSubscribed&&t.pricing&&t.pricing.type&&t.pricing.type.includes("SVOD+"),r=this.state.user&&this.state.purchased,a=this.state.user&&this.state.watchNow,i=void 0;if(r&&(i=!0),this.state.video.gist.scheduleStartDate&&this.state.video.gist.scheduleStartDate-Date.now()>0&&(i=!1),!t)return p.default.createElement("div",{className:"video-module"},"Video data not available");"INACTIVE"===(0,c.default)(this.state.user,"subscription.subscriptionInfo.subscriptionStatus")&&window.sessionStorage.setItem("openUpdatecard",!0);var o=window.settings.features.free_preview,s=o&&o.isFreePreview,l=o&&o.length.unit;if(o)var u=parseInt(o.length.multiplier,10),d="Minutes"===l?60*u:u;var f=t.gist,h=(0,c.default)(f.primaryCategory,"title",""),m=(0,_.default)(t.creditBlocks),y={id:f.id,siteId:window.settings.siteId,permalink:f.permalink,videoTag:(0,c.default)(window.settings,"advertising.videoAdTag",""),category:h,title:(0,c.default)(t.contentDetails,"trailers[0].title"),videoId:(0,c.default)(t.contentDetails,"trailers[0].id")},v=t.contentDetails,g="";return v.widgetImage?g=v.widgetImage.url:v.videoImage&&(g=v.videoImage.url),p.default.createElement("div",{itemScope:!0,itemType:"http://schema.org/Movie",className:"video-player-with-info-01"},this.helmet,p.default.createElement("div",{className:"header"},p.default.createElement("div",{className:"video-module-wrapper"},p.default.createElement("div",{className:"header-info"},p.default.createElement("h1",{itemProp:"name",className:"header-title"},f.title),p.default.createElement("span",{className:"header-details"},f.runtime&&p.default.createElement("span",null,Math.round(f.runtime/60)+"mins"),f.year&&p.default.createElement("span",null,f.year),h&&p.default.createElement("span",{itemProp:"genre"},h)),t.parentalRating&&p.default.createElement("span",{className:"parental-rating"},t.parentalRating.replace("_",""))))),p.default.createElement("div",{className:"video-module-wrapper"},!t||t.gist.free||!t.pricing||!t.pricing.rent&&!t.pricing.purchase||n||a?p.default.createElement("div",{className:"video",onContextMenu:this.disableRightClick.bind(this)},p.default.createElement(S.default,Object.assign({},this.state,{videoId:f.id,category:h,fileType:(0,c.default)(this.props,"layout.settings.fileType"),modalOpen:this.state.isModelOpen,isTrailer:!1,autoplay:!0,permalink:f.permalink,videoTag:(0,c.default)(window.settings,"advertising.videoTag"),parentalRating:t.parentalRating,previewTime:s&&d,isFree:f.free,closedCaptions:v.closedCaptions,startTime:this.state.startTime}))):this.renderPurchaseOptions(t,r,i,n)),p.default.createElement("div",{className:"video-module-wrapper"},p.default.createElement("div",{className:"info-container"},p.default.createElement("div",{className:"video-info"},p.default.createElement("div",{className:"details"},y.videoId&&p.default.createElement("div",{className:"trailer",style:{backgroundImage:"url("+g+")"},onClick:this.showTrailer},p.default.createElement("div",{className:"play-icon site-color"},p.default.createElement("i",{className:"ion-ios-play"}),p.default.createElement("p",{className:"trailer-copy"},"Trailer")),p.default.createElement("div",{className:"category site-color"},""+h)),p.default.createElement("div",{className:"crew"},this.renderCrew(m))),p.default.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:f.description}})),p.default.createElement("div",{className:"sharing"},p.default.createElement("i",{className:"ion-social-facebook",onClick:function(){e.socialShare("Facebook")}}),p.default.createElement("i",{className:"ion-social-twitter",onClick:function(){e.socialShare("Twitter")}}),p.default.createElement("i",{className:"ion-ios-email-outline",onClick:function(){e.socialShare("Email")}}),this.state.user&&(this.state.isQueued?p.default.createElement("div",{className:"remove-watchlist site-color",onClick:this.removeFromQueue}," ",p.default.createElement(x.RemoveFromWatchlistIcon,null)):p.default.createElement("div",{className:"add-watchlist site-color",onClick:this.addToQueue}," ",p.default.createElement(x.AddToWatchlistIcon,null))))),y.videoId&&this.state.isModelOpen&&p.default.createElement(k.default,{title:y.title,shown:this.state.isModelOpen,closeModal:this.showTrailer,className:"modal-anim",children:p.default.createElement(S.default,Object.assign({},y,{autoplay:!0,isTrailer:!0,modalOpen:this.state.isModelOpen}))})))}},{key:"socialShare",value:function(e){var t=this.state.video,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o;s.push(r.primaryCategory);var l={contentId:r.id,contentTitle:r.title,contentType:r.isTrailer?"Trailer":"EPISODIC"===r.mediaType?"Episode":"Movie Video",contentDuration:r.runtime,playbackType:"Streamed"};switch(i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(l.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(l.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),l.contentGenre=s.map(function(e){return e&&e.title}).join(","),l.medium=e,e){case"Facebook":g.default.facebook(window.location.href);break;case"Twitter":g.default.twitter(window.location.href,r.title);break;case"Email":g.default.email(window.location.href)}(0,w.trackEvent)("Shared",l)}},{key:"renderPurchaseOptions",value:function(e,t,n,r){var a=this,i={backgroundImage:"url("+e.gist.videoImageUrl+")",backgroundPosition:"center",backgroundSize:"cover"};return p.default.createElement("div",{style:{position:"relative",background:"#100101"}},e&&e.gist.scheduleStartDate&&e.gist.scheduleStartDate-Date.now()>0&&p.default.createElement(A.default,{header:"Time until this video is available!",startTime:e.gist.scheduleStartDate,hide:function(){return a.setState({startPlaying:!0})}}),void 0!==this.state.purchased&&!t&&p.default.createElement("div",{className:"transaction-options "+(!r&&"subscriptions")},p.default.createElement(y.default,{content:this.state.video,watchNow:function(){O.default.hide(),a.setState({watchNow:!0}),(0,I.playVideo)(a.state.user.userId,e.gist.id)},purchased:function(){return a.setState({purchased:!0})}})),p.default.createElement("div",{className:"video-player-bg "+(void 0===this.state.purchased||t?"":" blurred"),style:i},n&&p.default.createElement("div",{className:"play-icon-overlay",onClick:function(){(0,I.playVideo)(a.state.user.userId,e.gist.id),a.setState({watchNow:!0})}},p.default.createElement(j.PlayCircleSvg,null)),e.gist.scheduleStartDate&&e.gist.scheduleStartDate-Date.now()>0&&t&&p.default.createElement("div",{className:"purchased-copy"},p.default.createElement("p",null,"You have purchased this video"),p.default.createElement("p",null,"Sit back, and enjoy when it starts"))))}},{key:"helmet",get:function(){var e=this.state.video,t=e.gist,n=void 0===t?{}:t,r=e.seo,a=void 0===r?{}:r;return p.default.createElement(h.Helmet,null,p.default.createElement("title",null,(a.title||n.title)+" | "+window.settings.site),p.default.createElement("meta",{name:"description",content:a.description||n.description}),a.keywords&&p.default.createElement("meta",{name:"keywords",content:a.keywords.join(",")}),p.default.createElement("meta",{property:"og:type",content:"video.movie"}),p.default.createElement("meta",{property:"og:title",content:a.title||n.title}),p.default.createElement("meta",{property:"og:description",content:a.description||n.description}),p.default.createElement("meta",{property:"og:image",content:n.posterImageUrl||n.videoImageUrl}))}}]),t}(p.default.Component),D=n(12),L=n(8);D(M,function(e){return{user:e.user}},L),e.exports=M},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(18),p=n(28),h=n(62),m=r(h),y=n(162),v=r(y),g=n(17),b=n(156),_=r(b),w=n(122),E=r(w),k=n(15),T=n(9),S=r(T),C=n(53),P=r(C),O=n(92),N=r(O),A=n(24),j=n(124),I=n(27);n(851);var x=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleQueue=function(){n.state.user||S.default.login();var e=n.data,t=e.gist,r=void 0===t?{}:t,a=e.creditBlocks,i=void 0===a?[]:a,o=e.categories,s=void 0===o?[]:o,l=r.id;n.state.isQueued?(0,I.removeFromQueue)(l,function(e){s.push(r.primaryCategory);var t={contentId:r.id,contentTitle:r.title,contentType:"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.forEach(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.forEach(function(e){return e.title}).join(","):"")}),t.contentGenre=s.forEach(function(e){return e.title}).join(","),(0,g.trackEvent)("Removed From Watchlist",t),n.setState({isQueued:!1})}):(0,I.addToQueue)(l,function(e){s.push(r.primaryCategory);var t={contentId:r.id,contentTitle:r.title,contentType:"EPISODIC"===r.mediaType?"Episode":"Video",contentDuration:r.runtime,playbackType:"Streamed"};i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(t.directorName=e.credits&&e.credits.length>0?e.credits.forEach(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(t.actorName=e.credits&&e.credits.length>0?e.credits.forEach(function(e){return e.title}).join(","):"")}),t.contentGenre=s.forEach(function(e){return e.title}).join(","),(0,g.trackEvent)("Added to Watchlist",t),n.setState({isQueued:!0})})},n.handleShareToggleClick=function(e){e.preventDefault();var t={position:e.currentTarget.getBoundingClientRect(),data:n.data.gist};N.default.open(t)},n.renderHelmet=function(){var e=n.data.gist;return d.default.createElement(p.Helmet,null,d.default.createElement("title",null,e.title+" | "+window.settings.site),d.default.createElement("meta",{name:"description",content:e.description}),d.default.createElement("meta",{property:"og:type",content:"video.movie"}),d.default.createElement("meta",{property:"og:title",content:e.title}),d.default.createElement("meta",{property:"og:description",content:e.description}),d.default.createElement("meta",{property:"og:image",content:e.posterImageUrl||e.videoImageUrl}))},n.data=e.data.contentData[0],n.settings=e.data.settings,n.state={video:((e.data||{}).contentData||[])[0],isQueued:!1,pricingOptions:(0,l.default)(e.data,"contentData[0].pricing")},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;(0,k.onUserAuth)(function(){return e.fetchVideoInfo()}),this.state.video.pricing&&this.getTransactionInfo()}},{key:"getTransactionInfo",value:function(){var e=this,t=this.state.video.gist,n=t.contentType,r=t.id;(0,k.getUser)(function(t){return t?t&&t.isSubscribed&&e.state.video.pricing.type&&e.state.video.pricing.type.includes("SVOD+")?void e.setState({purchased:!0}):void(0,I.getTransactionInfo)(t.userId,!1,n,r).then(function(t){t.data&&t.data[0][r]?e.setState({purchased:!0}):e.setState({purchased:!1})}):void e.setState({purchased:!1})})}},{key:"fetchVideoInfo",value:function(){var e=this,t=this.data.gist.id;(0,I.getVideoInfo)(t,function(t){return e.setState({isQueued:t.isQueued,startTime:t.watchedTime})})}},{key:"socialShare",value:function(e){var t=this.state.video,n=t.gist,r=void 0===n?{}:n,a=t.creditBlocks,i=void 0===a?[]:a,o=t.categories,s=void 0===o?[]:o;s.push(r.primaryCategory);var l={contentId:r.id,contentTitle:r.title,contentType:r.isTrailer?"Trailer":"EPISODIC"===r.mediaType?"Episode":"Movie Video",contentDuration:r.runtime,playbackType:"Streamed"};switch(i.forEach(function(e){"director"===e.title.trim().toLowerCase()&&(l.directorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):""),"starring"===e.title.trim().toLowerCase()&&(l.actorName=e.credits&&e.credits.length>0?e.credits.map(function(e){return e.title}).join(","):"")}),l.contentGenre=s.map(function(e){return e.title}).join(","),l.medium=e,e){case"Facebook":m.default.facebook(window.location.href);break;case"Twitter":m.default.twitter(window.location.href,r.title);break;case"Email":m.default.email(window.location.href)}(0,g.trackEvent)("Shared",l)}},{key:"renderPurchaseOptions",value:function(e,t,n,r){var a=this,i={backgroundImage:"url("+e.gist.videoImageUrl+")",backgroundPosition:"center",backgroundSize:"cover"},o=this.state.user&&this.state.user.isSubscribed,s=void 0!==this.state.purchased&&!t;return d.default.createElement("div",{style:{position:"relative",background:"#100101"}},e&&e.gist.scheduleStartDate&&e.gist.scheduleStartDate-Date.now()>0&&d.default.createElement(_.default,{header:"Time until this video is available!",startTime:e.gist.scheduleStartDate,hide:function(){return a.setState({startPlaying:!0})}}),("SVOD"===e.pricing.type?!o:s)&&d.default.createElement("div",{className:"transaction-options "+(!r&&"subscriptions")},d.default.createElement(E.default,{content:this.state.video,watchNow:function(){S.default.hide(),a.setState({watchNow:!0}),(0,I.playVideo)(a.state.user.userId,e.gist.id)},purchased:function(){return a.setState({purchased:!0})}})),d.default.createElement("div",{className:"video-player-bg "+(void 0===this.state.purchased||t?"":" blurred"),style:i},n&&d.default.createElement("div",{className:"play-icon-overlay",onClick:function(){(0,I.playVideo)(a.state.user.userId,e.gist.id),a.setState({watchNow:!0})}},d.default.createElement(j.PlayCircleSvg,null)),e.gist.scheduleStartDate&&e.gist.scheduleStartDate-Date.now()>0&&t&&this.state.user&&d.default.createElement("div",{className:"purchased-copy"},d.default.createElement("p",null,"You have purchased this video"),d.default.createElement("p",null,"Sit back, and enjoy when it starts"))))}},{key:"render",value:function(){var e=this,t=this.data,n=t.gist,r=t.contentDetails,a=t.parentalRating,i=this.props.layout.settings.fileType,o=this.state.startTime,s=window.settings.features.free_preview,u=s&&s.isFreePreview,c=s&&s.length.unit,p=(0,l.default)(this.state.user,"subscription.subscriptionInfo.subscriptionStatus");"INACTIVE"===p&&window.sessionStorage.setItem("openUpdatecard",!0);var h=this.state.video,m=h.gist.scheduleStartDate&&h.gist.scheduleStartDate-Date.now()>0,y=this.state.user&&this.state.user.isSubscribed,g=y&&h.pricing&&h.pricing.type&&h.pricing.type.includes("SVOD+")&&!m,b=this.state.user&&this.state.purchased,_=this.state.user&&this.state.watchNow,w=void 0;b&&(w=!0),m&&(w=!1);var E="Minutes"===c?60*parseInt(s.length.multiplier,10):parseInt(s.length.multiplier,10),k=(0,l.default)(n.primaryCategory,"title","");return d.default.createElement("div",{className:"video-player-with-info-02"},this.renderHelmet(),h&&!h.gist.free&&h.pricing&&(h.pricing.rent||h.pricing.purchase||m&&h.pricing.type.includes("SVOD"))&&!g&&!_?d.default.createElement("div",{className:"video-module-wrapper"
},this.renderPurchaseOptions(h,b,w,g)):d.default.createElement("div",{className:"videojs-player-container"},d.default.createElement(P.default,Object.assign({},this.state,{videoId:n.id,category:k,fileType:i,isTrailer:!1,autoplay:!0,permalink:n.permalink,previewTime:u&&E,videoTag:(0,l.default)(window.settings,"advertising.videoTag"),parentalRating:a,isFree:n.free,startTime:o,closedCaptions:r.closedCaptions}))),d.default.createElement("div",{className:"border-top site-color"}),d.default.createElement("div",{className:"video-info"},d.default.createElement("div",{className:"info"},d.default.createElement("div",{className:"title"},n.title),!(0,l.default)(this.data,"streamingInfo.isLiveStream")&&d.default.createElement("div",{className:"production-details"},d.default.createElement("span",{className:"runtime"},(0,v.default)(n.runtime)),n.publishDate&&d.default.createElement("span",{className:"publish-date"},"Published on ",(0,f.format)(n.publishDate,"MMMM D[,] YYYY"))),d.default.createElement("div",{className:"description"},n.description)),d.default.createElement("div",{className:"share-options"},d.default.createElement("div",{className:"add-watchlist",onClick:this.toggleQueue},d.default.createElement("button",{className:"cta"},this.state.isQueued&&this.state.user?"Remove from ":"Add to "," ","watchlist"),this.state.isQueued&&this.state.user?d.default.createElement(A.RemoveFromWatchlistIcon,{className:"site-color"}):d.default.createElement(A.AddToWatchlistIcon,{className:"site-color"})),d.default.createElement("i",{className:"ion-social-facebook",onClick:function(){e.socialShare("Facebook")}}),d.default.createElement("i",{className:"ion-social-twitter",onClick:function(){e.socialShare("Twitter")}})),d.default.createElement("div",{className:"mobile-share share"},d.default.createElement("div",{className:"share-toggle__icon",onClick:this.handleShareToggleClick},d.default.createElement("span",{className:"small-rect"}),d.default.createElement("span",{className:"small-rect"}),d.default.createElement("span",{className:"small-rect"})))))}}]),t}(d.default.Component),M=n(12),D=n(8);M(x,function(e){return{user:e.user}},D),e.exports=x},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(157),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.startTime,n=e.endTime,r=e.closeTimer,a=e.displayDetailedTime;return u.default.createElement("div",{className:"countdown-placeholder"},u.default.createElement(d.default,{scheduleStartDate:t,scheduleEndDate:n,closeTimer:r,displayDetailedTime:a}))}}]),t}(l.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(852);var o=function(){return i.default.createElement("div",{className:"spinner2"},i.default.createElement("div",{className:"double-bounce1"}),i.default.createElement("div",{className:"double-bounce2"}))};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(28),p=n(53),h=r(p),m=n(9),y=r(m),v=n(17),g=n(27),b=n(15),_=n(65),w=r(_),E=n(63),k=r(E),T=n(599),S=r(T),C=n(600),P=r(C),O=n(24),N=n(930),A=r(N);n(783);var j=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createContainer=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("img");return e.className="remaining-time-wrapper",t.className="time-elapsed",n.className="timer-icon",n.src=A.default,e.append(n),e.append(t),e},n.checkDone=function(){var e=n.state.video.gist.isLiveStream;e&&n.state.video.gist.scheduleEndDate&&(0,w.default)(n.state.video.gist.scheduleEndDate)&&(clearInterval(n.interval),n.setState({isLiveDone:!0,playVideo:!1}))},n.addToQueue=function(){var e=n.state.video.gist,t=void 0===e?{}:e,r=t.id,a=t.contentType;n.setState({isQueued:null}),(0,g.addToQueue)(r,a,function(e){var r={contentId:t.id,contentTitle:t.title,contentType:t.contentType,playbackType:"Streamed",networkType:"WiFi"};(0,v.trackEvent)("Removed From Watchlist",r),n.setState({isQueued:!0})})},n.removeFromQueue=function(){var e=n.state.video.gist,t=void 0===e?{}:e,r=t.id;n.setState({isQueued:null}),(0,g.removeFromQueue)(r,function(e){var r={contentId:t.id,contentTitle:t.title,contentType:t.contentType,playbackType:"Streamed",networkType:"WiFi"};(0,v.trackEvent)("Removed From Watchlist",r),n.setState({isQueued:!1})})},n.renderHelmet=function(){var e=n.data.gist;return d.default.createElement(f.Helmet,null,d.default.createElement("title",null,e.title+" | "+window.settings.site),d.default.createElement("meta",{name:"description",content:e.description}),d.default.createElement("meta",{property:"og:type",content:"video.movie"}),d.default.createElement("meta",{property:"og:title",content:e.title}),d.default.createElement("meta",{property:"og:description",content:e.description}),d.default.createElement("meta",{property:"og:image",content:e.posterImageUrl||e.videoImageUrl}))},n.renderCountDownPlayer=function(){var e=n.data,t=e.gist,r=e.contentDetails,a=e.parentalRating,i=n.props.layout.settings.fileType,o=n.state.startTime,s=window.settings.features.free_preview,u=s&&s.isFreePreview,c=s&&s.length.unit,f="Minutes"===c?60*parseInt(s.length.multiplier,10):parseInt(s.length.multiplier,10),p=(0,l.default)(t.primaryCategory,"title","");return n.state.user?d.default.createElement("div",{className:"video-countdown-player-wrapper"},!t.scheduleStartDate||(0,w.default)(t.scheduleStartDate)||n.state.playVideo?n.state.isLiveDone?d.default.createElement("div",{className:"video-module-wrapper"},d.default.createElement("div",{className:"timer"},d.default.createElement("div",{className:"timer-wrapper",style:{backgroundImage:"url("+t.imageGist._16x9+")"}},d.default.createElement("div",{className:"event-done"},"Event has been finished")))):d.default.createElement("div",{className:"videojs-player-container"},d.default.createElement(h.default,Object.assign({},n.state,{videoId:t.id,category:p,fileType:i,isTrailer:!1,autoplay:!0,permalink:t.permalink,previewTime:u&&f,videoTag:(0,l.default)(window.settings,"advertising.videoTag"),parentalRating:a,showTimer:n.state.showTimer&&n.createContainer(),isFree:t.free,startTime:o,closedCaptions:r.closedCaptions,scheduleEndDate:t.scheduleEndDate,isLive:n.state.isLive}))):d.default.createElement("div",{className:"video-module-wrapper"},d.default.createElement("div",{className:"timer"},d.default.createElement("div",{className:"timer-wrapper",style:{backgroundImage:"url("+t.imageGist._16x9+")"}},d.default.createElement(S.default,{startTime:t.scheduleStartDate,displayDetailedTime:!0,endTime:t.scheduleEndDate,closeTimer:function(){return n.setState({playVideo:!0})}}))))):d.default.createElement("div",{className:"video-countdown-player-wrapper"},d.default.createElement("div",{className:"video-module-wrapper"},d.default.createElement("div",{className:"timer"},d.default.createElement("div",{className:"timer-wrapper",style:{backgroundImage:"url("+t.imageGist._16x9+")"}},""!==n.state.user&&d.default.createElement("div",{className:"login-prompt"},d.default.createElement("p",null,"Please login to see the video"),d.default.createElement("button",{className:"login-button",onClick:function(){return y.default.login()}},"Login"))))))},n.renderSetupInfo=function(){var e=n.data.gist,t=n.state.tags.filter(function(e){return"equipment"===e.tagType});return d.default.createElement("div",{className:"equipment-setup-info"},d.default.createElement("div",{className:"equipment-setup-info-badge",style:{backgroundImage:"url("+(0,l.default)(e,"badgeImages._1x1")+")"}}),d.default.createElement("h3",{className:"equipment-setup-info-heading"},"Set-up"),d.default.createElement("div",{className:"equipment-setup-info-list"},0===t.length||"no equipment necessary"===t[0].title.toLowerCase()?d.default.createElement("div",{className:"equipment-setup-info-none"},"No Equipment Necessary!"):t.map(function(e){var t=(0,l.default)(e,"images._1x1.url");return d.default.createElement("div",{className:"equipment-setup-info-list-item",key:e.id},!!t&&d.default.createElement("img",{src:(0,l.default)(e,"images._1x1.url"),alt:e.title}),d.default.createElement("span",null,e.title))})))},n.renderVideoInfo=function(){var e=n.data.gist,t=n.state.tags,r=function(e){var n=t.find(function(t){return t.tagType===e});if(n)return n.title},a=r("classDuration"),i=["Difficulty: "+r("difficulty"),"Playlist: "+r("musicType"),"Rating: "+r("rating"),r("language")+" Language"].filter(function(e){return!e.includes("undefined")});return d.default.createElement("div",{className:"video-info-detail"},d.default.createElement("div",{className:"video-info-detail-heading-wrapper"},d.default.createElement("h2",{className:"video-info-detail-duration"},a),d.default.createElement("div",{className:"video-info-detail-favorite"},e.airDateTime&&d.default.createElement("span",null,"Originally Aired ",(0,k.default)(e.airDateTime,"M/D/YY")),n.state.user&&!e.isLiveStream&&(n.state.isQueued===!0?d.default.createElement("div",{className:"video-info-detail-favorite-icon",onClick:n.removeFromQueue},d.default.createElement(O.RemoveFromFavoritesIcon,null)):n.state.isQueued===!1?d.default.createElement("div",{className:"video-info-detail-favorite-icon",onClick:n.addToQueue},d.default.createElement(O.AddToFavoritesIcon,null)):d.default.createElement("div",{className:"video-info-detail-favorite-icon"},d.default.createElement(P.default,null))))),d.default.createElement("p",{className:"video-info-detail-description"},e.description),d.default.createElement("div",{className:"video-info-detail-tags"},i.map(function(e){return d.default.createElement("p",{key:e},e)})))},n.data=e.data.contentData[0],n.settings=e.data.settings,n.state={video:((e.data||{}).contentData||[])[0],isQueued:!1,user:"",tags:(0,l.default)(n.data,"tags",[]),pricingOptions:(0,l.default)(e.data,"contentData[0].pricing"),showTimer:!0,isLive:!1},n}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;(0,b.onUserAuth)(function(){return e.fetchVideoInfo()});var t=this.state.video.gist.isLiveStream;t&&this.state.video.gist.scheduleEndDate&&!(0,w.default)(this.state.video.gist.scheduleEndDate)&&(this.interval=setInterval(this.checkDone,1e3),this.setState({isLive:!0}))}},{key:"fetchVideoInfo",value:function(){var e=this,t=this.data.gist.id;(0,g.getVideoInfo)(t,function(t){return e.setState({isQueued:t.isQueued,startTime:t.watchedTime})})}},{key:"render",value:function(){return d.default.createElement("div",{className:"video-player-with-info-03"},this.renderHelmet(),this.renderCountDownPlayer(),this.renderSetupInfo(),this.renderVideoInfo())}}]),t}(d.default.Component),I=n(12),x=n(8);I(j,function(e){return{user:e.user}},x),e.exports=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(210),l=r(s),u=n(109),c=r(u),d=n(3),f=r(d),p=n(32),h=r(p),m=n(58),y=r(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(1),b=r(g),_=n(52),w=n(123),E=r(w),k=n(121),T=r(k),S=n(15),C=n(20),P=n(263),O=n(17),N=n(54),A=r(N),j=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={items:[],deleteAllModal:!1,fetching:!1},e.moreToLoad=!0,e.getWatchlist=e.getWatchlist.bind(e),e.toggleModal=e.toggleModal.bind(e),e.deleteItem=e.deleteItem.bind(e),e.clear=e.clear.bind(e),e.handleScroll=e.handleScroll.bind(e),e}return o(t,e),v(t,[{key:"componentWillMount",value:function(){var e=this;(0,S.onUserAuth)(function(t){t&&e.getWatchlist(t.userId)}),window.document.addEventListener("scroll",(0,y.default)(this.handleScroll,300))}},{key:"componentDidUpdate",value:function(e,t){t.user&&!this.state.user&&this.setState({items:[],deleteAllModal:!1,fetching:!0})}},{key:"handleScroll",value:function(){if(this.moreToLoad!==!1){var e=window.document.body,t=window.document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight),r=window.innerHeight+window.pageYOffset;r>=n-300&&this.state.items.length>=25&&this.getWatchlist(this.state.user.userId)}}},{key:"toggleModal",value:function(){this.setState({deleteAllModal:!this.state.deleteAllModal})}},{key:"clear",value:function(){var e=this;(0,C.getToken)(function(t){_.axiosWithKey.delete(window.settings.apiBaseUrl+"/user/queues",{params:{userId:e.state.user.userId},headers:{Authorization:t}}).then(function(t){200===t.status&&e.setState({items:[],deleteAllModal:!e.state.deleteAllModal})})})}},{key:"deleteItem",value:function(e){var t=this;(0,C.getToken)(function(n){_.axiosWithKey.delete(window.settings.apiBaseUrl+"/user/queues",{params:{userId:t.state.user.userId,contentIds:e.id},headers:{Authorization:n}}).then(function(n){200===n.status&&(t.trackItemDeletion(e),t.setState({items:t.state.items.filter(function(t){return t.id!==e.id})}))})})}},{key:"trackItemDeletion",value:function(e){var t=this,n=e.id,r=e.title,a=e.contentType;if("VIDEO"!==a){var i={contentId:n,contentTitle:r,contentType:a,showName:r};return void(0,O.trackEvent)("Removed From Watchlist",i)}(0,P.getVideo)(n,function(e){var n=e.data.video,r=n.gist,a=void 0===r?{}:r,i=n.creditBlocks,o=void 0===i?[]:i,s=n.categories,l=void 0===s?[]:s;l.push(a.primaryCategory);var u={contentId:a.id,contentTitle:a.title,contentType:"EPISODIC"===a.mediaType?"Episode":"Video",contentDuration:a.runtime,playbackType:"Streamed"};(0,h.default)(o,function(e){var n=e.title,r=e.credits,a=n.trim().toLowerCase();"director"!==a&&"starring"!==a||(u.directorName=t.formatCredits(r))}),u.contentGenre=l.map(function(e){return e.title}).join(","),(0,O.trackEvent)("Removed From Watchlist",u)})}},{key:"formatCredits",value:function(e){return e&&e.length?e.map(function(e){return e.title}).join(","):""}},{key:"render",value:function(){var e=(0,f.default)(this.props.data,"metadataMap.title");return!window.SERVER_SIDE_RENDERING&&b.default.createElement(E.default,{user:this.state.user},b.default.createElement(T.default,Object.assign({trayTitle:e||"Watchlist"},this.state,{deleteItem:this.deleteItem,toggleModal:this.toggleModal,clear:this.clear,header:e||"Watchlist"})))}},{key:"getWatchlist",value:function(e){var t=this;!this.state.fetching&&this.moreToLoad&&(this.setState({fetching:!0}),(0,C.getToken)(function(n){_.axiosWithKey.get(window.settings.apiBaseUrl+"/user/queues",{params:{userId:e,offset:t.state.items.length,languageCode:(0,A.default)()},headers:{Authorization:n},contentType:"application/json"}).then(function(e){e&&e.data.records?t.setState({items:t.concatMoreItems(e.data.records)}):t.moreToLoad=!1}).catch(function(e){console.log(e),t.moreToLoad=!1}).finally(function(){t.setState({fetching:!1})})}))}},{key:"concatMoreItems",value:function(e){var t=this,n=(0,c.default)(e,function(e,t,n){return t.contentResponse&&e.push(t.contentResponse.gist),e},[]),r=(0,l.default)(n,function(e){return(0,l.default)(t.state.items,function(t){return e.id===t.id})});return r&&(this.moreToLoad=!1),this.state.items.concat(n)}}]),t}(b.default.Component),I=n(12),x=n(8);I(j,function(e){return{user:e.user}},x),e.exports=j},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(1),i=r(a),o=n(248),s=r(o);n(853);var l=function(e){var t=e.data,n=t.title,r=t.rawText;return i.default.createElement(s.default,{className:"webFrame01",title:n,iframeSrc:r})};e.exports=l},function(e,t){"use strict";function n(e){function t(e){Array.isArray(e)?e.forEach(t):"object"===("undefined"==typeof e?"undefined":s(e))&&null!=e&&Object.keys(e).forEach(function(r){"contentType"===r&&"VIDEO"===e[r]&&n.push(e.id),t(e[r])})}var n=[];return t(e),n}function r(e){var t=void 0;return"Show Page"===e.title&&e.modules.forEach(function(e){"ShowDetailModule"===e.moduleType&&(t=e.contentData[0].id)}),t}function a(e){var t={};return e.forEach(function(e){t[e.videoId]={watchedPercentage:e.watchedPercentage,watchedTime:e.watchedTime,latestEpisode:e.latestEpisode}}),t}function i(e,t){Array.isArray(t)?t.forEach(function(t){return i(e,t)}):"object"===("undefined"==typeof t?"undefined":s(t))&&null!=t&&Object.keys(t).forEach(function(n){"contentType"===n&&"VIDEO"===t[n]&&void 0!==e[t.id]&&(t.watchHistory=e[t.id]),i(e,t[n])})}function o(e){"Show Page"===e.title&&e.modules.forEach(function(e){if("ShowDetailModule"===e.moduleType){var t=e.contentData[0].seasons;t.forEach(function(e,t){e.episodes.forEach(function(n,r){n.gist=Object.assign({},n.gist,{seasonTitle:e.title,seasonNumber:t,episodeNumber:r+1})})})}})}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getVideoIdsFromPayload=n,t.getSeriesIdFromPayload=r,t.formatHistory=a,t.addWatchHistoryToPayload=i,t.addEpisodeNumbersToPayload=o},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_PAGE_PENDING":return{};case"FETCH_PAGE_FULFILLED":return{data:t.payload};case"FETCH_PAGE_REJECTED":var n=t.payload;return{error:{status:n.status,statusText:n.statusText}};default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=window.initialStoreState&&window.initialStoreState.page||{}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.payload,r="LOGIN_FULFILLED"===t.type?{user:n}:"SIGNUP_FULFILLED"===t.type?{user:n}:"USER_CARD_DETAILS"===t.type?{user:n}:"LOGOUT_FULFILLED"===t.type?{user:null}:"UPDATE_FULFILLED"===t.type?{user:Object.assign({},e.user,{email:n.data.email,name:n.data.name})}:"UPDATE_CARD_FULFILLED"===t.type?{user:Object.keys(n).length>0?Object.assign({},e.user,{billingInfo:{stripeToken:{card:n}}}):Object.assign({},e.user)}:"REFRESH_FULFILLED"===t.type?{user:Object.assign({},e.user,{email:n.data.email,name:n.data.name,country:n.data.country,registeredOn:n.data.registeredOn,registerdVia:n.data.registerdVia,isSubscribed:n.data.isSubscribed})}:"GET_SUBSCRIPTION_FULFILLED"===t.type?{user:Object.assign({},e.user,{subscription:t.payload,isSubscribed:!("CANCELLED"===t.payload.subscriptionInfo.subscriptionStatus||"SUSPENDED"===t.payload.subscriptionInfo.subscriptionStatus)})}:"CREATE_SUBSCRIPTION_FULFILLED"===t.type?{user:Object.assign({},e.user,{isSubscribed:!0})}:"CREATE_TRANSACTION"===t.type?{user:Object.assign({},e.user,{purchasedVideoIds:(e.user.purchasedVideoIds||[]).push(n.contentRequest.contentId)})}:null;return r&&(e=(0,o.default)({},e,r)),l.default.set("vl-user",e.user&&e.user.userId),window.localStorage.setItem("user",JSON.stringify(e)),e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(203),o=r(i);t.default=a;var s=n(47),l=r(s),u=n(265),c=(r(u),window.localStorage.getItem("user")),d=c&&JSON.parse(c)||{}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return function(t){var n=t.accessLevels;if(window.SERVER_SIDE_RENDERING)return n.loggedOut&&n.loggedIn&&n.subscribed;var r=e&&e.isSubscribed?"subscribed":e?"loggedIn":"loggedOut";return n[r]}};t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){var e=function(e){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function o(){var e=window.localStorage.getItem("uid");return e?e:(e=i(),window.localStorage.setItem("uid",e),e)}function s(e){return e?String(e):""}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1072),u=r(l),c=n(1069),d=r(c),f=n(43),p=r(f),h=n(375),m=r(h),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(6),g=r(v),b=n(619),_=r(b),w=n(61),E=100,k=E/1e3,T=5,S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.player=t.player,this.videoId=t.videoId,this.videoTitle=t.videoTitle,this.fileType=t.fileType,this.assets=t.assets,this.userId=t.userId||o(),this.siteName=t.siteName,this.clientId=t.clientId,this.platform=t.platform,this.apiUrl=t.apiUrl,this.streamId=i(),this.environment=t.environment,this.bufferTimer=null,this.isLiveStream=t.isLiveStream,this.contentCategory=t.contentCategory,this.seriesId=t.seriesId,this.seriesTitle=t.seriesTitle,this.setVideoListeners()}return y(e,[{key:"setVideoListeners",value:function(){this.streamFailures(),this.firstFrame(),this.endFirstFrame(),this.buffering(),this.ads(),this.ping()}},{key:"streamFailures",value:function(){var e=this,t=Math.floor(this.player.currentTime());this.player.on("error",function(){var n=Math.floor(e.player.currentTime());e.event({eventName:t===n?"FAILED_TO_START":"DROPPED_STREAM",videoPosition:Math.floor(e.player.currentTime()),isAdEvent:!1})})}},{key:"firstFrame",value:function(){var e=this,t=window.dataLayer||{push:function(e){}};this.player.one("play",(0,_.default)(function(){e.ttFirstFrame=0,e.ttFirstFrameTimer=setInterval(function(){e.ttFirstFrame=e.handleBufferTimer(e.ttFirstFrame)},E),(0,w.trackEvent)("player-video","playVideo",e.videoTitle||e.videoId),t.push(Object.assign({event:"stream_start",content_uuid:e.videoId,content_name:e.videoTitle},e.seriesId&&{series_uuid:e.seriesId},e.seriesTitle&&{series_name:e.seriesTitle},{content_category:e.contentCategory,content_is_live:e.isLiveStream})),e.event({eventName:"PLAY",videoPosition:Math.floor(e.player.currentTime()),isAdEvent:!1})}))}},{key:"buffering",value:function(){var e=this;this.player.on("waiting",(0,_.default)(function(){if(!e.ttFirstFrameTimer){var t=.1,n=e.player.currentTime();clearInterval(e.bufferTimer),e.bufferTimer=setInterval(function(){e.player.currentTime()<=n+t&&!e.player.paused()?e.totalBufferTime=e.handleBufferTimer(e.totalBufferTime):clearInterval(e.bufferTimer)},E)}}))}},{key:"handleBufferTimer",value:function(e){var t=e+k,n=(0,m.default)(t,2);return n%T===0&&this.event({eventName:"BUFFERING",videoPosition:Math.floor(this.player.currentTime()),isAdEvent:!1}),t}},{key:"endFirstFrame",value:function(){var e=this;this.player.one("timeupdate",function(){clearInterval(e.ttFirstFrameTimer),e.ttFirstFrameTimer=null,e.totalBufferTime=e.ttFirstFrame||0,e.event({eventName:"FIRST_FRAME",videoPosition:Math.floor(e.player.currentTime()),isAdEvent:!1,ttFirstFrame:e.ttFirstFrame,bufferHealth:e.getRemainingBufferTime()})})}},{key:"ads",value:function(){var e=this;this.player.on("adsready",function(){e.player.ima.addEventListener(window.google.ima.AdEvent.Type.STARTED,function(){e.event({eventName:"AD_REQUEST",videoPosition:Math.ceil(e.player.currentTime()),isAdEvent:!0,adPosition:1}),e.event({eventName:"AD_IMPRESSION",videoPosition:Math.ceil(e.player.currentTime()),isAdEvent:!0,adPosition:1})})})}},{key:"ping",value:function(){var e=this,t=[];this.player.on("timeupdate",function(){var n=Math.floor(e.player.currentTime());n>=30&&n%30===0&&!(0,p.default)(t,n)&&(t.push(n),e.event({eventName:"PING",videoPosition:n,isAdEvent:!1,resHeight:e.player.videoHeight(),resWidth:e.player.videoWidth(),bufferHealth:e.getRemainingBufferTime(),bitrate:e.getBitrate()}))})}},{key:"getBitrate",value:function(){var e=this;return(0,_.default)(function(){var t;if("hls"===e.fileType)t=(0,m.default)(e.player.tech_.hls.selectPlaylist().attributes.BANDWIDTH/1e3);else{var n=e.player.currentSrc().split("?")[0];e.assets.mpeg.forEach(function(e){var r=e.url.split("?")[0];n===r&&(t=e.bitrate)})}return t})()}},{key:"getRemainingBufferTime",value:function(){var e=this;return(0,_.default)(function(){for(var t=e.player.currentTime(),n=e.player.duration(),r=e.player.buffered(),a=0;a<r.length;a++){var i=r.start(a),o=r.end(a);if((0,d.default)(t,i,o)){var s=(0,m.default)(n-o);if((0,u.default)(s))return s}}})()}},{key:"event",value:function(e){var t=[{aid:this.siteName,cid:this.clientId,pfm:this.platform,uid:this.userId,vid:this.videoId,url:e.url||document.location.href,ref:e.ref||document.referrer,pa:e.eventName,vpos:s(e.videoPosition),environment:this.environment,dp1:e.dp1||"",dp2:e.dp2||"",dp3:e.dp3||"",dp4:e.dp4||"",dp5:e.dp5||"",apos:e.isAdEvent===!0?s(e.videoPosition):"",apod:e.isAdEvent===!0?s(e.adPosition):"",profid:"",player:e.playerType||"native",media_type:e.mediaType||"VIDEO",stream_id:this.streamId,embedurl:"",ttfirstframe:s(e.ttFirstFrame),bitrate:s(e.bitrate),connectionspeed:"",resolutionheight:s(e.resHeight),resolutionwidth:s(e.resWidth),bufferhealth:s(e.bufferHealth)}];(0,g.default)({url:this.apiUrl,method:"post",contentType:"application/x-www-form-urlencoded",dataType:"text",data:t}).catch(function(e){return console.error(e)})}}]),e}();t.default=S},function(e,t){"use strict";e.exports=function(){if(!window.SERVER_SIDE_RENDERING){var e=window.settings.analytics.googleTagManagerId;e&&!function(e,t,n,r,a){e[r]=e[r]||[],e[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(n)[0],o=t.createElement(n),s="dataLayer"!==r?"&l="+r:"";o.async=!0,o.src="https://www.googletagmanager.com/gtm.js?id="+a+s,i.parentNode.insertBefore(o,i)}(window,window.document,"script","dataLayer",e)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.pushToDatalayer=function(e,t){if(window.dataLayer){var n={};n[e]=t,window.dataLayer.push(n)}},t.checkForExists=function(e,t){return e.some(function(e){return e[t]})},t.replaceKey=function(e,t,n){return e.map(function(e){return e[t]&&(e[t]=n),e})},t.replaceByEvent=function(e,t){return e=e.filter(function(e){return e.event!==t.event}),e.push(t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(83),i=r(a),o=n(109),s=r(o),l=n(43),u=r(l),c=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=n(47),f=r(d),p=["utm_campaign","utm_source","utm_medium"];e.exports=function(){var e=document.location.search.slice(1);if((0,u.default)(e,"utm_")){var t=e.split("&"),n=(0,s.default)(t,function(e,t){var n=t.split("="),r=c(n,2),a=r[0],i=r[1];return(0,u.default)(p,a)&&(e[a]=i),e},{utm_params:e});(0,i.default)(n)||f.default.set("utm",JSON.stringify(n),{expires:60,path:""})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.enableNonModalTabbing=t.disableNonModalTabbing=void 0;var a=n(32),i=r(a);t.disableNonModalTabbing=function(){if(!window.SERVER_SIDE_RENDERING){var e=document.querySelector(".modules"),t=e.querySelectorAll('a, button, iframe, [tabindex="0"]');(0,i.default)(t,function(e){return e.tabIndex=-1})}},t.enableNonModalTabbing=function(){if(!window.SERVER_SIDE_RENDERING){var e=document.querySelector(".modules"),t=e.querySelectorAll('a, button, iframe, [tabindex="-1"]');(0,i.default)(t,function(e){e.dataset.noFocus||(e.tabIndex=0)})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),o=n(54),s=r(o);t.default=function(e){return(0,i.default)(window,"settings.navigation.settings.localizationMap."+(0,s.default)()+".primaryCta.bannerText")||e.bannerText}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),o=n(54),s=r(o);t.default=function(e){return(0,i.default)(window,"settings.navigation.settings.localizationMap."+(0,s.default)()+".primaryCta.ctaText")||e.ctaText}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3),i=r(a),o=n(54),s=r(o);t.default=function(e){return(0,i.default)(e,"localizationMap."+(0,s.default)()+".title")||e.title}},function(e,t,n){"use strict";function r(e){window.settings.skinAdTag&&!window.SERVER_SIDE_RENDERING&&i(e)}function a(e){return new Promise(function(t,n){var r=window.document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=t,r.onerror=n,window.document.head.appendChild(r)})}function i(e){a("https://www.googletagservices.com/tag/js/gpt.js").then(function(){var t=window.googletag||{};t.cmd=t.cmd||[],t.cmd.push(function(){var n=t.defineOutOfPageSlot(window.settings.skinAdTag,"viewlift-site-skin");n.addService(t.pubads()),n.setTargeting("Site","MSE"),n.setTargeting("ID",e),t.pubads().enableSingleRequest(),t.enableServices()}),t.cmd.push(function(){t.display("viewlift-site-skin")})}),window.addEventListener("message",o)}function o(e){if("string"==typeof e.data&&e.data.includes("viewlift|site-skin:parameters")){var t=window.document.createElement("a"),n=window.document.createElement("a");t.classList.add("site-skin-click-area","site-skin-click-area-left"),
n.classList.add("site-skin-click-area","site-skin-click-area-right");var r=e.data.split("|");r=JSON.parse(r[2]);var a=r.image,i=r.url;window.document.getElementById("viewlift-site-skin").style.backgroundImage="url("+a+")",i&&(n.href=i,n.target=r.target,t.href=i,t.target=r.target,window.document.body.append(t,n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,n(855)},function(e,t){"use strict";e.exports=function(e,t){var n="...",r=e.length;if(r<t)return e;for(var a=-4;a<4;a++)if(" "===e.substr(t-a,1))return e.substr(0,t-a)+n;return e.substr(0,t)+n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=l.default.getState().user;return(0,u.getToken)().then(function(n){return(0,o.default)({url:"/payments/stripe/validate_stripe_customer",baseURL:window.settings.apiBaseUrl,method:"POST",params:{site:window.settings.internalName,timestamp:(new Date).getTime(),platform:"web_browser"},headers:{Authorization:n,"x-api-key":window.settings.baseAPIKey},data:{token:e.id,email:t&&t.email}})}).then(function(t){var n=t.data.cardStatus;if("pass"!==n.address_zip_check&&"unavailable"!==n.address_zip_check)throw new Error("Your zip code is invalid");if("pass"!==n.cvc_check&&"unavailable"!==n.cvc_check)throw new Error("Your CVC is invalid");return{stripeToken:e,requestId:t.data.requestId}})}Object.defineProperty(t,"__esModule",{value:!0}),t.getBillingToken=a;var i=n(6),o=r(i),s=n(8),l=r(s),u=n(20)},function(e,t){"use strict";e.exports=function(e){return function(){try{return e.apply(this,arguments)}catch(t){return console.error(t),null}}}},function(e,t){"use strict";var n={"http://develop-api.viewlift.com":"develop","http://release-api.viewlift.com":"release","https://prod-api.viewlift.com":"production"};e.exports=function(){return n[window.settings.apiBaseUrl]}},function(e,t){"use strict";function n(e){return e.replace(/^\w/,function(e){return e.toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.settings,r=n.site,a=n.internalName,i=n.brand,o=n.images,s=i.general,l=i.cta,u=window.settings.notifications||{},c=u.webPush?u.webPush:{},d={name:r,short_name:a,background_color:s.backgroundColor,icons:[{src:o.desktopLogo,type:"image/png"},{src:o.mobileLogo,type:"image/png"}],gcm_user_visible_only:!0,display:"standalone",gcm_sender_id:c.gcm_sender_id?c.gcm_sender_id.toString():null};t.initializeWebWorker=function(){var e=new Blob([JSON.stringify(d)],{type:"application/json"}),t=URL.createObjectURL(e);document.querySelector("#manifest-placeholder").setAttribute("href",t)},t.requestUserPermission=function(){window.clevertap&&window.clevertap.notifications.push({titleText:c.titleText,bodyText:c.bodyText,okButtonText:c.okButtonText,rejectButtonText:c.rejectButtonText,okButtonColor:l.primary.backgroundColor,askAgainTimeInSeconds:1,serviceWorkerPath:"/sw.js"})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){history.go(-1)}var i=n(3),o=r(i),s=n(1),l=r(s),u=n(130),c=r(u);n(856);var d=function(e){return console.error("Error: ",e.error),l.default.createElement("div",{className:"error-screen"},l.default.createElement("a",{"aria-label":"Home",className:"link",href:"/"},l.default.createElement("img",{className:"logo",src:(0,o.default)(window.settings,"images.desktopLogo"),alt:"logo"})),l.default.createElement("div",{id:"code",className:"fade__container"},l.default.createElement("h1",{className:"fade__content"},"404")),l.default.createElement("div",{id:"message",className:"fade__container"},l.default.createElement("p",{className:"fade__content"},"Looks like we're having trouble finding this page.")),l.default.createElement("a",{className:"fade__container redirect","aria-label":"Back",href:"",onClick:function(e){e.preventDefault(),a()}},l.default.createElement("div",{className:"icon-container"},l.default.createElement("i",{className:"ion-backspace"})),l.default.createElement("span",{className:"redirect__text fade__content"},"Back")),l.default.createElement("a",{className:"fade__container redirect","aria-label":"Home",href:"/"},l.default.createElement("div",{className:"icon-container"},l.default.createElement("i",{className:"ion-home"})),l.default.createElement("span",{className:"redirect__text fade__content"},"Home")),l.default.createElement("div",{className:"viewlift"},l.default.createElement("p",{className:"label"},"Powered by"),l.default.createElement("a",{"aria-label":"Viewlift",target:"_blank",href:"http://www.viewlift.com/"},l.default.createElement("img",{src:c.default,alt:"ViewLift"}))))};e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(12),p=r(f),h=n(9),m=r(h),y=n(271);n(857);var v=n(166),g=r(v),b=n(635),_=r(b),w=n(640),E=r(w),k=n(644),T=r(k),S=n(632),C=r(S),P=n(638),O=r(P),N=n(631),A=r(N),j=n(626),I=r(j),x=n(625),M=r(x),D=n(643),L=r(D),R=n(642),B=r(R),U=n(641),F=r(U),V=n(627),H=r(V),W=n(636),z=r(W),q=n(637),G=r(q),Y=n(634),K=r(Y),Q=n(612),X={login:g.default,forgotPassword:_.default,cancelSubscription:I.default,upgradeSubscription:L.default,updateStripePayment:B.default,billingHistory:M.default,search:E.default,error:T.default,createSubscription:A.default,updateProfile:F.default,changePassword:H.default,manageDevices:z.default,notice:G.default,EpisodeOverlay:C.default,purchase:O.default,equipment:K.default},$=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={refresh:null},e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",function(e){return 27===e.keyCode&&m.default.hide()})}},{key:"shouldComponentUpdate",value:function(e,t){var n=window.location.href.includes("plans");return!n||!(0,l.default)(this.state,"user.isSubscribed")||"hide"!==t.show||(window.location.href="/",!1)}},{key:"componentDidUpdate",value:function(e,t){var n=this;"purchase"===t.show&&"EpisodeOverlay"===this.state.show&&(this.watchNow=!0);var r=function(){n.state.refresh&&n.state.refresh()};"purchase"===t.show&&"hide"===this.state.show?r():this.watchNow&&"EpisodeOverlay"===t.show&&"hide"===this.state.show&&(r(),this.watchNow=!1)}},{key:"render",value:function(){var e=this.setState.bind(this),t=this.state,n=t.args,r=t.user,a=t.refresh,i=X[this.state.show];return this.bodyHack(!!i),i?((0,Q.disableNonModalTabbing)(),d.default.createElement("div",{className:"popup-view"},d.default.createElement(i,{args:n,user:r,refresh:a,setAppState:e}),d.default.createElement("button",{"aria-label":"Close Modal",type:"button",className:"close",onClick:m.default.hide},d.default.createElement("i",{role:"presentation",className:"ion-ios-close-empty"})))):((0,Q.enableNonModalTabbing)(),d.default.createElement("div",null))}},{key:"bodyHack",value:function(e){var t=window.document.body.classList;t&&(e?t.add("overflow-hide"):t.contains("overflow-hide")&&t.remove("overflow-hide"))}}]),t}(d.default.Component),J=n(8);(0,p.default)($,function(e){return{user:e.user}},J),(0,p.default)($,function(e){return{show:e.show,args:e.args}},y.store),e.exports=$},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(1075),l=r(s),u=n(208),c=r(u),d=n(7),f=r(d),p=n(42),h=r(p),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y=n(1),v=r(y),g=n(55),b=r(g),_=n(18),w=n(90),E=n(40),k=n(12),T=r(k),S=n(60),C=n(8),P=r(C);n(858);var O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({models:(0,S.fetchModels)()}),(0,E.getMyBillingHistory)().then(function(t){e.setState(Object.assign({},e.state,{billingHistory:Object.assign({},t.data,{Items:(0,c.default)(t.data.Items,function(e){return(0,_.parse)(e.initiatedAt)},"desc")})}))})}},{key:"capitalize",value:function(e){var t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}},{key:"formatDate",value:function(e){return(0,_.format)(e,"MM/DD/YYYY")}},{key:"render",value:function(){var e=this.state.billingHistory;if(!this.state.billingHistory)return null;if(!e.Items.length)return v.default.createElement("div",{className:"centered"},"No billing history available");if("SVOD"!==this.state.models)return v.default.createElement("div",{className:"billing-history centered padded"},v.default.createElement("div",{className:"transactions-wrapper"},v.default.createElement("div",{className:"transactions"},v.default.createElement("h1",null,"Billing History"),v.default.createElement("table",null,v.default.createElement("thead",null,v.default.createElement("tr",null,v.default.createElement("th",null,"Date"),v.default.createElement("th",null,"Title"),v.default.createElement("th",null,"Type"),v.default.createElement("th",null,"Description"),v.default.createElement("th",null,"Applied Offers"),v.default.createElement("th",null,"Total"))),v.default.createElement("tbody",null,this.state.billingHistory&&this.renderBillingHistoryItems())))));var t=this.state.user.subscription,n=t.subscriptionInfo||{},r=n.countryCode,a=n.subscriptionEndDate,i=(0,h.default)(t.subscriptionPlanInfo.planDetails,{countryCode:r}),o="CANCELLED"!==this.state.user.subscription.subscriptionInfo.subscriptionStatus,s="COMPLETED"===this.state.user.subscription.subscriptionInfo.subscriptionStatus;return v.default.createElement("div",{className:"billing-history centered padded"},o&&v.default.createElement("div",{className:"plan-info"},v.default.createElement("div",{className:"title"},t.subscriptionPlanInfo.name),v.default.createElement("div",{className:"desc"},t.subscriptionPlanInfo.description),i&&v.default.createElement("div",{className:"price"},(0,b.default)(t.subscriptionInfo.currencyCode),i.recurringPaymentAmount," per ",t.subscriptionPlanInfo.renewalCycleType.toLowerCase())),v.default.createElement("div",{className:"major-dates"},v.default.createElement("span",{className:"join-date"},v.default.createElement("b",null,"Join Date: "),this.formatDate((0,l.default)(e.Items).subscriptionStartDate)),v.default.createElement("br",null),v.default.createElement("span",{className:"last-charge"},v.default.createElement("b",null,"Last Charge: "),this.formatDate(e.Items[0].completedAt))," ",v.default.createElement("br",null),s&&a&&v.default.createElement("span",{className:"next-charge"},v.default.createElement("b",null,"Next Charge: "),this.formatDate(a))),v.default.createElement("div",{className:"transactions-wrapper"},v.default.createElement("div",{className:"transactions"},v.default.createElement("h1",null,"Billing History"),v.default.createElement("table",null,v.default.createElement("thead",null,v.default.createElement("tr",null,v.default.createElement("th",null,"Date"),v.default.createElement("th",null,"Title"),v.default.createElement("th",null,"Service Period"),v.default.createElement("th",null,"Description"),v.default.createElement("th",null,"Applied Offers"),v.default.createElement("th",null,"Total"))),v.default.createElement("tbody",null,this.renderBillingHistoryItems())))))}},{key:"renderBillingHistoryItems",value:function(){var e=this;return(0,f.default)(this.state.billingHistory.Items,function(t,n){return v.default.createElement("tr",{key:t.id,className:"billing-item"},v.default.createElement("td",{className:"date"},e.formatDate(t.initiatedAt||t.initiatedDate)),v.default.createElement("td",{className:"title"},t.title&&(0,w.ellipsifyByChar)(t.title,40)||"N/A"),"SVOD"===e.state.models?v.default.createElement("td",{className:"service-period"},e.formatDate(t.subscriptionStartDate)," - ",e.formatDate(t.subscriptionEndDate)):v.default.createElement("td",{className:"purchase-type"},e.capitalize(t.purchaseType)),v.default.createElement("td",{className:"description-type"},e.capitalize(t.transactiontype||t.transactionType)),v.default.createElement("td",null,t.offerName&&t.offerName||"N/A"),v.default.createElement("td",{className:"total"},(0,b.default)(t.currencyCode),t.totalAmount))})}}]),t}(v.default.Component);(0,T.default)(O,function(e){return{user:e.user}},P.default),e.exports=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(9),d=r(c),f=n(15);n(859);var p=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cancelMySubscription=n.cancelMySubscription.bind(n),n}return o(t,e),s(t,[{key:"cancelMySubscription",value:function(){(0,f.cancelSubscription)().then(d.default.hide)}},{key:"render",value:function(){return u.default.createElement("div",{className:"cancel-subscription centered"},u.default.createElement("div",{className:"header"},u.default.createElement("h1",null,"Cancel Plan?"),u.default.createElement("p",null,"Are you sure you want to cancel your subscription plan?")),u.default.createElement("div",{className:"buttons"},u.default.createElement("div",{className:"button outlined",onClick:function(e){d.default.hide()}},"No"),u.default.createElement("div",{className:"button site-background-color",onClick:this.cancelMySubscription},"Yes")))}}]),t}(u.default.Component);e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(15);n(860);var d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),s(t,[{key:"render",value:function(){var e=this;return this.state.changeSuccess?u.default.createElement("div",{className:"change-password centered padded"},u.default.createElement("h2",null,"Your password has been updated!")):u.default.createElement("div",{className:"change-password centered padded"},u.default.createElement("h2",null,"Change Your Password"),u.default.createElement("form",{name:"updatePasswordForm",className:"update-password-form",onSubmit:function(t){return e.handleSubmit(t)},noValidate:!0},u.default.createElement("label",{id:"currentPasswordLabel"},"Current Password"),u.default.createElement("input",{type:"password",name:"currentPassword",placeholder:"CURRENT PASSWORD",ref:function(t){return e.currentPasswordInput=t},autoComplete:"false",required:!0}),u.default.createElement("label",{id:"newPasswordLabel"},"New Password"),u.default.createElement("input",{type:"password",name:"newPassword",ref:function(t){return e.newPasswordInput=t},placeholder:"NEW PASSWORD",autoComplete:"false",required:!0}),u.default.createElement("label",{id:"confirmPasswordLabel"},"Confirm New Password"),u.default.createElement("input",{type:"password",ref:function(t){return e.confirmPasswordInput=t},name:"confirmPassword",placeholder:"CONFIRM PASSWORD",autoComplete:"false",required:!0}),this.state.error&&u.default.createElement("div",{className:"error"},this.state.error),u.default.createElement("div",{className:"text-center"},u.default.createElement("input",{type:"submit",className:"button cta"+(this.state.processing?" processing":""),value:"Update"}))))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.validate()&&(this.setState(Object.assign({},this.state,{processing:!0})),(0,c.changePassword)({newPassword:this.newPasswordInput.value,oldPassword:this.currentPasswordInput.value}).then(function(e){t.setState(Object.assign({},t.state,{changeSuccess:!0}))}).catch(function(e){var n=(((e||{}).response||{}).data||{}).error||"We are unable to update your password.";t.displayError(n)}).then(function(e){t.setState(Object.assign({},t.state,{processing:!1}))}))}},{key:"displayError",value:function(e){var t=this;this.setState(Object.assign({},this.state,{error:e})),setTimeout(function(e){return t.setState(Object.assign({},t.state,{error:null}))},5e3)}},{key:"validate",value:function(){return!this.newPasswordInput.value||this.newPasswordInput.value.length<=4?(this.displayError("Your new password should be longer than 4 chars"),!1):this.confirmPasswordInput.value===this.newPasswordInput.value||(this.displayError("Your new passwords don't match."),!1)}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l);n(865);var c=n(155),d=r(c),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.plans;return u.default.createElement("div",{className:"select-plans-container"},u.default.createElement("div",{className:"plans"},t.map(function(t,n){return u.default.createElement(d.default,{plan:t,key:n,selected:e.props.selected===n,onClick:function(t){return e.props.selectPlan(n)}})})),"supercrosslive"===window.settings.internalName?u.default.createElement("div",{className:"legal-texts"},u.default.createElement("p",null,"Content available to ONLY outside USA + territories/possessions"),u.default.createElement("p",null,"*Subscription Period ends June 30, 2019. Full Season subscriptions are subject to auto-renewal")):u.default.createElement("div",{className:"legal-texts"},u.default.createElement("p",null,"Upon cancellation, service access and use will end upon the completion of paid monthly or annual terms.",u.default.createElement("br",null),"Service access will end immediately upon cancellation if during a free trial period."),u.default.createElement("p",null,"There is no refund for early termination of an annual plan.")))}}]),t}(u.default.Component);e.exports=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(55),d=r(c),f=n(9),p=r(f),h=n(18);n(866);var m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"componentDidMount",value:function(){document.getElementsByClassName("hidden-input")[0].focus()}},{key:"render",value:function(){var e=this.props.plan,t=e.planDetails[0];return u.default.createElement("div",{className:"thank-you-screen"},u.default.createElement("input",{type:"text",className:"hidden-input",readOnly:"readonly"}),u.default.createElement("div",{className:"title"},"Thank You for subscribing!"),this.props.firstPayment&&u.default.createElement("div",{className:"desc"},u.default.createElement("span",{className:"first-payment"},"First Payment"),u.default.createElement("span",{className:"price"},"",(0,d.default)(t.recurringPaymentCurrencyCode),this.props.firstPayment.amount.toFixed(2))," (+ tax if req'd) on ",(0,h.format)(this.props.firstPayment.nextBillingDate,"MM/DD/YYYY")),u.default.createElement("div",{className:"order-details"},this.props.plan.name," ",u.default.createElement("strong",null,(0,d.default)(t.recurringPaymentCurrencyCode),t.recurringPaymentAmount)," ",u.default.createElement("br",null),"Email: ",this.props.user.email),u.default.createElement("div",{className:"help"},window.settings.customerService&&window.settings.customerService.email&&u.default.createElement("p",null,u.default.createElement("a",{className:"link",href:"mailto:"+window.settings.customerService.email},"Contact Us"),"if you need help.",u.default.createElement("br",null)),"Visit your ",u.default.createElement("a",{className:"link",href:"/user/account"},"Account Page")," to see your billing information."),u.default.createElement("div",{className:"button site-background-color",onClick:function(e){return p.default.hide()}},"Close"))}}]),t}(u.default.Component);e.exports=m},function(e,t,n){"use strict";function r(e,t,n){var r=window.ga,i=window.dataLayer||{push:function(e){}},o=e.state.plans&&e.state.plans[e.state.selectedPlan],s=o.planDetails[0].recurringPaymentCurrencyCode;n.current===e.state.current&&n.plans===e.state.plans||("selectPlan"===e.state.current&&o&&(r("set","currencyCode",s),e.state.plans.forEach(function(e){(0,a.trackECommerceEvent)("ec:addImpression",{id:e.id,name:e.name,price:e.planDetails[0].recurringPaymentAmount})}),r("send","event","e-commerce","impression"),i.push({event:"view_plans"})),"createAccount"===e.state.current&&(r("ec:setAction","checkout",{step:1}),r("set","currencyCode",s),(0,a.trackECommerceEvent)("ec:addProduct",{id:o.id,name:o.name,price:o.planDetails[0].recurringPaymentAmount,quantity:1}),r("send","event","e-commerce","checkout","1"),i.push({event:"select_plan",plan_currency_code:s,plan_uuid:o.id,plan_name:o.name,plan_price:o.planDetails[0].recurringPaymentAmount})),"billing"===e.state.current&&(r("ec:setAction","checkout",{step:2}),r("set","currencyCode",s),(0,a.trackECommerceEvent)("ec:addProduct",{id:o.id,name:o.name,price:o.planDetails[0].recurringPaymentAmount,quantity:1}),r("send","event","e-commerce","checkout","2"),i.push({event:"finish_registration",plan_currency_code:s,plan_uuid:o.id,plan_name:o.name,plan_price:o.planDetails[0].recurringPaymentAmount})),"thankyou"===e.state.current&&(r("ec:setAction","checkout",{step:3}),(0,a.trackECommerceEvent)("ec:addProduct",{id:o.id,name:o.name,price:o.planDetails[0].recurringPaymentAmount,quantity:1}),r("send","event","e-commerce","checkout","3"),r("ec:setAction","purchase",{revenue:o.planDetails[0].recurringPaymentAmount,id:e.state.user.userId+" - "+Date.now()}),(0,a.trackECommerceEvent)("ec:addProduct",{id:o.id,name:o.name,price:o.planDetails[0].recurringPaymentAmount,quantity:1}),r("set","currencyCode",s),r("send","event","e-commerce","purchase"),i.push({event:"finish_subscription",plan_currency_code:s,plan_uuid:o.id,plan_name:o.name,plan_price:o.planDetails[0].recurringPaymentAmount,transaction_id:e.state.user.userId+" - "+Date.now()})))}Object.defineProperty(t,"__esModule",{value:!0}),t.trackGA=r;var a=n(61)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(43),c=r(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),p=r(f),h=n(25),m=r(h),y=n(628),v=r(y),g=n(275),b=r(g),_=n(274),w=r(_),E=n(629),k=r(E),T=n(9),S=r(T),C=n(8),P=r(C),O=n(40),N=n(630),A=n(17),j=n(91),I=r(j),x=n(277),M=r(x);n(867);var D=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.getActualPrice=function(){var e={userId:n.state.user.userId,planId:n.state.plans[n.state.selectedPlan].id,offerCode:n.state.offerCode&&n.state.offerCode.code};(0,O.getDiscountPrice)(e).then(function(e){n.setState({firstPayment:e.data})})},n.argsPresent=e.args&&void 0!==e.args.selected,n.subscriptionInitiated=!1;var r=P.default.getState().user;return n.state=e.state||{current:n.argsPresent?r?"billing":"createAccount":"selectPlan",paymentHandler:null},n.trackCT=n.trackCT.bind(n),n}return o(t,e),d(t,[{key:"componentDidMount",value:function(){var e=this;this.plansLoaded||(window.sessionStorage.getItem("plans")?(0,O.getInvisiblePlans)().then(function(t){e.setState({plans:t,selectedPlan:e.argsPresent?e.findIndex(t,function(t){return t.id===e.props.args.selected}):0})}):(0,O.getSubscriptionPlans)().then(function(t){e.setState({plans:t,selectedPlan:e.argsPresent?e.findIndex(t,function(t){return t.id===e.props.args.selected}):0})}),(0,I.default)().then(function(t){var n=window.settings.paymentProviders;for(var r in n)if((0,c.default)(n[r].country,t))return e.setState({paymentHandler:r});for(r in n)if((0,c.default)(n[r].country,"ROW"))return e.setState({paymentHandler:r});return e.setState({paymentHandler:"stripe"})}),this.plansLoaded=!0)}},{key:"findIndex",value:function(e,t){return e.reduce(function(e,n,r){return t(n,r)?r:e},-1)}},{key:"canAccess",value:function(e){return"selectPlan"===e||"createAccount"===e&&this.isComplete("selectPlan")||"billing"===e&&this.isComplete("createAccount")&&this.isComplete("selectPlan")}},{key:"isComplete",value:function(e){return"selectPlan"===e&&"number"==typeof this.state.selectedPlan||"createAccount"===e&&this.state.user||"billing"===e&&!1}},{key:"clickChangeToState",value:function(e){return!!this.canAccess(e)&&(this.setState({current:e}),!0)}},{key:"componentDidUpdate",value:function(e,t){(0,N.trackGA)(this,e,t),t.selectedPlan!==this.state.selectedPlan&&(this.subscriptionInitiated=!1),this.state.paymentHandler&&this.trackCT(e,t),"billing"!==t.current&&"billing"===this.state.current?this.getActualPrice():"billing"!==this.state.current||"billing"!==this.state.current||this.state.firstPayment||this.getActualPrice()}},{key:"render",value:function(){var e=this;if(!this.state.plans)return p.default.createElement("div",{className:"loading centered"},p.default.createElement(m.default,null));if("thankyou"===this.state.current)return p.default.createElement("div",{className:"subscription centered"},this.thankYouScreen());var t=-100*["selectPlan","createAccount","billing"].indexOf(this.state.current)+"%",n={selectPlan:["Select a Plan","Plan Selected"],createAccount:["Create an Account","Account Created"],billing:["Add Billing & Subscribe","Subscribed!"]};return p.default.createElement("div",{className:"subscription-view centered"},p.default.createElement("div",{className:"mobile-title"},p.default.createElement("div",{className:"page"},p.default.createElement("strong",null,Object.keys(n).indexOf(this.state.current)+1)," of 3"),n[this.state.current][0]),"selectPlan"!==this.state.current&&p.default.createElement("div",{className:"back-button",onClick:function(t){return e.setState({current:"createAccount"===e.state.current?"selectPlan":"createAccount"})}},p.default.createElement("i",{className:"ion-android-arrow-back"})),p.default.createElement("div",{className:"progress"},(0,l.default)(n,function(t,n){return p.default.createElement("div",{key:n,className:e.state.current===n?"red":e.isComplete(n)?"ticked":"",onClick:function(t){return e.clickChangeToState(n)}},t[e.isComplete(n)&&e.state.current!==n?1:0],p.default.createElement("div",{className:"bar site-color site-color-after"}))})),p.default.createElement("div",{className:"screen"},p.default.createElement("div",{className:"slider",style:{marginLeft:t}},p.default.createElement("div",{className:"slide"+("selectPlan"!==this.state.current?" hidden":"")},this.selectPlanEl()),p.default.createElement("div",{className:"slide"+("createAccount"!==this.state.current?" hidden":"")},this.createAccountEl()),p.default.createElement("div",{className:"slide"+("billing"!==this.state.current?" hidden":"")},"billing"===this.state.current&&this.billingEl()))))}},{key:"trackCT",value:function(e,t){if("number"==typeof this.state.selectedPlan&&!this.subscriptionInitiated){
var n=this.state.plans[this.state.selectedPlan],r=n.planDetails[0],a={paymentHandler:this.state.paymentHandler,country:r.countryCode,currency:r.recurringPaymentCurrencyCode,amount:r.strikeThroughPrice?r.strikeThroughPrice:r.recurringPaymentAmount,discountAmount:r.recurringPaymentAmount,paymentPlan:n.name};(0,A.trackEvent)("Subscription Initiated",a),this.subscriptionInitiated=!0}}},{key:"selectPlanEl",value:function(){var e=this;return p.default.createElement(v.default,{isCurrent:"selectPlan"===this.state.current,plans:this.state.plans,selected:this.state.selectedPlan,selectPlan:function(t){e.state.selectedPlan===t?e.setState({current:"createAccount"}):e.setState({selectedPlan:t,editingOfferCode:!1,offerCode:null})}})}},{key:"createAccountEl",value:function(){var e=this;return p.default.createElement(b.default,{plan:this.state.plans[this.state.selectedPlan],user:this.state.user,offerCode:this.state.offerCode,editingOfferCode:this.state.editingOfferCode,addCode:function(t){return e.setState({offerCode:t,editingOfferCode:!1})},removeCode:function(t){return e.setState({offerCode:null,editingOfferCode:!1})},editOfferCode:function(t){return e.setState({editingOfferCode:t})},editPlan:function(t){e.setState({current:"selectPlan"})},continue:function(t){e.setState({current:"billing"})},goToLogin:function(e){return S.default.login()}})}},{key:"billingEl",value:function(){var e=this;return this.storePlanDetails(),this.state.user&&this.state.user.billingInfo&&this.state.user.billingInfo.stripeToken?p.default.createElement(M.default,{plan:this.state.plans[this.state.selectedPlan],firstPayment:this.state.firstPayment,edit:function(){return e.setState({user:Object.assign({},e.state.user,{billingInfo:{}}),updateCard:!0})},offerCode:this.state.offerCode,success:function(t){return e.setState({subscriptionData:t,current:"thankyou"})},subscription:!0,user:this.state.user}):p.default.createElement(w.default,{firstPayment:this.state.firstPayment,plan:this.state.plans[this.state.selectedPlan],updateCard:this.state.updateCard,offerCode:this.state.offerCode,editPlan:function(t){return e.setState({current:"selectPlan"})},user:this.state.user,editPromo:function(t){return e.setState({current:"createAccount",editingOfferCode:!0})},success:function(t){return e.setState({subscriptionData:t,current:"thankyou"})}})}},{key:"thankYouScreen",value:function(){return p.default.createElement(k.default,{plan:this.state.plans[this.state.selectedPlan],user:this.state.user,firstPayment:this.state.firstPayment,subscriptionData:this.state.subscriptionData})}},{key:"storePlanDetails",value:function(){var e=this.state.plans[this.state.selectedPlan];localStorage.setItem("planDetails",JSON.stringify(e))}}]),t}(p.default.Component),L=n(12);L(D,function(e){return{user:e.user}},P.default),e.exports=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c);n(868);var f=n(53),p=r(f),h=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.getSeasonIndexFromTitle=function(e){var t=e.showData.seasons[e.currentSeason].title.split(" ")[1];return isNaN(t)&&(t=e.currentSeason+1),t},o=n,i(r,o)}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.args.video;return d.default.createElement("div",{className:"overlay-player"},d.default.createElement(p.default,Object.assign({},this.props.args,{fileType:e.fileType,isEpisode:!0,videoId:e.gist.id,user:this.props.user,isFree:e.gist.free,autoplay:!0,videoTag:(0,l.default)(window.settings,"advertising.videoTag"),startTime:e.watchedTime})),d.default.createElement("div",{className:"overlay-episode-details"},d.default.createElement("div",{className:"episode-name"},d.default.createElement("span",{className:"season-episode-details"},"S",this.getSeasonIndexFromTitle(e),":E",e.currentEpisode+1),d.default.createElement("span",{className:"name"},e.title)),e.nextEpisode&&d.default.createElement("div",{className:"next-episode",onClick:function(t){return e.playNextEpisode(t)}},d.default.createElement("div",{className:"next-episode-img"},d.default.createElement("div",{className:"image",style:{backgroundImage:"url("+e.nextEpisode.videoImageUrl+")"}})),d.default.createElement("div",{className:"next-episode-title-container"},d.default.createElement("p",{className:"next-copy site-color"},"Next"),d.default.createElement("p",{className:"next-episode-title"},e.nextEpisode.title)))))}}]),t}(d.default.Component);e.exports=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=r(a);n(869);var o=function(e){var t=e.item,r=e.onSelect,a=e.selectedEquipment,o=a.includes(t.title),s=n(1294)("./"+t.image+"_"+(o?"in":"")+"active.png");return i.default.createElement("button",{onClick:r(t.title),className:"EquipmentItem "+(o?"isSelected":"")},i.default.createElement("img",{src:s,alt:t.title,className:"EquipmentImage"}),i.default.createElement("p",{className:"EquipmentLabel"},t.title))},s=function(e){var t=e.onSelect,n=e.selectedEquipment,r=e.equipment;return i.default.createElement("div",{className:"EquipmentList"},r.map(function(e,r){return i.default.createElement(o,Object.assign({key:r},{onSelect:t,item:e,selectedEquipment:n}))}))};t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(3),u=r(l),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(1),f=r(d),p=n(633),h=r(p),m=n(947),y=r(m),v=n(9),g=r(v);n(870);var b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=function(e){return function(t){t.preventDefault(),n.setState(function(t){var n=t.selectedEquipment,r=n.includes(e)?n.filter(function(t){return t!==e}):[].concat(a(n),[e]);return{selectedEquipment:r}})}},n.clickNext=function(e){e.preventDefault(),alert("You selected "+n.state.selectedEquipment.join(", "))},n.state={selectedEquipment:(0,u.default)(n.props,"selectedEquipment",[]),user:"Nate"},n}return s(t,e),c(t,[{key:"render",value:function(){var e=this.state,t=e.user,n=e.selectedEquipment,r=this.props,a=r.profile,i=r.saveProfile;return f.default.createElement("div",{className:"equipment-container"},f.default.createElement("div",{className:"neou-main"},f.default.createElement("h1",{className:"neou-equipment-heading"},"Equipment Selection"),f.default.createElement("p",{className:"neou-equipment-question",style:{display:a?"none":"block"}},"Hey ",t,", What kind of Equipment do you have today?"),f.default.createElement(h.default,{onSelect:this.onSelect,selectedEquipment:n,equipment:y.default,profile:a}),a?f.default.createElement("div",{className:"neou-profile-button"},f.default.createElement("button",{onClick:function(){return i(n)}},"Save")):f.default.createElement("div",{className:"neou-equipment-buttons"},f.default.createElement("button",{className:"neou-equipment-button",onClick:function(){sessionStorage.getItem("eq")&&sessionStorage.setItem("eq",sessionStorage.getItem("eq")-1),g.default.hide()}},"Skip"),f.default.createElement("button",{className:"neou-equipment-button",onClick:function(){return g.default.hide()}},"Next"))))}}]),t}(d.Component);e.exports=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(6),p=r(f),h=n(9),m=r(h);n(871);var y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return this.state.forgotPasswordSuccess?this.successScreen():d.default.createElement("div",{className:"forgot-password centered"},d.default.createElement("img",{className:"mobile-logo-image",src:(0,l.default)(window.settings,"images.desktopLogo"),alt:"logo"}),d.default.createElement("div",{className:"mobile-heading"},"Forgot password"),d.default.createElement("span",{className:"intro"}," Enter your email address below and we will send you a link to reset your password."),d.default.createElement("div",{className:"input-box"},d.default.createElement("input",{type:"text",placeholder:"EMAIL",ref:function(t){e.forgotPasswordInput=t},onKeyPress:function(t){"Enter"===t.key&&e.submitForgotPassword()}})),d.default.createElement("div",{className:"error-box"},this.state.forgotPasswordError||""),d.default.createElement("button",{className:"button cta submit-button "+(this.state.buttonProgress?"disabled":""),onClick:function(t){e.submitForgotPassword()}},this.state.buttonProgress?"...":"Email Me"),d.default.createElement("div",{className:"back-button",onClick:function(t){e.props.args?m.default.hide():m.default.login()}}," Back "))}},{key:"successScreen",value:function(){return d.default.createElement("div",{className:"forgot-password centered"},d.default.createElement("span",{className:"intro"}," An email has been sent to recover your password. "))}},{key:"submitForgotPassword",value:function(){var e=this;this.setState(Object.assign({},this.state,{forgotPasswordError:null,buttonProgress:!0})),(0,p.default)({method:"POST",url:window.settings.apiBaseUrl+"/identity/password/forgot",params:{site:window.settings.internalName},data:{email:this.forgotPasswordInput.value},headers:{"x-api-key":window.settings.baseAPIKey}}).then(function(t){var n=t.data&&t.data.emailSent,r=t.data&&t.data.error;e.setState(Object.assign({},e.state,{forgotPasswordError:null,buttonProgress:!1,forgotPasswordSuccess:n})),n||e.forgotPasswordAlert(r||"There was an error sending email. Please try again later.")}).catch(function(t){e.setState(Object.assign({},e.state,{buttonProgress:!1}));var n=(((t||{}).response||{}).data||{}).error||"There was an error processing your request.";e.forgotPasswordAlert(n)})}},{key:"forgotPasswordAlert",value:function(e){var t=this;this.setState(Object.assign({},this.state,{forgotPasswordError:e})),setTimeout(function(e){t.setState(Object.assign({},t.state,{forgotPasswordError:null}))},5e3)}}]),t}(d.default.Component);e.exports=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(9),p=r(f);n(873);var h=n(262),m=n(469),y=r(m),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={devices:e.args.devices,deviceCount:e.args.devices.length},n.handleRemoveDevice=n.handleRemoveDevice.bind(n),n}return o(t,e),u(t,[{key:"renderDevices",value:function(){var e=this;return this.state.deviceCount>0?(0,l.default)(this.state.devices,function(t){return d.default.createElement(y.default,{key:t.deviceId,device:t,removeDevice:e.handleRemoveDevice})}):d.default.createElement("p",null,"No devices registered")}},{key:"handleRemoveDevice",value:function(e){var t=this;(0,h.removeDevice)(e).then(function(n){var r=t.state.devices.filter(function(t){return t.deviceId!==e});t.setState({devices:r,deviceCount:t.state.deviceCount-1}),t.props.args.getDevices(t.props.user)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return d.default.createElement("div",{className:"user-devices centered padded"},d.default.createElement("h3",null,"Devices"),d.default.createElement("hr",null),this.renderDevices(),d.default.createElement("div",{className:"text-right"},d.default.createElement("div",{className:"button outlined",onClick:function(e){p.default.hide()}},"Close")))}}]),t}(d.default.Component),g=n(12),b=n(8);g(v,function(e){return{user:e.user}},b),e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(61),d=n(25),f=r(d),p=n(163),h=r(p);n(874);var m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0},n}return o(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.refresh()},500)}},{key:"refresh",value:function(){window.dataLayer&&(clearInterval(this.interval),this.setState({loading:!1}),this.sendEvents())}},{key:"sendEvents",value:function(){var e=decodeURIComponent((0,h.default)("title"));if(e.includes("Thank")){var t=window.ga;console.log(window.dataLayer);var n=window.dataLayer||{push:function(e){}},r=JSON.parse(localStorage.getItem("planDetails")),a=JSON.parse(localStorage.getItem("user"));t("ec:setAction","checkout",{step:3}),(0,c.trackECommerceEvent)("ec:addProduct",{id:r.id,name:r.name,price:r.planDetails[0].recurringPaymentAmount,quantity:1}),t("send","event","e-commerce","checkout","3"),t("ec:setAction","purchase",{revenue:r.planDetails[0].recurringPaymentAmount,id:a.user.userId+" - "+Date.now()}),(0,c.trackECommerceEvent)("ec:addProduct",{id:r.id,name:r.name,price:r.planDetails[0].recurringPaymentAmount,quantity:1}),t("set","currencyCode",r.planDetails[0].recurringPaymentCurrencyCode),t("send","event","e-commerce","purchase"),n.push({event:"finish_subscription",plan_currency_code:r.planDetails[0].recurringPaymentCurrencyCode,plan_uuid:r.id,plan_name:r.name,plan_price:r.planDetails[0].recurringPaymentAmount,transaction_id:a.user.userId+" - "+Date.now()})}}},{key:"render",value:function(){var e=decodeURIComponent((0,h.default)("title")),t=decodeURIComponent((0,h.default)("message"));return u.default.createElement("div",{className:"notice-popup centered padded"},this.state.loading?u.default.createElement("div",{className:"loading centered"},u.default.createElement("div",{className:"loading-message"}," Please don't close or refresh the page. Subscription is in progress "),u.default.createElement(f.default,null)):u.default.createElement("div",null,u.default.createElement("div",{className:"title"},e),u.default.createElement("div",{className:"message"},t)))}}]),t}(u.default.Component);e.exports=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(275),d=r(c),f=n(274),p=r(f),h=n(9),m=r(h),y=n(277),v=r(y),g=n(639),b=r(g),_=n(61);n(875);var w={createAccount:["Create an Account","Account Created!"],billing:["Add Billing","Added Billing!"],verify:["Verify and Pay"]},E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={current:e.user?e.user.billingInfo?"verify":"billing":"createAccount",plan:e.args.plan,content:e.args.content},n}return o(t,e),s(t,[{key:"isComplete",value:function(e){return"createAccount"===e&&this.state.user||"billing"===e&&this.state.user&&this.state.user.billingInfo||"verify"===e&&!1}},{key:"componentDidMount",value:function(){this.ga=window.ga,this.dataLayer=window.dataLayer||{push:function(e){}};var e=this.state.content,t=e&&e.pricing&&e.pricing.currency;"createAccount"===this.state.current&&(this.ga("set","currencyCode",t),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","checkout",{step:1}),this.ga("send","event","e-commerce","checkout-step","1"),this.dataLayer.push({event:"tvod_purchase_checkout_step_1",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price})),"billing"===this.state.current&&(this.ga("set","currencyCode",t),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","checkout",{step:2}),this.ga("send","event","e-commerce","checkout-step","2"),this.dataLayer.push({event:"tvod_purchase_checkout_step_2",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price})),"verify"===this.state.current&&(this.ga("set","currencyCode",t),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","checkout",{step:3}),this.ga("send","event","e-commerce","checkout-step","3"),this.dataLayer.push({event:"tvod_purchase_checkout_step_3",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price}))}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.content,r=n&&n.pricing&&n.pricing.currency;this.state.current!==t.current&&("billing"===this.state.current&&(this.ga("set","currencyCode",r),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","checkout",{step:2}),this.ga("send","event","e-commerce","checkout-step","2"),this.dataLayer.push({event:"tvod_purchase_checkout_step_2",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price})),"verfiy"===this.state.current&&(this.ga("set","currencyCode",r),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","checkout",{step:3}),this.ga("send","event","e-commerce","checkout-step","3"),this.dataLayer.push({event:"tvod_purchase_checkout_step_3",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price})),"thankyou"===this.state.current&&(this.ga("set","currencyCode",r),(0,_.trackECommerceEvent)("ec:addProduct",{id:this.state.plan.videoID,name:this.state.plan.name,price:this.state.plan.price,quantity:1}),this.ga("ec:setAction","purchase",{id:this.state.user.billingInfo.requestId,revenue:this.state.plan.price}),this.ga("send","event","e-commerce","purchase"),this.dataLayer.push({event:"tvod_purchase_completion",tvod_content_uuid:this.state.plan.videoID,tvod_content_name:this.state.plan.name,tvod_content_price:this.state.plan.price,transaction_id:this.state.user.billingInfo.requestId})))}},{key:"render",value:function(){var e=this,t=-100*["createAccount","billing","verify"].indexOf(this.state.current)+"%";return"thankyou"===this.state.current?u.default.createElement("div",{className:"purchase-popup subscription-view centered thank-you"},u.default.createElement(b.default,{plan:this.state.plan,content:this.state.content,user:this.state.user,fn:this.props.args.fn})):u.default.createElement("div",{className:"purchase-popup subscription-view centered"},u.default.createElement("div",{className:"progress"},u.default.createElement("div",{className:"ticked",key:"film"},this.state.content.gist.title,u.default.createElement("div",{className:"bar site-color site-color-after"})),Object.keys(w).map(function(t,n){return u.default.createElement("div",{key:n,className:e.state.current===t?"red":e.isComplete(t)?"ticked":""},w[t][e.isComplete(t)&&e.state.current!==n?1:0],u.default.createElement("div",{className:"bar site-color site-color-after"}))})),u.default.createElement("div",{className:"screen"},u.default.createElement("div",{className:"slider",style:{marginLeft:t}},u.default.createElement("div",{className:"slide"+("createAccount"!==this.state.current?" hidden":"")},u.default.createElement(d.default,{plan:this.props.args.plan,user:this.state.user,continue:function(t){e.setState({current:"billing"})},editOfferCode:function(t){return e.setState({editingOfferCode:t})},editingOfferCode:this.state.editingOfferCode,goToLogin:function(e){return m.default.login()}})),u.default.createElement("div",{className:"slide"+("billing"!==this.state.current?" hidden":"")},"billing"===this.state.current&&u.default.createElement(p.default,{purchase:!0,plan:this.state.plan,user:this.state.user,buttonCaption:"Continue",updateCard:this.state.updateCard,saveToken:function(t){return e.setState({billingToken:t})},editPromo:function(){return e.setState({current:"createAccount"})},success:function(t){return e.setState({subscriptionData:t,current:"verify"})}})),u.default.createElement("div",{className:"slide"+("verify"!==this.state.current?" hidden":"")},u.default.createElement(v.default,{plan:this.state.plan,content:this.state.content,user:this.state.user,edit:function(){return e.setState({current:"billing",updateCard:!0})},success:function(t){e.setState({purchasedVideoId:t,current:"thankyou"}),e.props.setAppState({refresh:function(){return window.location.reload()}}),e.props.args.purchase()}})))))}}]),t}(u.default.Component),k=n(12),T=n(8);k(E,function(e){return{user:e.user}},T),e.exports=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(27),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={addedToQueue:!1},n}return o(t,e),s(t,[{key:"pastTense",value:function(e){var t=e.toLowerCase();return"rent"===t?t+"ed":t+"d"}},{key:"handleWatchClick",value:function(){var e=this;(0,c.addToQueue)(this.props.plan.videoID,"VIDEO",function(t){e.setState({addedToQueue:!0})})}},{key:"renderWatchButton",value:function(){return"EPISODE"===this.props.content.gist.contentType||"VIDEO"===this.props.content.gist.contentType?this.state.addedToQueue?u.default.createElement("a",{className:"overlay-button added-to-watchlist"},"Added to Watchlist"):u.default.createElement("a",{onClick:this.handleWatchClick.bind(this),className:"watch-later-button overlay-button"},"Add to Watchlist"):void 0}},{key:"render",value:function(){var e=this,t=this.props.content,n=t.gist.scheduleStartDate&&t.gist.scheduleStartDate-Date.now()>0;return u.default.createElement("div",{className:"purchase-thank-you"},u.default.createElement("p",{className:"header"},"Thank you"),u.default.createElement("p",{className:"top"}," You have successfully ",this.pastTense(this.props.plan.option)," ",t.gist.title),u.default.createElement("p",{className:"bottom"}," An email receipt with your ",this.props.plan.option," details has been sent to ",this.props.user.email),u.default.createElement("div",{className:"buttons"},!n&&u.default.createElement("div",{className:"watch-now-button site-background-color overlay-button",onClick:function(){return e.props.fn()}},"Watch Now"),this.renderWatchButton()))}}]),t}(u.default.Component);e.exports=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=n(83),c=r(u),d=n(58),f=r(d),p=n(42),h=r(p),m=n(374),y=r(m),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=n(1),b=r(g),_=n(39),w=r(_),E=n(25),k=r(E),T=n(6),S=r(T),C=n(267),P=r(C),O=n(54),N=r(O),A=n(17),j=n(61);n(876);var I={ARTICLE:"ARTICLE",IMAGE:"PHOTO GALLERY",VIDEO:"VIDEO",EVENT:"EVENT",SERIES:"SERIES",PERSON:"PLAYER",BUNDLE:"BUNDLE"},x={ARTICLE:"ARTICLES",IMAGE:"PHOTO GALLERIES",VIDEO:"VIDEOS",EVENT:"EVENTS",SERIES:"SERIES",PERSON:window.settings.internalName.includes("pfl")?"FIGHTERS":"PLAYERS",BUNDLE:"BUNDLES"},M=(0,y.default)(function(e){return(0,S.default)({method:"GET",url:(0,h.default)(window.settings.pages,["Page-Name",e])["Page-UI"],params:{ts:Date.now()}}).then(function(e){var t=e.data;return t})}),D=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchTerm:"",searchResults:{},settings:{},contentTypes:["IMAGE","VIDEO","SERIES","EVENT","ARTICLE","PERSON","BUNDLE"]},n}return o(t,e),v(t,[{key:"componentDidMount",value:function(){var e=this;this.searchInput.focus(),M("Search Screen").then(function(t){var n=t.moduleList;e.setState({settings:n[0].settings})})}},{key:"componentDidUpdate",value:function(){if(!this.state.loading&&this.state.searchTerm.length>0){var e={keyword:this.state.searchTerm};(0,A.trackEvent)("Searched",e),(0,j.trackPageview)("/search?searchTerm="+this.state.searchTerm)}setTimeout(P.default,1e3)}},{key:"render",value:function(){var e=this,t=this.state.totalResults>0;return b.default.createElement("div",{className:"search"},b.default.createElement("div",{className:"search-container "+(t?"has-results":"")},b.default.createElement("span",{className:"title"},"SEARCH"),b.default.createElement("div",{className:"search-input"},b.default.createElement("input",{type:"text",className:"search-container-input",placeholder:"Search...",ref:function(t){e.searchInput=t},onChange:(0,f.default)(function(t){return e.handleKeyUp(t)},1e3)}))),this.state.loading&&b.default.createElement(k.default,null),!this.state.loading&&this.state.searchTerm.length>0&&b.default.createElement("div",{className:"search-results"},t?this.renderResults():b.default.createElement("div",{className:"no-results"}," No Results Found ")),b.default.createElement("div",{className:this.getSearchResultsClassNames()},this.renderMobileResults()))}},{key:"getSearchResultsClassNames",value:function(){return(0,c.default)(this.state.searchResults)?"search-results search-results-mobile":"search-results search-results-mobile results"}},{key:"renderResults",value:function(){var e=this;return(0,l.default)(this.state.searchResults,function(t,n){return t.length>0&&b.default.createElement(w.default,{key:n,trayTitle:"Search Results",data:{contentData:t,title:x[n],filters:{}},layout:{settings:e.state.settings}})})}},{key:"renderMobileResults",value:function(){var e=this;return(0,l.default)(this.state.searchResults,function(t,n){return t.length>0&&(0,l.default)(t,function(t){return"PERSON"===t.contentType?e.renderMobileTypeahead(t):e.renderMobileTypeahead(t.gist)})})}},{key:"renderMobileTypeahead",value:function(e){return e&&b.default.createElement("a",{href:e.permalink,
className:"search-item "+("VIDEO"===e.contentType?"video-item":""),key:e.id},b.default.createElement("div",{className:"content-type"},I[e.contentType]),b.default.createElement("div",{className:"title"},e.title||e.firstName+" "+e.lastName),"VIDEO"===e.contentType&&b.default.createElement("div",{className:"duration"},this.renderDuration(e)+" | "+this.renderYear(e)))}},{key:"renderDuration",value:function(e){var t=Math.ceil(e.runtime/60);return t+" min"+(t>1?"s":"")}},{key:"renderYear",value:function(e){return new Date(e.addedDate).getFullYear()}},{key:"handleKeyUp",value:function(e){var t=this,n=this.searchInput.value,r={},a=0;this.setState({loading:!!n&&n.length>0}),this.state.contentTypes.forEach(function(e){t.getResults(n,e).then(function(i){i&&(r[""+e]=i.data,a+=i.data.length),7===Object.keys(r).length&&t.setState({loading:!1,searchResults:r,searchTerm:n,totalResults:a})})})}},{key:"getResults",value:function(e,t){return S.default.get(window.settings.apiBaseUrl+"/search/v1",{params:{site:window.settings.internalName,searchTerm:e,types:t,languageCode:(0,N.default)()},requestId:"search",headers:{"x-api-key":window.settings.baseAPIKey}}).catch(function(e){S.default.isCancel(e)&&console.log("Request canceled",e.message)})}}]),t}(b.default.Component);e.exports=D},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c);n(877);var f=n(15),p=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return o(t,e),u(t,[{key:"render",value:function(){var e=this;return this.state.updateSuccess?d.default.createElement("div",{className:"change-password centered padded"},d.default.createElement("h2",null,"Your profile has been updated!")):d.default.createElement("div",{className:"edit-profile centered padded"},d.default.createElement("h2",null,"Edit Your Profile"),d.default.createElement("form",{name:"updateForm",className:"update-info-form",onSubmit:function(t){return e.submitForm(t)}},d.default.createElement("label",null,"Email Address"),d.default.createElement("input",{type:"email",name:"email",ref:function(t){return e.emailInput=t},placeholder:"EMAIL ADDRESS",defaultValue:this.state.user&&this.state.user.email,required:!0}),d.default.createElement("label",null,"Name"),d.default.createElement("input",{type:"text",name:"name",placeholder:"NAME",ref:function(t){return e.nameInput=t},defaultValue:this.state.user&&this.state.user.name,required:!0}),d.default.createElement("label",null,"Your Current Password"),d.default.createElement("input",{type:"password",name:"name",placeholder:"CURRENT PASSWORD",ref:function(t){return e.passwordInput=t},required:!0}),d.default.createElement("br",null),this.state.error&&d.default.createElement("div",{className:"error"},this.state.error),d.default.createElement("input",{type:"submit",className:"button cta"+(this.state.processing?" processing":""),value:"Update"})))}},{key:"submitForm",value:function(e){var t=this;e.preventDefault();var n={email:this.emailInput.value,name:this.nameInput.value,password:this.passwordInput.value};this.setState({processing:!0}),(0,f.updateUser)(n).then(function(e){t.setState({updateSuccess:!0})}).catch(function(e){var n=(0,l.default)(e,"response.data.error","We are unable to update your email.");t.displayError(n)}).then(function(e){t.setState({processing:!1})})}},{key:"displayError",value:function(e){var t=this;this.setState({error:e}),setTimeout(function(e){return t.setState({error:null})},5e3)}}]),t}(d.default.Component),h=n(12),m=n(8);h(p,function(e){return{user:e.user}},m),e.exports=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=n(273),d=r(c),f=n(272),p=r(f),h=n(9),m=r(h),y=n(15);n(878);var v=function(e){function t(){var e,n,r,o;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleToken=function(e){var t=r.props.user;return t.billingInfo={stripeToken:e},(0,y.updateUserCard)(t),(0,y.updateStripePayment)(e).then(m.default.hide)},o=n,i(r,o)}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"update-stripe-payment centered opaque padded"},u.default.createElement("h2",null,"Update Billing Information"),u.default.createElement(p.default,null),u.default.createElement(d.default,{submitCaption:"UPDATE",apiKey:((window.settings.paymentProviders||{}).stripe||{}).apiKey,onToken:this.handleToken}))}}]),t}(u.default.Component);e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(7),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c);n(879);var f=n(15),p=n(155),h=r(p),m=n(9),y=r(m),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:null,processing:!1},n}return o(t,e),u(t,[{key:"render",value:function(){return d.default.createElement("div",{className:"upgrade-subscription centered opaque padded "+(this.state.processing?"processing":"")},d.default.createElement("h1",null,"Upgrade Subscription Plan"),d.default.createElement("p",null,"Select a plan below to upgrade your experience."),d.default.createElement("div",{className:"upgrade-plans-container"},this.renderPlans()),this.state.alert&&d.default.createElement("div",{className:"alert"}," ",this.state.alert," "),d.default.createElement("div",{className:"legal-texts"},d.default.createElement("p",null,"Upon cancellation, service access and use will end upon the completion of paid monthly or annual terms.",d.default.createElement("br",null),"Service access will end immediately upon cancellation if during a free trial period."),d.default.createElement("p",null,"There is no refund for early termination of annual plan.")))}},{key:"renderPlans",value:function(){var e=this,t=this.state.user.subscription.plans;return t.length>0?(0,l.default)(t,function(t){return d.default.createElement(h.default,{plan:t,key:t.id,selected:e.state.selected===t.id,buttonText:"Upgrade Plan",hideFreeTrialText:!0,onClick:function(){return e.changePlan(t)}})}):d.default.createElement("div",null,"No plans available")}},{key:"changePlan",value:function(e){var t=this;if(e.id!==this.state.selected)return this.setState({selected:e.id});var n=this.state.user.subscription.subscriptionInfo.paymentHandler.toLowerCase();this.setState({processing:!0}),(0,f.upgradeSubscription)(e,n).then(y.default.hide).catch(function(e){var n=((e.response||{}).data||{}).error;t.alert(n||"We were unable to update your subscription.")}).then(function(e){t.setState({processing:!1})})}},{key:"alert",value:function(e){var t=this;this.setState({alert:e}),setTimeout(function(e){return t.setState({alert:null})},4e3)}}]),t}(d.default.Component),g=n(12),b=n(8);g(v,function(e){return{user:e.user}},b),e.exports=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),u=r(l),c=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(){return u.default.createElement("div",{className:"error-msg"},"This is subscribed via ",this.props.args,". Management should be done from the subscribed device")}}]),t}(u.default.Component);e.exports=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=window.gapi;n.load("auth2",function(){var r=n.auth2.init({client_id:window.settings.auth.googleClientId,cookiepolicy:"single_host_origin"});r.attachClickHandler(e,{},function(e){return t(null,e)},function(e){return t(e)})})}var i=n(3),o=r(i);window.fbAsyncInit=function(){window.FB.init({appId:(0,o.default)(window.settings,"socialMedia.facebook.appId"),autoLogAppEvents:!0,xfbml:!0,version:"v2.9"}),window.FB.AppEvents.logPageView()};var s=function(){!function(e,t,n){var r,a=e.getElementsByTagName(t)[0];e.getElementById(n)||(r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(r,a))}(window.document,"script","facebook-jssdk")};e.exports={initializeFacebookLogin:s,initializeGoogleLogin:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(3),l=r(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),d=r(c),f=n(147),p=r(f),h=n(12),m=r(h),y=n(62),v=r(y),g=n(278),b=n(15),_=n(27),w=n(9),E=r(w);n(880);var k=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.shareFacebook=e.shareFacebook.bind(e),e.shareTwitter=e.shareTwitter.bind(e),e.removeFromQueue=e.removeFromQueue.bind(e),e.handleAddToWatchlist=e.handleAddToWatchlist.bind(e),e.state={open:!0},e}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;["resize","scroll"].map(function(t){return window.addEventListener(t,e.hide.bind(e))})}},{key:"componentDidUpdate",value:function(e,t){var n=void 0!==t.args?t.args.data.id!==this.state.args.data.id:!t.args&&this.state.args;n&&this.fetchUserData(this.state.args.data.id)}},{key:"fetchUserData",value:function(e){var t=this;(0,b.getUser)(function(n){return n?void(0,_.getVideoInfo)(e,function(e){t.setState({userData:e})}):void t.setState({userData:null})})}},{key:"hide",value:function(){this.state.open&&this.setState({open:!1})}},{key:"handleClickOutside",value:function(e){var t=e.target.classList;t.contains("share-toggle__icon")||t.contains("small-rect")?this.setState({open:!0}):this.setState({open:!1})}},{key:"addToQueue",value:function(){var e=this;(0,_.addToQueue)(this.state.args.data.id,this.state.args.data.contentType,function(t){e.setState({userData:t})})}},{key:"removeFromQueue",value:function(){var e=this;(0,_.removeFromQueue)(this.state.args.data.id,function(t){e.setState({userData:t})})}},{key:"shareFacebook",value:function(){var e=this.state.args;v.default.facebook(window.location.origin+e.data.permalink)}},{key:"shareTwitter",value:function(){var e=this.state.args;v.default.twitter(window.location.origin+e.data.permalink,e.data.title)}},{key:"handleAddToWatchlist",value:function(){(0,l.default)(this.state,"userData.contentId")?this.addToQueue():E.default.login()}},{key:"renderQueueBtns",value:function(){if((0,l.default)(this.state,"args.options.watchlist")!==!1)return this.state.userData&&this.state.userData.isQueued?d.default.createElement("div",{className:"share-option",onClick:this.removeFromQueue},d.default.createElement("span",{className:"ion-minus-round icon"}),d.default.createElement("span",{className:"share-text"},"Remove from WatchList")):d.default.createElement("div",{className:"share-option",onClick:this.handleAddToWatchlist},d.default.createElement("span",{className:"ion-plus-round icon"}),d.default.createElement("span",{className:"share-text"},"Add to Watchlist"))}},{key:"isOverflowed",value:function(){return(0,l.default)(this.state,"args.position.left")<220}},{key:"render",value:function(){return this.state.args?d.default.createElement("div",{className:this.shareToggleClassNames,style:this.divPos},d.default.createElement("div",{className:"share-toggle__options "+(this.isOverflowed()&&"overflow")},d.default.createElement("div",{className:"queue-button"},this.renderQueueBtns()),d.default.createElement("div",{className:"fb-share share-option",onClick:this.shareFacebook},d.default.createElement("span",{className:"ion-social-facebook icon"}),d.default.createElement("span",{className:"share-text"},"Share With Facebook")),d.default.createElement("div",{className:"twitter-share share-option",onClick:this.shareTwitter},d.default.createElement("span",{className:"ion-social-twitter icon"}),d.default.createElement("span",{className:"share-text"},"Share with Twitter")))):d.default.createElement("div",null)}},{key:"numOfShareOptions",get:function(){var e=3,t=this.state.args.options;return t?(t.watchlist===!1&&e--,t.facebook===!1&&e--,t.twitter===!1&&e--,e):e}},{key:"divPos",get:function(){var e=(0,l.default)(this.state,"args.position"),t=this.isOverflowed(),n=this.numOfShareOptions;return{left:e.left-(t?105:210),top:e.top-document.body.getBoundingClientRect().top-n*(t?40:15),position:"absolute"}}},{key:"shareToggleClassNames",get:function(){return"share-toggle share-toggle--"+(this.state.open?"open":"closed")}}]),t}(d.default.Component);(0,m.default)(k,function(e){return{show:e.show,args:e.args}},g.store),e.exports=(0,p.default)(k)},function(e,t,n){(function(t){var r="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(648),a)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(o){r.regeneratorRuntime=void 0}}).call(t,function(){return this}())},function(e,t){(function(t){!function(t){"use strict";function n(e,t,n,r){var i=t&&t.prototype instanceof a?t:a,o=Object.create(i.prototype),s=new p(r||[]);return o._invoke=u(e,n,s),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function a(){}function i(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function n(t,a,i,o){var s=r(e[t],e,a);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==typeof u&&g.call(u,"__await")?Promise.resolve(u.__await).then(function(e){n("next",e,i,o)},function(e){n("throw",e,i,o)}):Promise.resolve(u).then(function(e){l.value=e,i(l)},o)}o(s.arg)}function a(e,t){function r(){return new Promise(function(r,a){n(e,t,r,a)})}return i=i?i.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var i;this._invoke=a}function u(e,t,n){var a=S;return function(i,o){if(a===P)throw new Error("Generator is already running");if(a===O){if("throw"===i)throw o;return m()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var l=c(s,n);if(l){if(l===N)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===S)throw a=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=P;var u=r(e,t,n);if("normal"===u.type){if(a=n.done?O:C,u.arg===N)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(a=O,n.method="throw",n.arg=u.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===y){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=y,c(e,t),"throw"===t.method))return N;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return N}var a=r(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,N;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=y),t.delegate=null,N):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,N)}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function f(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(g.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=y,t.done=!0,t};return r.next=r}}return{next:m}}function m(){return{value:y,done:!0}}var y,v=Object.prototype,g=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",k="object"==typeof e,T=t.regeneratorRuntime;if(T)return void(k&&(e.exports=T));T=t.regeneratorRuntime=k?e.exports:{},T.wrap=n;var S="suspendedStart",C="suspendedYield",P="executing",O="completed",N={},A={};A[_]=function(){return this};var j=Object.getPrototypeOf,I=j&&j(j(h([])));I&&I!==v&&g.call(I,_)&&(A=I);var x=o.prototype=a.prototype=Object.create(A);i.prototype=x.constructor=o,o.constructor=i,o[E]=i.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(x),e},T.awrap=function(e){return{__await:e}},s(l.prototype),l.prototype[w]=function(){return this},T.AsyncIterator=l,T.async=function(e,t,r,a){var i=new l(n(e,t,r,a));return T.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(x),x[E]="Generator",x[_]=function(){return this},x.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=y,this.done=!1,this.delegate=null,this.method="next",this.arg=y,this.tryEntries.forEach(f),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=y)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return i.type="throw",i.arg=e,n.next=t,r&&(n.method="next",n.arg=y),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],i=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var o=g.call(a,"catchLoc"),s=g.call(a,"finallyLoc");if(o&&s){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,N):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),N},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),f(n),N}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;f(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=y),N}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/amazon-app-store.484d5f5f.png"},function(e,t,n){e.exports=n.p+"static/media/apple-tv.d1a3d00d.png"},function(e,t,n){e.exports=n.p+"static/media/chromecast.5dbaec68.png"},function(e,t,n){e.exports=n.p+"static/media/fire-tv.5f50da9c.png"},function(e,t,n){e.exports=n.p+"static/media/info.3e4f2da6.png"},function(e,t,n){e.exports=n.p+"static/media/pfl-fighter-bg.06fd76a3.jpg"},function(e,t,n){e.exports=n.p+"static/media/15_active.a7058046.png"},function(e,t,n){e.exports=n.p+"static/media/15_inactive.0ccf7ca2.png"},function(e,t,n){e.exports=n.p+"static/media/30_active.7fd4182c.png"},function(e,t,n){e.exports=n.p+"static/media/30_inactive.a35cc347.png"},function(e,t,n){e.exports=n.p+"static/media/45_active.fe1620e4.png"},function(e,t,n){e.exports=n.p+"static/media/45_inactive.84097045.png"},function(e,t,n){e.exports=n.p+"static/media/60_active.a43a0178.png"},function(e,t,n){e.exports=n.p+"static/media/60_inactive.105be7b0.png"},function(e,t,n){e.exports=n.p+"static/media/boxing_bag_active.64ead237.png"},function(e,t,n){e.exports=n.p+"static/media/boxing_bag_inactive.6d8e7713.png"},function(e,t,n){e.exports=n.p+"static/media/boxing_glove_active.40bc0b87.png"},function(e,t,n){e.exports=n.p+"static/media/boxing_glove_inactive.bdcdb654.png"},function(e,t,n){e.exports=n.p+"static/media/dumbbells_active.a7d54954.png"},function(e,t,n){e.exports=n.p+"static/media/dumbbells_inactive.15b860ea.png"},function(e,t,n){e.exports=n.p+"static/media/jump_box_active.02925167.png"},function(e,t,n){e.exports=n.p+"static/media/jump_box_inactive.4a0d6798.png"},function(e,t,n){e.exports=n.p+"static/media/jump_rope_active.f33ac62c.png"},function(e,t,n){e.exports=n.p+"static/media/jump_rope_inactive.ec6b0f8f.png"},function(e,t,n){e.exports=n.p+"static/media/kettlebell_active.025cfeca.png"},function(e,t,n){e.exports=n.p+"static/media/kettlebell_inactive.25dfb86c.png"},function(e,t,n){e.exports=n.p+"static/media/no_weight_active.58ebf37d.png"},function(e,t,n){e.exports=n.p+"static/media/no_weight_inactive.9bd727ec.png"},function(e,t,n){e.exports=n.p+"static/media/resistance_bands_active.b12958f1.png"},function(e,t,n){e.exports=n.p+"static/media/resistance_bands_inactive.e4f25d88.png"},function(e,t,n){e.exports=n.p+"static/media/weight_ball_active.9072d2e6.png"},function(e,t,n){e.exports=n.p+"static/media/weight_ball_inactive.8a0157a4.png"},function(e,t,n){e.exports=n.p+"static/media/yoga_blocks_active.7eb6ad67.png"},function(e,t,n){e.exports=n.p+"static/media/yoga_blocks_inactive.8c2853c1.png"},function(e,t,n){e.exports=n.p+"static/media/yoga_mat_active.919da62b.png"},function(e,t,n){e.exports=n.p+"static/media/yoga_mat_inactive.a208ff9c.png"},function(e,t,n){e.exports=n.p+"static/media/roku.320342fe.png"},function(e,t,n){e.exports=n.p+"static/media/stop-watch.6403821b.png"},function(e,t,n){e.exports=n.p+"static/media/tickets.a1f2ecc9.png"},function(e,t,n){e.exports=n.p+"static/media/tv.d2b91f0b.png"},function(e,t,n){e.exports=n.p+"static/media/filter-brand.c23f7f17.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-concept.0c2deaee.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-down-arrow.d170c029.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-equipment.17b1fa97.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-instructor.5dd792e7.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-language.f19ca51b.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-music.af94ee20.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-right-arrow.700f956d.svg"},function(e,t,n){e.exports=n.p+"static/media/filter-time.ba844809.svg"},function(e,t,n){e.exports=n.p+"static/media/verified.38fad941.png"},,,,,function(e,t){e.exports=[{image:"kettlebell",title:"8 kilo kettlebell"},{image:"kettlebell",title:"16 kilo kettlebell"},{image:"kettlebell",title:"12 kilo kettlebell"},{image:"dumbbells",title:"5lb dumbbell"},{image:"dumbbells",title:"10lb dumbbell"},{image:"dumbbells",title:"20lb dumbbell"},{image:"yoga_mat",title:"yoga mat"},{image:"yoga_blocks",title:"yoga blocks"},{image:"weight_ball",title:"weighted ball"},{image:"resistance_bands",title:"resistance bands"},{image:"jump_rope",title:"jump rope"},{image:"jump_box",title:"box"},{image:"boxing_glove",title:"boxing gloves"},{image:"boxing_bag",title:"boxing bag"},{image:"no_weight",title:"no equipment"}]},,,,,,,function(e,t,n){function r(e,t){var n=null==e?0:e.length;return!!n&&a(e,t,0)>-1}var a=n(99);e.exports=r},function(e,t){function n(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}e.exports=n},function(e,t){function n(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}e.exports=n},function(e,t,n){var r=n(349),a=r("length");e.exports=a},function(e,t){function n(e){return e.split("")}e.exports=n},,,function(e,t){function n(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}e.exports=n},,,function(e,t,n){function r(e,t){var n=[];return a(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}var a=n(98);e.exports=r},,function(e,t){function n(e,t,n){return e>=a(t,n)&&e<r(t,n)}var r=Math.max,a=Math.min;e.exports=n},function(e,t){function n(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}e.exports=n},,,,,function(e,t){function n(e){return e!==e}e.exports=n},,,,,,,function(e,t,n){function r(e,t,n,d,f){e!==t&&o(t,function(o,u){if(l(o))f||(f=new a),s(e,t,u,n,r,d,f);else{var p=d?d(c(e,u),o,u+"",e,t,f):void 0;void 0===p&&(p=o),i(e,u,p)}},u)}var a=n(132),i=n(342),o=n(344),s=n(980),l=n(23),u=n(84),c=n(368);e.exports=r},function(e,t,n){function r(e,t,n,r,b,_,w){var E=v(e,n),k=v(t,n),T=w.get(k);if(T)return void a(e,n,T);var S=_?_(E,k,n+"",e,t,w):void 0,C=void 0===S;if(C){var P=c(k),O=!P&&f(k),N=!P&&!O&&y(k);S=k,P||O||N?c(E)?S=E:d(E)?S=s(E):O?(C=!1,S=i(k,!0)):N?(C=!1,S=o(k,!0)):S=[]:m(k)||u(k)?(S=E,u(E)?S=g(E):(!h(E)||r&&p(E))&&(S=l(k))):C=!1}C&&(w.set(k,S),b(S,k,r,_,w),w.delete(k)),a(e,n,S)}var a=n(342),i=n(354),o=n(355),s=n(195),l=n(363),u=n(105),c=n(21),d=n(1070),f=n(106),p=n(143),h=n(23),m=n(107),y=n(144),v=n(368),g=n(1089);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,s=t.length,l={};++r<s;){var u=t[r],c=a(e,u);n(c,u)&&i(l,o(u,e),c)}return l}var a=n(190),i=n(350),o=n(136);e.exports=r},,function(e,t){function n(e){return function(t){return null==e?void 0:e[t]}}e.exports=n},function(e,t,n){function r(e,t,n,r){var u=r?o:i,d=-1,f=t.length,p=e;for(e===t&&(t=l(t)),n&&(p=a(e,s(n)));++d<f;)for(var h=0,m=t[d],y=n?n(m):m;(h=u(p,y,h,r))>-1;)p!==e&&c.call(p,h,1),c.call(e,h,1);return e}var a=n(80),i=n(99),o=n(967),s=n(100),l=n(195),u=Array.prototype,c=u.splice;e.exports=r},function(e,t){function n(e,t,n,i){for(var o=-1,s=a(r((t-e)/(n||1)),0),l=Array(s);s--;)l[i?s:++o]=e,e+=n;return l}var r=Math.ceil,a=Math.max;e.exports=n},function(e,t){function n(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n}e.exports=n},function(e,t,n){var r=n(1064),a=n(356),i=n(104),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},function(e,t){function n(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}e.exports=n},function(e,t,n){function r(e,t){var n;return a(e,function(e,r,a){return n=t(e,r,a),!n}),!!n}var a=n(98);e.exports=r},function(e,t){function n(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}e.exports=n},,function(e,t,n){function r(e,t,n){var r=-1,d=i,f=e.length,p=!0,h=[],m=h;if(n)p=!1,d=o;else if(f>=c){var y=t?null:l(e);if(y)return u(y);p=!1,d=s,m=new a}else m=t?[]:h;e:for(;++r<f;){var v=e[r],g=t?t(v):v;if(v=n||0!==v?v:0,p&&g===g){for(var b=m.length;b--;)if(m[b]===g)continue e;t&&m.push(g),h.push(v)}else d(m,g,n)||(m!==h&&m.push(g),h.push(v))}return h}var a=n(335),i=n(954),o=n(955),s=n(352),l=n(1009),u=n(200),c=200;e.exports=r},function(e,t,n){function r(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:a(e,t,n)}var a=n(988);e.exports=r},function(e,t,n){function r(e,t){for(var n=e.length;n--&&a(t,e[n],0)>-1;);return n}var a=n(99);e.exports=r},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&a(t,e[n],0)>-1;);
return n}var a=n(99);e.exports=r},,,,function(e,t,n){function r(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,o=a(e),s=void 0!==t,l=null===t,u=t===t,c=a(t);if(!l&&!c&&!o&&e>t||o&&s&&u&&!l&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||l&&n&&i||!s&&i||!u)return-1}return 0}var a=n(108);e.exports=r},function(e,t,n){function r(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,l=n.length;++r<s;){var u=a(i[r],o[r]);if(u){if(r>=l)return u;var c=n[r];return u*("desc"==c?-1:1)}}return e.index-t.index}var a=n(999);e.exports=r},,,,,,function(e,t,n){function r(e){return function(t,n,r){var s=Object(t);if(!i(t)){var l=a(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,r);return u>-1?s[l?t[u]:u]:void 0}}var a=n(41),i=n(35),o=n(48);e.exports=r},function(e,t,n){function r(e){return function(t,n,r){return r&&"number"!=typeof r&&i(t,n,r)&&(n=r=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),r=void 0===r?t<n?1:-1:o(r),a(t,n,r,e)}}var a=n(985),i=n(101),o=n(211);e.exports=r},function(e,t,n){function r(e){var t=Math[e];return function(e,n){if(e=i(e),n=null==n?0:s(a(n),292)){var r=(o(e)+"e").split("e"),l=t(r[0]+"e"+(+r[1]+n));return r=(o(l)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return t(e)}}var a=n(110),i=n(145),o=n(71),s=Math.min;e.exports=r},function(e,t,n){var r=n(334),a=n(1077),i=n(200),o=1/0,s=r&&1/i(new r([,-0]))[1]==o?function(e){return new r(e)}:a;e.exports=s},function(e,t,n){function r(e,t,n,r){return void 0===e||a(e,i[n])&&!o.call(r,n)?t:e}var a=n(82),i=Object.prototype,o=i.hasOwnProperty;e.exports=r},,,function(e,t,n){var r=n(983),a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=r(a);e.exports=i},function(e,t){function n(e){return"\\"+r[e]}var r={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};e.exports=n},,,,,,,,,,,,function(e,t,n){function r(e){return o(e)||i(e)||!!(s&&e&&e[s])}var a=n(79),i=n(105),o=n(21),s=a?a.isConcatSpreadable:void 0;e.exports=r},,,,,,,,,,,,,,,,,,function(e,t,n){function r(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=i(r.length-t,0),l=Array(s);++o<s;)l[o]=r[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=r[o];return u[t]=n(l),a(e,this,u)}}var a=n(337),i=Math.max;e.exports=r},function(e,t){var n=/<%-([\s\S]+?)%>/g;e.exports=n},function(e,t){var n=/<%([\s\S]+?)%>/g;e.exports=n},,,function(e,t,n){var r=n(987),a=n(1050),i=a(r);e.exports=i},function(e,t){function n(e){var t=0,n=0;return function(){var o=i(),s=a-(o-n);if(n=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,a=16,i=Date.now;e.exports=n},,,,,,function(e,t){function n(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}e.exports=n},function(e,t,n){function r(e){return i(e)?o(e):a(e)}var a=n(957),i=n(362),o=n(1060);e.exports=r},function(e,t,n){function r(e){return i(e)?o(e):a(e)}var a=n(958),i=n(362),o=n(1061);e.exports=r},,function(e,t){function n(e){for(var t=E.lastIndex=0;E.test(e);)++t;return t}var r="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=a+i+o,l="\\ufe0e\\ufe0f",u="["+r+"]",c="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+r+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",v=f+"?",g="["+l+"]?",b="(?:"+y+"(?:"+[p,h,m].join("|")+")"+g+v+")*",_=g+v+b,w="(?:"+[p+c+"?",c,h,m,u].join("|")+")",E=RegExp(d+"(?="+d+")|"+w+_,"g");e.exports=n},function(e,t){function n(e){return e.match(E)||[]}var r="\\ud800-\\udfff",a="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",s=a+i+o,l="\\ufe0e\\ufe0f",u="["+r+"]",c="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",p="[^"+r+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",v=f+"?",g="["+l+"]?",b="(?:"+y+"(?:"+[p,h,m].join("|")+")"+g+v+")*",_=g+v+b,w="(?:"+[p+c+"?",c,h,m,u].join("|")+")",E=RegExp(d+"(?="+d+")|"+w+_,"g");e.exports=n},function(e,t,n){var r=n(57),a=n(137),i=n(84),o=a(function(e,t,n,a){r(t,i(t),e,a)});e.exports=o},function(e,t,n){var r=n(337),a=n(135),i=n(373),o=a(function(e,t){try{return r(e,void 0,t)}catch(n){return i(n)?n:new Error(n)}});e.exports=o},function(e,t){function n(e){return function(){return e}}e.exports=n},function(e,t,n){function r(e){return e=i(e),e&&s.test(e)?e.replace(o,a):e}var a=n(1013),i=n(71),o=/[&<>"']/g,s=RegExp(o.source);e.exports=r},function(e,t,n){function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var u=r-1;return void 0!==n&&(u=o(n),u=n<0?s(r+u,0):l(u,r-1)),a(e,i(t,3),u,!0)}var a=n(189),i=n(41),o=n(110),s=Math.max,l=Math.min;e.exports=r},function(e,t,n){function r(e){var t=null==e?0:e.length;return t?a(e,1):[]}var a=n(343);e.exports=r},,function(e,t,n){function r(e,t,n){return t=i(t),void 0===n?(n=t,t=0):n=i(n),e=o(e),a(e,t,n)}var a=n(966),i=n(211),o=n(145);e.exports=r},function(e,t,n){function r(e){return i(e)&&a(e)}var a=n(35),i=n(36);e.exports=r},function(e,t,n){function r(e,t){return a(e,t)}var a=n(191);e.exports=r},function(e,t,n){function r(e){return"number"==typeof e&&i(e)}var a=n(31),i=a.isFinite;e.exports=r},,,function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},function(e,t,n){var r=n(979),a=n(137),i=a(function(e,t,n,a){r(e,t,n,a)});e.exports=i},function(e,t){function n(){}e.exports=n},,,function(e,t,n){var r=n(135),a=n(1081),i=r(a);e.exports=i},function(e,t,n){function r(e,t){return e&&e.length&&t&&t.length?a(e,t):e}var a=n(984);e.exports=r},function(e,t,n){var r=n(1007),a=r();e.exports=a},function(e,t,n){function r(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var a=n(71);e.exports=r},function(e,t,n){function r(e,t,n){return null==e?e:a(e,t,n)}var a=n(350);e.exports=r},function(e,t,n){function r(e){if(null==e)return 0;if(o(e))return s(e)?l(e):e.length;var t=i(e);return t==u||t==c?e.size:a(e).length}var a=n(192),i=n(81),o=n(35),s=n(206),l=n(1057),u="[object Map]",c="[object Set]";e.exports=r},,function(e,t,n){function r(e,t,n){var r=p.imports._.templateSettings||p;n&&c(e,t,n)&&(t=void 0),e=h(e),t=a({},t,r,s);var w,E,k=a({},t.imports,r.imports,s),T=d(k),S=o(k,T),C=0,P=t.interpolate||b,O="__p += '",N=RegExp((t.escape||b).source+"|"+P.source+"|"+(P===f?g:b).source+"|"+(t.evaluate||b).source+"|$","g"),A="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";e.replace(N,function(t,n,r,a,i,o){return r||(r=a),O+=e.slice(C,o).replace(_,l),n&&(w=!0,O+="' +\n__e("+n+") +\n'"),i&&(E=!0,O+="';\n"+i+";\n__p += '"),r&&(O+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),C=o+t.length,t}),O+="';\n";var j=t.variable;j||(O="with (obj) {\n"+O+"\n}\n"),O=(E?O.replace(m,""):O).replace(y,"$1").replace(v,"$1;"),O="function("+(j||"obj")+") {\n"+(j?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(w?", __e = _.escape":"")+(E?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+O+"return __p\n}";var I=i(function(){return Function(T,A+"return "+O).apply(void 0,S)});if(I.source=O,u(I))throw I;return I}var a=n(1062),i=n(1063),o=n(351),s=n(1010),l=n(1014),u=n(373),c=n(101),d=n(48),f=n(367),p=n(1088),h=n(71),m=/\b__p \+= '';/g,y=/\b(__p \+=) '' \+/g,v=/(__e\(.*?\)|\b__t\)) \+\n'';/g,g=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,b=/($^)/,_=/['\n\r\u2028\u2029\\]/g;e.exports=r},function(e,t,n){var r=n(1065),a=n(1045),i=n(1046),o=n(367),s={escape:a,evaluate:i,interpolate:o,variable:"",imports:{_:{escape:r}}};e.exports=s},function(e,t,n){function r(e){return a(e,i(e))}var a=n(57),i=n(84);e.exports=r},function(e,t,n){function r(e,t,n){if(e=u(e),e&&(n||void 0===t))return e.replace(c,"");if(!e||!(t=a(t)))return e;var r=l(e),d=l(t),f=s(r,d),p=o(r,d)+1;return i(r,f,p).join("")}var a=n(193),i=n(993),o=n(994),s=n(995),l=n(1058),u=n(71),c=/^\s+|\s+$/g;e.exports=r},function(e,t,n){function r(e){return null==e?[]:a(e,i(e))}var a=n(351),i=n(48);e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(395),a=n(1200),i=n(404);r.inject();var o={renderToString:a.renderToString,renderToStaticMarkup:a.renderToStaticMarkup,version:i};e.exports=o},,,,,,,,,,,,,function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){"use strict";function r(e,t){var n;try{return h.injection.injectBatchingStrategy(f),n=p.getPooled(t),v++,n.perform(function(){var r=y(e,!0),a=d.mountComponent(r,n,null,l(),m,0);return t||(a=c.addChecksumToMarkup(a)),a},null)}finally{v--,p.release(n),v||h.injection.injectBatchingStrategy(u)}}function a(e){return s.isValidElement(e)?void 0:o("46"),r(e,!1)}function i(e){return s.isValidElement(e)?void 0:o("47"),r(e,!0)}var o=n(10),s=n(74),l=n(392),u=n(394),c=(n(33),n(400)),d=n(73),f=n(1199),p=n(403),h=n(38),m=n(97),y=n(228),v=(n(5),0);e.exports={renderToString:a,renderToStaticMarkup:i}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(1186)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){!function(t,r){e.exports=r(n(88))}(this,function(e){"use strict";function n(t){return{disableNextSnapshotRestore:!1,_contentEnding:!1,_contentHasEnded:!1,_hasThereBeenALoadStartDuringPlayerLife:!1,_hasThereBeenALoadedData:!1,_hasThereBeenALoadedMetaData:!1,_inLinearAdMode:!1,_shouldBlockPlay:!1,_playBlocked:!1,_playRequested:!1,adType:null,VERSION:h,reset:function(){t.ads.disableNextSnapshotRestore=!1,t.ads._contentEnding=!1,t.ads._contentHasEnded=!1,t.ads.snapshot=null,t.ads.adType=null,t.ads._hasThereBeenALoadedData=!1,t.ads._hasThereBeenALoadedMetaData=!1,t.ads._cancelledPlay=!1,t.ads._shouldBlockPlay=!1,t.ads._playBlocked=!1,t.ads.nopreroll_=!1,t.ads.nopostroll_=!1,t.ads._playRequested=!1},startLinearAdMode:function(){t.ads._state.startLinearAdMode()},endLinearAdMode:function(){t.ads._state.endLinearAdMode()},skipLinearAdMode:function(){t.ads._state.skipLinearAdMode()},stitchedAds:function(t){return void 0!==t&&(e.log.warn("Using player.ads.stitchedAds() as a setter is deprecated, it should be set as an option upon initialization of contrib-ads."),this.settings.stitchedAds=!!t),this.settings.stitchedAds},videoElementRecycled:function(){if(t.ads.shouldPlayContentBehindAd(t))return!1;if(!this.snapshot)throw new Error("You cannot use videoElementRecycled while there is no snapshot.");var e=t.tech_.src()!==this.snapshot.src,n=t.currentSrc()!==this.snapshot.currentSrc;return e||n},isLive:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return"boolean"==typeof n.ads.settings.contentIsLive?n.ads.settings.contentIsLive:n.duration()===1/0||"8"===e.browser.IOS_VERSION&&0===n.duration()},shouldPlayContentBehindAd:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;if(n)return!!n.ads.settings.liveCuePoints&&(!e.browser.IS_IOS&&!e.browser.IS_ANDROID&&n.duration()===1/0);throw new Error("shouldPlayContentBehindAd requires a player as a param")},shouldTakeSnapshots:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;return!this.shouldPlayContentBehindAd(e)&&!this.stitchedAds()},isInAdMode:function(){return this._state.isAdState()},isWaitingForAdBreak:function(){return this._state.isWaitingForAdBreak()},isContentResuming:function(){return this._state.isContentResuming()},isAdPlaying:function(){return this._state.inAdBreak()},inAdBreak:function(){return this._state.inAdBreak()},removeNativePoster:function(){var e=t.$(".vjs-tech");e&&e.removeAttribute("poster")},debug:function(){if(this.settings.debug){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];1===n.length&&"string"==typeof n[0]?e.log("ADS: "+n[0]):e.log.apply(e,["ADS:"].concat(n))}}}}function r(e){"playing"===e.type?v(this,e):"ended"===e.type?g(this,e):"loadstart"===e.type||"loadeddata"===e.type||"loadedmetadata"===e.type?b(this,e):"play"===e.type?_(this,e):this.ads.isInAdMode()&&(this.ads.isContentResuming()?y(this,"content",e):y(this,"ad",e))}function a(e){e.ads.contentSrc=e.currentSrc(),e.ads._seenInitialLoadstart=!1;var t=function(){if(!e.ads.inAdBreak()){var t=e.currentSrc();t!==e.ads.contentSrc&&(e.ads._seenInitialLoadstart&&e.trigger({type:"contentchanged"}),e.trigger({type:"contentupdate",oldValue:e.ads.contentSrc,newValue:t}),e.ads.contentSrc=t),e.ads._seenInitialLoadstart=!0}};e.on("loadstart",t)}function i(t,n,r){var a=this,i={};t=t.replace(/{([^}=]+)=([^}]+)}/g,function(e,t,n){return i["{"+t+"}"]=n,"{"+t+"}"}),void 0===n&&(n=!1);var o={};void 0!==r&&(o=r),o["{player.id}"]=this.options_["data-player"],o["{mediainfo.id}"]=this.mediainfo?this.mediainfo.id:"",o["{mediainfo.name}"]=this.mediainfo?this.mediainfo.name:"",o["{mediainfo.duration}"]=this.mediainfo?this.mediainfo.duration:"",o["{player.duration}"]=this.duration(),o["{timestamp}"]=(new Date).getTime(),o["{document.referrer}"]=O.referrer,o["{window.location.href}"]=k.location.href,o["{random}"]=Math.floor(1e12*Math.random()),["description","tags","reference_id","ad_keys"].forEach(function(e){a.mediainfo&&a.mediainfo[e]?o["{mediainfo."+e+"}"]=a.mediainfo[e]:i["{mediainfo."+e+"}"]?o["{mediainfo."+e+"}"]=i["{mediainfo."+e+"}"]:o["{mediainfo."+e+"}"]=""}),M(this.mediainfo,o,"custom_fields"),M(this.mediainfo,o,"customFields");for(var s in o)t=t.split(s).join(x(o[s],n));t=t.replace(/{pageVariable\.([^}]+)}/g,function(t,r){for(var a=void 0,o=k,s=r.split("."),l=0;l<s.length;l++)l===s.length-1?a=o[s[l]]:o=o[s[l]];var u="undefined"==typeof a?"undefined":N(a);return null===a?"null":void 0===a?i["{pageVariable."+r+"}"]?i["{pageVariable."+r+"}"]:(e.log.warn('Page variable "'+r+'" not found'),""):"string"!==u&&"number"!==u&&"boolean"!==u?(e.log.warn('Page variable "'+r+'" is not a supported type'),""):x(String(a),n)});for(var l in i)t=t.replace(l,i[l]);return t}function o(t,n){n&&e.log("Using cancelContentPlay to block content playback"),t.on("play",s)}function s(){var e=this;e.ads._shouldBlockPlay!==!1&&(e.paused()||(e.ads.debug("Playback was canceled by cancelContentPlay"),e.pause()),e.ads._cancelledPlay=!0)}function l(t){if(H(e))return!1;var n=e.registerPlugin||e.plugin;return n("ads",t),V()&&!e.usingContribAdsMiddleware_&&(e.use("*",F),e.usingContribAdsMiddleware_=!0,e.log("Play middleware has been registered with videojs")),!0}function u(t){var n=void 0;n=e.browser.IS_IOS&&t.ads.isLive(t)&&t.seekable().length>0?t.currentTime()-t.seekable().end(0):t.currentTime();var r=t.$(".vjs-tech"),a=t.textTracks?t.textTracks():[],i=[],o={ended:t.ended(),currentSrc:t.currentSrc(),sources:t.currentSources(),src:t.tech_.src(),currentTime:n,type:t.currentType()};r&&(o.style=r.getAttribute("style"));for(var s=0;s<a.length;s++){var l=a[s];i.push({track:l,mode:l.mode}),l.mode="disabled"}return o.suppressedTracks=i,o}function c(t,n){var r=t.ads.snapshot;if(void 0===n&&(n=function(){}),t.ads.disableNextSnapshotRestore===!0)return t.ads.disableNextSnapshotRestore=!1,delete t.ads.snapshot,void n();var a=t.$(".vjs-tech"),i=20,o=r.suppressedTracks,s=void 0,l=function(){for(var e=0;e<o.length;e++)s=o[e],s.track.mode=s.mode},u=function(){var n=void 0;if(e.browser.IS_IOS&&t.ads.isLive(t)){if(r.currentTime<0&&(n=t.seekable().length>0?t.seekable().end(0)+r.currentTime:t.currentTime(),t.currentTime(n)),t.paused()){var a=t.play();a&&a.catch&&a.catch(function(t){e.log.warn("Play promise rejected in IOS snapshot resume",t)})}}else if(r.ended)t.currentTime(t.duration());else{t.currentTime(r.currentTime);var i=t.play();i&&i.catch&&i.catch(function(t){e.log.warn("Play promise rejected in snapshot resume",t)})}t.ads.shouldRemoveAutoplay_&&(t.autoplay(!1),t.ads.shouldRemoveAutoplay_=!1)},c=function n(){if(t.off("contentcanplay",n),G&&t.clearTimeout(G),a=t.el().querySelector(".vjs-tech"),a.readyState>1)return u();if(void 0===a.seekable)return u();if(a.seekable.length>0)return u();if(i--)t.setTimeout(n,50);else try{u()}catch(r){e.log.warn("Failed to resume the content after an advertisement",r)}};if("style"in r&&a.setAttribute("style",r.style||""),t.ads.videoElementRecycled())t.one("resumeended",function(){delete t.ads.snapshot,n()}),t.one("contentloadedmetadata",l),e.browser.IS_IOS&&!t.autoplay()&&(t.autoplay(!0),t.ads.shouldRemoveAutoplay_=!0),t.src(r.sources),t.one("contentcanplay",c),G=t.setTimeout(c,2e3);else{if(l(),!t.ended()){var d=t.play();d&&d.catch&&d.catch(function(t){e.log.warn("Play promise rejected in snapshot restore",t)})}delete t.ads.snapshot,n()}}function d(e){e.ads.debug("Starting ad break"),e.ads._inLinearAdMode=!0,e.trigger("adstart"),e.ads.shouldTakeSnapshots()&&(e.ads.snapshot=u(e)),e.ads.shouldPlayContentBehindAd(e)&&(e.ads.preAdVolume_=e.volume(),e.volume(0)),e.addClass("vjs-ad-playing"),e.hasClass("vjs-live")&&e.removeClass("vjs-live"),e.ads.removeNativePoster()}function f(e,t){e.ads.debug("Ending ad break"),void 0===t&&(t=function(){}),e.ads.adType=null,e.ads._inLinearAdMode=!1,e.trigger("adend"),e.removeClass("vjs-ad-playing"),e.ads.isLive(e)&&e.addClass("vjs-live"),e.ads.shouldTakeSnapshots()?c(e,t):(e.volume(e.ads.preAdVolume_),t())}e=e&&e.hasOwnProperty("default")?e.default:e;var p,h="6.6.1",m=function(e,t){t.isImmediatePropagationStopped=function(){return!0},t.cancelBubble=!0,t.isPropagationStopped=function(){return!0}},y=function(e,t,n){m(e,n),e.trigger({type:t+n.type,originalEvent:n})},v=function(e,t){e.ads.isInAdMode()&&(e.ads.isContentResuming()?e.ads._contentEnding&&y(e,"content",t):y(e,"ad",t))},g=function(e,t){e.ads.isInAdMode()?e.ads.isContentResuming()?(m(e,t),e.trigger("resumeended")):y(e,"ad",t):e.ads._contentHasEnded||e.ads.stitchedAds()||(y(e,"content",t),e.trigger("readyforpostroll"))},b=function(e,t){if(!("loadstart"===t.type&&!e.ads._hasThereBeenALoadStartDuringPlayerLife||"loadeddata"===t.type&&!e.ads._hasThereBeenALoadedData||"loadedmetadata"===t.type&&!e.ads._hasThereBeenALoadedMetaData))if(e.ads.inAdBreak())y(e,"ad",t);else{if(e.currentSrc()!==e.ads.contentSrc)return;y(e,"content",t)}},_=function(e,t){e.ads.inAdBreak()?y(e,"ad",t):e.ads.isContentResuming()&&y(e,"content",t)},w="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};p="undefined"!=typeof window?window:"undefined"!=typeof w?w:"undefined"!=typeof self?self:{};var E,k=p,T={},S=(Object.freeze||Object)({default:T}),C=S&&T||S,P="undefined"!=typeof w?w:"undefined"!=typeof window?window:{};"undefined"!=typeof document?E=document:(E=P["__GLOBAL_DOCUMENT_CACHE@4"],E||(E=P["__GLOBAL_DOCUMENT_CACHE@4"]=C));var O=E,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,a){var s={key:e,arg:t,resolve:n,reject:a,next:null};o?o=o.next=s:(i=o=s,r(e,t))})}function r(n,i){try{var o=t[n](i),s=o.value;s instanceof e?Promise.resolve(s.value).then(function(e){r("next",e)},function(e){r("throw",e)}):a(o.done?"return":"normal",o.value)}catch(l){a("throw",l)}}function a(e,t){switch(e){case"return":i.resolve({value:t,done:!0});break;case"throw":i.reject(t);break;default:i.resolve({value:t,done:!1})}i=i.next,i?r(i.key,i.arg):o=null}var i,o;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),j=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},x=function(e,t){return t?encodeURIComponent(e):e},M=function(e,t,n){if(e&&e[n])for(var r=e[n],a=Object.keys(r),i=0;i<a.length;i++){var o="{mediainfo."+n+"."+a[i]+"}";t[o]=r[a[i]]}},D={};D.processMetadataTracks=function(e,t){for(var n=e.textTracks(),r=function(n){"metadata"===n.kind&&(e.ads.cueTextTracks.setMetadataTrackMode(n),t(e,n))},a=0;a<n.length;a++)r(n[a]);n.addEventListener("addtrack",function(e){r(e.track)})},D.setMetadataTrackMode=function(e){},D.getSupportedAdCue=function(e,t){return t},D.isSupportedAdCue=function(e,t){return!0},D.getCueId=function(e,t){return t.id};var L=function(e,t){return void 0!==t&&e.ads.includedCues[t]},R=function(e,t){void 0!==t&&""!==t&&(e.ads.includedCues[t]=!0)};D.processAdTrack=function(t,n,r,a){t.ads.includedCues={};for(var i=0;i<n.length;i++){var o=n[i],s=this.getSupportedAdCue(t,o);if(!this.isSupportedAdCue(t,o))return void e.log.warn("Skipping as this is not a supported ad cue.",o);var l=this.getCueId(t,o),u=o.startTime;if(L(t,l))return void e.log("Skipping ad already seen with ID "+l);a&&a(t,s,l,u),r(t,s,l,u),R(t,l)}};var B={},U=e;B.isMiddlewareMediatorSupported=function(){return!U.browser.IS_IOS&&!U.browser.IS_ANDROID&&!!(U.use&&U.middleware&&U.middleware.TERMINATOR)},B.playMiddleware=function(e){return{setSource:function(e,t){t(null,e)},callPlay:function(){if(e.ads&&e.ads._shouldBlockPlay===!0)return e.ads.debug("Using playMiddleware to block content playback"),e.ads._playBlocked=!0,U.middleware.TERMINATOR},play:function(t,n){e.ads&&e.ads._playBlocked&&t?(e.ads.debug("Play call to Tech was terminated."),e.trigger("play"),e.addClass("vjs-has-started"),e.ads._playBlocked=!1):n&&n.catch&&n.catch(function(t){"play() failed because the user didn't interact with the document first. https://goo.gl/xX8pDD"===t.message&&e.trigger("pause")})}}},B.testHook=function(e){U=e};var F=B.playMiddleware,V=B.isMiddlewareMediatorSupported,H=function(){if(e.getPlugin)return Boolean(e.getPlugin("ads"));var t=e.getComponent("Player");return Boolean(t&&t.prototype.ads)},W=function(){function t(e){A(this,t),this.player=e}return t._getName=function(){return"Anonymous State"},t.prototype.transitionTo=function(e){var t=this.player,n=this;n.cleanup(t);var r=new e(t);t.ads._state=r,t.ads.debug(n.constructor._getName()+" -> "+r.constructor._getName());for(var a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];r.init.apply(r,[t].concat(i))},t.prototype.init=function(){},t.prototype.cleanup=function(){},t.prototype.onPlay=function(){},t.prototype.onPlaying=function(){},t.prototype.onEnded=function(){},t.prototype.onAdEnded=function(){},t.prototype.onAdsReady=function(){e.log.warn("Unexpected adsready event")},t.prototype.onAdsError=function(){},t.prototype.onAdsCanceled=function(){},t.prototype.onAdTimeout=function(){},t.prototype.onAdStarted=function(){},t.prototype.onContentChanged=function(){},t.prototype.onContentResumed=function(){},t.prototype.onReadyForPostroll=function(){e.log.warn("Unexpected readyforpostroll event")},t.prototype.onNoPreroll=function(){},t.prototype.onNoPostroll=function(){},t.prototype.startLinearAdMode=function(){e.log.warn("Unexpected startLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.endLinearAdMode=function(){e.log.warn("Unexpected endLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.skipLinearAdMode=function(){e.log.warn("Unexpected skipLinearAdMode invocation (State via "+this.constructor._getName()+")")},t.prototype.isAdState=function(){throw new Error("isAdState unimplemented for "+this.constructor._getName())},t.prototype.isWaitingForAdBreak=function(){return!1},t.prototype.isContentResuming=function(){return!1},t.prototype.inAdBreak=function(){return!1},t.prototype.handleEvent=function(e){var t=this.player;"play"===e?this.onPlay(t):"adsready"===e?this.onAdsReady(t):"adserror"===e?this.onAdsError(t):"adscanceled"===e?this.onAdsCanceled(t):"adtimeout"===e?this.onAdTimeout(t):"ads-ad-started"===e?this.onAdStarted(t):"contentchanged"===e?this.onContentChanged(t):"contentresumed"===e?this.onContentResumed(t):"readyforpostroll"===e?this.onReadyForPostroll(t):"playing"===e?this.onPlaying(t):"ended"===e?this.onEnded(t):"nopreroll"===e?this.onNoPreroll(t):"nopostroll"===e?this.onNoPostroll(t):"adended"===e&&this.onAdEnded(t)},t}(),z=function(e){function t(n){A(this,t);var r=I(this,e.call(this,n));return r.contentResuming=!1,r.waitingForAdBreak=!1,r}return j(t,e),t.prototype.isAdState=function(){return!0},t.prototype.onPlaying=function(){this.contentResuming&&this.transitionTo(J)},t.prototype.onContentResumed=function(){this.contentResuming&&this.transitionTo(J)},t.prototype.isWaitingForAdBreak=function(){return this.waitingForAdBreak},t.prototype.isContentResuming=function(){return this.contentResuming},t.prototype.inAdBreak=function(){return this.player.ads._inLinearAdMode===!0},t}(W),q=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t.prototype.isAdState=function(){return!1},t.prototype.onContentChanged=function(e){e.ads.debug("Received contentchanged event (ContentState)"),e.paused()?this.transitionTo($):(this.transitionTo(K,!1),e.pause(),e.ads._pausedOnContentupdate=!0)},t}(W),G=void 0,Y={start:d,end:f},K=function(t){function n(){return A(this,n),I(this,t.apply(this,arguments))}return j(n,t),n._getName=function(){return"Preroll"},n.prototype.init=function(e,t,n){if(this.waitingForAdBreak=!0,e.addClass("vjs-ad-loading"),n||e.ads.nopreroll_)return this.resumeAfterNoPreroll(e);var r=e.ads.settings.timeout;"number"==typeof e.ads.settings.prerollTimeout&&(r=e.ads.settings.prerollTimeout),this._timeout=e.setTimeout(function(){e.trigger("adtimeout")},r),t?this.handleAdsReady():this.adsReady=!1},n.prototype.onAdsReady=function(t){t.ads.inAdBreak()?e.log.warn("Unexpected adsready event (Preroll)"):(t.ads.debug("Received adsready event (Preroll)"),this.handleAdsReady())},n.prototype.handleAdsReady=function(){this.adsReady=!0,this.readyForPreroll()},n.prototype.afterLoadStart=function(e){var t=this.player;t.ads._hasThereBeenALoadStartDuringPlayerLife?e():(t.ads.debug("Waiting for loadstart..."),t.one("loadstart",function(){t.ads.debug("Received loadstart event"),e()}))},n.prototype.noPreroll=function(){var e=this;this.afterLoadStart(function(){e.player.ads.debug("Skipping prerolls due to nopreroll event (Preroll)"),e.resumeAfterNoPreroll(e.player)})},n.prototype.readyForPreroll=function(){var e=this.player;this.afterLoadStart(function(){e.ads.debug("Triggered readyforpreroll event (Preroll)"),e.trigger("readyforpreroll")})},n.prototype.onAdsCanceled=function(e){var t=this;e.ads.debug("adscanceled (Preroll)"),this.afterLoadStart(function(){t.resumeAfterNoPreroll(e)})},n.prototype.onAdsError=function(t){var n=this;e.log("adserror (Preroll)"),this.inAdBreak()?t.ads.endLinearAdMode():this.afterLoadStart(function(){n.resumeAfterNoPreroll(t)})},n.prototype.startLinearAdMode=function(){var t=this.player;!this.adsReady||t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected startLinearAdMode invocation (Preroll)"):(t.clearTimeout(this._timeout),t.ads.adType="preroll",this.waitingForAdBreak=!1,Y.start(t),t.ads._shouldBlockPlay=!1)},n.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},n.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(e.removeClass("vjs-ad-loading"),e.addClass("vjs-ad-content-resuming"),this.contentResuming=!0,Y.end(e))},n.prototype.skipLinearAdMode=function(){var t=this,n=this.player;n.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected skipLinearAdMode invocation"):this.afterLoadStart(function(){n.trigger("adskip"),n.ads.debug("skipLinearAdMode (Preroll)"),t.resumeAfterNoPreroll(n)})},n.prototype.onAdTimeout=function(e){var t=this;this.afterLoadStart(function(){e.ads.debug("adtimeout (Preroll)"),t.resumeAfterNoPreroll(e)})},n.prototype.onNoPreroll=function(t){t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected nopreroll event (Preroll)"):this.noPreroll()},n.prototype.resumeAfterNoPreroll=function(e){this.contentResuming=!0,e.ads._shouldBlockPlay=!1,e.paused()&&(e.ads._playRequested||e.ads._pausedOnContentupdate)&&e.play()},n.prototype.cleanup=function(t){t.ads._hasThereBeenALoadStartDuringPlayerLife||e.log.warn("Leaving Preroll state before loadstart event can cause issues."),t.removeClass("vjs-ad-loading"),t.removeClass("vjs-ad-content-resuming"),t.clearTimeout(this._timeout)},n}(z),Q=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t._getName=function(){return"Midroll"},t.prototype.init=function(e){e.ads.adType="midroll",Y.start(e),e.addClass("vjs-ad-loading")},t.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},t.prototype.endLinearAdMode=function(){var e=this.player;this.inAdBreak()&&(this.contentResuming=!0,e.addClass("vjs-ad-content-resuming"),e.removeClass("vjs-ad-loading"),Y.end(e))},t.prototype.onAdsError=function(e){this.inAdBreak()&&e.ads.endLinearAdMode()},t.prototype.cleanup=function(e){e.removeClass("vjs-ad-loading"),e.removeClass("vjs-ad-content-resuming")},t}(z),X=function(t){function n(){return A(this,n),I(this,t.apply(this,arguments))}return j(n,t),n._getName=function(){return"Postroll"},n.prototype.init=function(e){if(this.waitingForAdBreak=!0,e.ads._contentEnding=!0,e.ads.nopostroll_)this.resumeContent(e),this.transitionTo(Z);else{e.addClass("vjs-ad-loading");var t=e.ads.settings.timeout;"number"==typeof e.ads.settings.postrollTimeout&&(t=e.ads.settings.postrollTimeout),this._postrollTimeout=e.setTimeout(function(){e.trigger("adtimeout")},t)}},n.prototype.startLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected startLinearAdMode invocation (Postroll)"):(t.ads.adType="postroll",t.clearTimeout(this._postrollTimeout),this.waitingForAdBreak=!1,Y.start(t))},n.prototype.onAdStarted=function(e){e.removeClass("vjs-ad-loading")},n.prototype.endLinearAdMode=function(){var e=this,t=this.player;this.inAdBreak()&&(t.removeClass("vjs-ad-loading"),this.resumeContent(t),Y.end(t,function(){e.transitionTo(Z)}))},n.prototype.skipLinearAdMode=function(){var t=this.player;t.ads.inAdBreak()||this.isContentResuming()?e.log.warn("Unexpected skipLinearAdMode invocation"):(t.ads.debug("Postroll abort (skipLinearAdMode)"),t.trigger("adskip"),this.abort(t))},n.prototype.onAdTimeout=function(e){e.ads.debug("Postroll abort (adtimeout)"),this.abort(e)},n.prototype.onAdsError=function(e){e.ads.debug("Postroll abort (adserror)"),e.ads.inAdBreak()?e.ads.endLinearAdMode():this.abort(e)},n.prototype.onContentChanged=function(e){this.isContentResuming()?this.transitionTo($):this.inAdBreak()||this.transitionTo(K)},n.prototype.onNoPostroll=function(t){this.isContentResuming()||this.inAdBreak()?e.log.warn("Unexpected nopostroll event (Postroll)"):this.abort(t)},n.prototype.resumeContent=function(e){this.contentResuming=!0,e.addClass("vjs-ad-content-resuming")},n.prototype.abort=function(e){this.resumeContent(e),e.removeClass("vjs-ad-loading"),this.transitionTo(Z)},n.prototype.cleanup=function(e){e.removeClass("vjs-ad-content-resuming"),e.clearTimeout(this._postrollTimeout),e.ads._contentEnding=!1},n}(z),$=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t._getName=function(){return"BeforePreroll"},t.prototype.init=function(e){this.adsReady=!1,this.shouldResumeToContent=!1,e.ads._shouldBlockPlay=!0},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (BeforePreroll)"),this.adsReady=!0},t.prototype.onPlay=function(e){e.ads.debug("Received play event (BeforePreroll)"),this.transitionTo(K,this.adsReady,this.shouldResumeToContent)},t.prototype.onAdsCanceled=function(e){e.ads.debug("adscanceled (BeforePreroll)"),
this.shouldResumeToContent=!0},t.prototype.onAdsError=function(){this.player.ads.debug("adserror (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.onNoPreroll=function(){this.player.ads.debug("Skipping prerolls due to nopreroll event (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.skipLinearAdMode=function(){var e=this.player;e.trigger("adskip"),e.ads.debug("skipLinearAdMode (BeforePreroll)"),this.shouldResumeToContent=!0},t.prototype.onContentChanged=function(){this.init(this.player)},t}(q),J=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t._getName=function(){return"ContentPlayback"},t.prototype.init=function(e){e.ads._shouldBlockPlay=!1},t.prototype.onAdsReady=function(e){e.ads.debug("Received adsready event (ContentPlayback)"),e.ads.nopreroll_||(e.ads.debug("Triggered readyforpreroll event (ContentPlayback)"),e.trigger("readyforpreroll"))},t.prototype.onReadyForPostroll=function(e){e.ads.debug("Received readyforpostroll event"),this.transitionTo(X)},t.prototype.startLinearAdMode=function(){this.transitionTo(Q)},t}(q),Z=function(t){function n(){return A(this,n),I(this,t.apply(this,arguments))}return j(n,t),n._getName=function(){return"AdsDone"},n.prototype.init=function(e){e.ads._contentHasEnded=!0,e.trigger("ended")},n.prototype.startLinearAdMode=function(){e.log.warn("Unexpected startLinearAdMode invocation (AdsDone)")},n}(q),ee=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t._getName=function(){return"StitchedAdRoll"},t.prototype.init=function(){this.waitingForAdBreak=!1,this.contentResuming=!1,this.player.ads.adType="stitched",Y.start(this.player)},t.prototype.onPlaying=function(){},t.prototype.onContentResumed=function(){},t.prototype.onAdEnded=function(){this.endLinearAdMode(),this.player.trigger("ended")},t.prototype.endLinearAdMode=function(){Y.end(this.player),this.transitionTo(te)},t}(z),te=function(e){function t(){return A(this,t),I(this,e.apply(this,arguments))}return j(t,e),t._getName=function(){return"StitchedContentPlayback"},t.prototype.init=function(){this.player.ads._shouldBlockPlay=!1},t.prototype.onContentChanged=function(){this.player.ads.debug("Received contentchanged event ("+this._getName()+")")},t.prototype.startLinearAdMode=function(){this.transitionTo(ee)},t}(q),ne=B.isMiddlewareMediatorSupported,re=e.getTech("Html5").Events,ae={timeout:5e3,prerollTimeout:void 0,postrollTimeout:void 0,debug:!1,stitchedAds:!1,contentIsLive:void 0,liveCuePoints:!0},ie=function(t){var s=this,l=e.mergeOptions(ae,t),u=re.concat(["firstplay","loadedalldata","playing"]);s.on(u,r),ne()||o(s,l.debug),s.setTimeout(function(){s.ads._hasThereBeenALoadStartDuringPlayerLife||""===s.src()||e.log.error("videojs-contrib-ads has not seen a loadstart event 5 seconds after being initialized, but a source is present. This indicates that videojs-contrib-ads was initialized too late. It must be initialized immediately after video.js in the same tick. As a result, some ads will not play and some media events will be incorrect. For more information, see http://videojs.github.io/videojs-contrib-ads/integrator/getting-started.html")},5e3),s.on("ended",function(){s.hasClass("vjs-has-started")||s.addClass("vjs-has-started")}),s.on("contenttimeupdate",function(){s.removeClass("vjs-waiting")}),s.on(["addurationchange","adcanplay"],function(){if((!s.ads.snapshot||s.currentSrc()!==s.ads.snapshot.currentSrc)&&s.ads.inAdBreak()){var t=s.play();t&&t.catch&&t.catch(function(t){e.log.warn("Play promise rejected when playing ad",t)})}}),s.on("nopreroll",function(){s.ads.debug("Received nopreroll event"),s.ads.nopreroll_=!0}),s.on("nopostroll",function(){s.ads.debug("Received nopostroll event"),s.ads.nopostroll_=!0}),s.on("playing",function(){s.ads._cancelledPlay=!1,s.ads._pausedOnContentupdate=!1}),s.on("play",function(){s.ads._playRequested=!0}),s.one("loadstart",function(){s.ads._hasThereBeenALoadStartDuringPlayerLife=!0}),s.on("loadeddata",function(){s.ads._hasThereBeenALoadedData=!0}),s.on("loadedmetadata",function(){s.ads._hasThereBeenALoadedMetaData=!0}),s.ads=n(s),s.ads.settings=l,l.stitchedAds=!!l.stitchedAds,l.stitchedAds?s.ads._state=new te(s):s.ads._state=new $(s),s.ads._state.init(s),s.ads.cueTextTracks=D,s.ads.adMacroReplacement=i.bind(s),a(s),s.on("contentchanged",s.ads.reset);var c=function(){return!s.ads.shouldPlayContentBehindAd(s)&&s.ads.inAdBreak()&&s.tech_.featuresNativeTextTracks&&e.browser.IS_IOS&&!Array.isArray(s.textTracks())},d=function(){var e=s.textTracks();if(c())for(var t=0;t<e.length;t++){var n=e[t];"showing"===n.mode&&(n.mode="disabled")}};s.ready(function(){s.textTracks().addEventListener("change",d)}),s.on(["play","playing","ended","adsready","adscanceled","adskip","adserror","adtimeout","adended","ads-ad-started","contentchanged","dispose","contentresumed","readyforpostroll","nopreroll","nopostroll"],function(e){s.ads._state.handleEvent(e.type)}),s.on("dispose",function(){s.ads.reset(),s.textTracks().removeEventListener("change",d)})};return ie.VERSION=h,l(ie),ie})}).call(t,function(){return this}())},function(e,t,n){var r,r;(function(t){!function(t){e.exports=t()}(function(){var e;return function e(t,n,a){function i(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return i(n?n:e)},d,d.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<a.length;s++)i(a[s]);return i}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("global/window"),o=r(i),s=function(e,t){for(var n=e.cues,r=0;r<n.length;r++){var a=n[r];if(t>=a.adStartTime&&t<=a.adEndTime)return a}return null},l=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var r=n,i=void 0,l=0;l<e.segments.length;l++){var u=e.segments[l];if(i||(i=s(t,r+u.duration/2)),i){if("cueIn"in u){i.endTime=r,i.adEndTime=r,r+=u.duration,i=null;continue}if(r<i.endTime){r+=u.duration;continue}i.endTime+=u.duration}else if("cueOut"in u&&(i=new o.default.VTTCue(r,r+u.duration,u.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(u.cueOut),t.addCue(i)),"cueOutCont"in u){var c=void 0,d=void 0,f=u.cueOutCont.split("/").map(parseFloat),p=a(f,2);c=p[0],d=p[1],i=new o.default.VTTCue(r,r+u.duration,""),i.adStartTime=r-c,i.adEndTime=i.adStartTime+d,t.addCue(i)}r+=u.duration}};n.default={updateAdCues:l,findAdCue:s},t.exports=n.default},{"global/window":32}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t){return e.start(t)+"-"+e.end(t)},a=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},i=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},o=function(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];ArrayBuffer.isView(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},s=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},l={hexDump:function(e){for(var t=Array.prototype.slice.call(e),n=16,r="",o=void 0,s=void 0,l=0;l<t.length/n;l++)o=t.slice(l*n,l*n+n).map(a).join(""),s=t.slice(l*n,l*n+n).map(i).join(""),r+=o+" "+s+"\n";return r},tagDump:function(e){return l.hexDump(e.bytes)},textRanges:function(e){var t="",n=void 0;for(n=0;n<e.length;n++)t+=r(e,n)+" ";return t},createTransferableMessage:o,initSegmentId:s};n.default=l,t.exports=n.default},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},t.exports=n.default},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("global/window"),i=r(a),o=e("aes-decrypter"),s=e("./bin-utils"),l=function(e){e.onmessage=function(e){var t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),r=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),a=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new o.Decrypter(n,r,a,function(e,n){i.default.postMessage((0,s.createTransferableMessage)({source:t.source,decrypted:n}),[n.buffer])})}};n.default=function(e){return new l(e)},t.exports=n.default},{"./bin-utils":2,"aes-decrypter":25,"global/window":32}],5:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("./playlist-loader"),u=n(l),c=e("./playlist.js"),d=e("./segment-loader"),f=n(d),p=e("./vtt-segment-loader"),h=n(p),m=e("./ranges"),y=n(m),v="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,g=n(v),b=e("./ad-cue-tags"),_=n(b),w=e("./sync-controller"),E=n(w),k=e("videojs-contrib-media-sources/es5/codec-utils"),T=e("webwackify"),S=n(T),C=e("./decrypter-worker"),P=n(C),O=e("./config"),N=n(O),A=e("./util/codecs.js"),j=e("./media-groups"),I=120,x=void 0,M={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},D=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],L=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},R=function(){var t=void 0;try{t=e.resolve("./decrypter-worker")}catch(n){}return t},B=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,k.translateLegacyCodecs)([e])[0]})};r.mapLegacyAvcCodecs_=B;var U=function(e,t,n){return e+"/"+t+'; codecs="'+n.filter(function(e){return!!e}).join(", ")+'"'},F=function(e){return e.segments&&e.segments.length&&e.segments[0].map?"mp4":"mp2t"},V=function(e){var t=e.attributes||{};return t.CODECS?(0,A.parseCodecs)(t.CODECS):M},H=function(e,t){var n=F(t),r=V(t),a=t.attributes||{},i=!0,o=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&a.AUDIO){var s=e.mediaGroups.AUDIO[a.AUDIO];if(s){o=!0,i=!1;for(var l in s)if(!s[l].uri){i=!0;break}}}o&&!r.audioProfile&&(g.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),r.audioProfile=M.audioProfile);var u={};r.videoCodec&&(u.video=""+r.videoCodec+r.videoObjectTypeIndicator),r.audioProfile&&(u.audio="mp4a.40."+r.audioProfile);var c=U("audio",n,[u.audio]),d=U("video",n,[u.video]),f=U("video",n,[u.video,u.audio]);return o?!i&&u.video?[d,c]:[f,c]:u.video?[f]:[c]};r.mimeTypesForPlaylist_=H;var W=function(e){function t(e){var n=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=e.url,i=e.handleManifestRedirects,o=e.withCredentials,l=e.mode,c=e.tech,d=e.bandwidth,p=e.externHls,m=e.useCueTags,y=e.blacklistDuration,v=e.enableLowInitialPlaylist;if(!r)throw new Error("A non-empty playlist URL is required");x=p,this.tech_=c,this.hls_=c.hls,this.mode_=l,this.useCueTags_=m,this.blacklistDuration=y,this.enableLowInitialPlaylist=v,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:o,handleManifestRedirects:i,timeout:null},this.mediaTypes_=(0,j.createMediaTypes)(),this.mediaSource=new g.default.MediaSource({mode:l}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=g.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new E.default(e),this.segmentMetadataTrack_=c.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,S.default)(P.default,R());var b={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.mediaSource.duration},hasPlayed:function(){return n.hasPlayed_()},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:d,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new u.default(r,this.hls_,this.requestOptions_),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new f.default(g.default.mergeOptions(b,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new f.default(g.default.mergeOptions(b,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new h.default(g.default.mergeOptions(b,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),D.forEach(function(e){n[e+"_"]=L.bind(n,e)}),this.masterPlaylistLoader_.load()}return i(t,e),o(t,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,c.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,t.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load()),(0,j.setupMediaGroups)({segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,mode:e.mode_,hls:e.hls_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),t);try{e.setupSourceBuffers_()}catch(r){return g.default.log.warn("Failed to create SourceBuffers",r),e.mediaSource.endOfStream("decode")}e.setupFirstPlay(),e.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t=e.masterPlaylistLoader_.media();if(!t){var n=void 0;return e.enableLowInitialPlaylist&&(n=e.selectInitialPlaylist()),n||(n=e.selectPlaylist()),e.initialMedia_=n,void e.masterPlaylistLoader_.media(e.initialMedia_)}e.useCueTags_&&e.updateAdCues_(t),e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.updateDuration(),e.tech_.paused()||e.mainSegmentLoader_.load(),t.endList||!function(){var t=function(){var t=e.seekable();0!==t.length&&e.mediaSource.addSeekableRange_(t.start(0),t.end(0))};e.duration()!==1/0?!function(){var n=function n(){e.duration()===1/0?t():e.tech_.one("durationchange",n)};e.tech_.one("durationchange",n)}():t()}()}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var t=e.masterPlaylistLoader_.media(),n=1.5*e.masterPlaylistLoader_.targetDuration*1e3;(0,c.isLowestEnabledRendition)(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?e.requestOptions_.timeout=0:e.requestOptions_.timeout=n,e.mainSegmentLoader_.playlist(t,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var t=e.masterPlaylistLoader_.media(),n=e.stuckAtPlaylistEnd_(t);n&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var n=e.mediaGroups||{},r=!0,a=Object.keys(n.AUDIO);for(var i in n.AUDIO)for(var o in n.AUDIO[i]){var s=n.AUDIO[i][o];s.uri||(r=!1)}r&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),x.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),x.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),a.length&&Object.keys(n.AUDIO[a[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var e=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var t=e.selectPlaylist(),n=e.masterPlaylistLoader_.media(),r=e.tech_.buffered(),a=r.length?r.end(r.length-1)-e.tech_.currentTime():0,i=e.bufferLowWaterLine();(!n.endList||e.duration()<N.default.MAX_BUFFER_LOW_WATER_LINE||t.attributes.BANDWIDTH<n.attributes.BANDWIDTH||a>=i)&&e.masterPlaylistLoader_.media(t),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},I)}),this.mainSegmentLoader_.on("reseteverything",function(){e.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(t){e.tech_.trigger({type:"hls-segment-time-mapping",mapping:t.mapping})}),this.audioSegmentLoader_.on("ended",function(){e.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e=this,t=this.masterPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_())return!1;if(!t.endList){var n=function(){var t=e.seekable();return t.length?g.default.browser.IE_VERSION&&"html5"===e.mode_&&0===e.tech_.readyState()?(e.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(t.end(0)),e.hasPlayed_=function(){return!0}}),{v:!1}):(e.trigger("firstplay"),void e.tech_.setCurrentTime(t.end(0))):{v:!1}}();if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return g.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();"undefined"!=typeof t&&"function"==typeof t.then&&t.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){var t=this.seekable();if(!t.length)return!1;var n=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===n)return!1;var r=x.Playlist.playlistEnd(e,n),a=this.tech_.currentTime(),i=this.tech_.buffered();if(!i.length)return r-a<=y.default.SAFE_TIME_DELTA;var o=i.end(i.length-1);return o-a<=y.default.SAFE_TIME_DELTA&&r-o<=y.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){void 0===e&&(e={});var n=void 0,r=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(a){return this.trigger("error")}}var i=1===this.masterPlaylistLoader_.master.playlists.filter(c.isEnabled).length;return i?(g.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(i)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),r=this.selectPlaylist(),g.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(r))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=y.default.findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:x.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var n=this.masterPlaylistLoader_.media();if(n){var r=this.syncController_.getExpiredTime(n,this.mediaSource.duration);if(null!==r&&(e=x.Playlist.seekable(n,r),0!==e.length)){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(n=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),r=this.syncController_.getExpiredTime(n,this.mediaSource.duration),null===r)return;if(t=x.Playlist.seekable(n,r),0===t.length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=g.default.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var e=this,t=this.mediaSource.duration,n=x.Playlist.duration(this.masterPlaylistLoader_.media()),r=this.tech_.buffered(),a=function t(){e.mediaSource.duration=n,e.tech_.trigger("durationchange"),e.mediaSource.removeEventListener("sourceopen",t)};r.length>0&&(n=Math.max(n,r.end(r.length-1))),t!==n&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",a):a())}},{key:"dispose",value:function(){var e=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(t){var n=e.mediaTypes_[t].groups;for(var r in n)n[r].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e=this.masterPlaylistLoader_.media(),t=void 0;if(e&&"open"===this.mediaSource.readyState){if(t=H(this.masterPlaylistLoader_.master,e),t.length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(t[0]),t[1]&&this.audioSegmentLoader_.mimeType(t[1]),this.excludeIncompatibleVariants_(e)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,n=2,r=null,a=void 0;e.attributes.CODECS&&(a=(0,A.parseCodecs)(e.attributes.CODECS),r=a.videoCodec,n=a.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var a=e.attributes.CODECS;t=(0,A.parseCodecs)(a),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+B(a)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,n=this.seekable();n.length&&(t=n.start(0)),_.default.updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=N.default.GOAL_BUFFER_LENGTH,n=N.default.GOAL_BUFFER_LENGTH_RATE,r=Math.max(t,N.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,r)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=N.default.BUFFER_LOW_WATER_LINE,n=N.default.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(t,N.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,r)}}]),t}(g.default.EventTarget);r.MasterPlaylistController=W}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ad-cue-tags":1,"./config":3,"./decrypter-worker":4,"./media-groups":6,"./playlist-loader":9,"./playlist.js":11,"./ranges":12,"./segment-loader":16,"./sync-controller":18,"./util/codecs.js":19,"./vtt-segment-loader":20,"videojs-contrib-media-sources/es5/codec-utils":65,webwackify:76}],6:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,i=n(a),o=e("./playlist-loader"),s=n(o),l=function(){},u=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},c=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};r.stopLoaders=c;var d=function(e,t){t.activePlaylistLoader=e,e.load()};r.startLoaders=d;var f=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],a=n.main,i=t.mediaTypes[e],o=i.activeTrack(),s=i.activeGroup(o),l=i.activePlaylistLoader;if(c(r,i),s){if(!s.playlistLoader)return void(l&&a.resetEverything());r.resyncLoader(),d(s.playlistLoader,i)}}};r.onGroupChanged=f;var p=function(e,t){return function(){var n=t.segmentLoaders,r=n[e],a=n.main,i=t.mediaTypes[e],o=i.activeTrack(),s=i.activeGroup(o),l=i.activePlaylistLoader;if(c(r,i),s){if(!s.playlistLoader)return void a.resetEverything();if(l===s.playlistLoader)return void d(s.playlistLoader,i);r.track&&r.track(o),r.resetEverything(),d(s.playlistLoader,i)}}};r.onTrackChanged=p;var h={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e],a=t.blacklistCurrentPlaylist;c(n,r);var o=r.activeTrack(),s=r.activeGroup(),l=(s.filter(function(e){return e.default})[0]||s[0]).id,u=r.tracks[l];if(o===u)return void a({message:"Problem encountered loading the default audio track."});i.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var d in r.tracks)r.tracks[d].enabled=r.tracks[d]===u;r.onTrackChanged()}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],r=t.mediaTypes[e];i.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),c(n,r);var a=r.activeTrack();a&&(a.mode="disabled"),r.onTrackChanged()}}};r.onError=h;var m={AUDIO:function(e,t,n){if(t){var r=n.tech,a=n.requestOptions,i=n.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,a),(!r.paused()||e.endList&&"none"!==r.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),a),r.paused()||i.load()}),t.on("error",h[e](e,n))}},SUBTITLES:function(e,t,n){var r=n.tech,a=n.requestOptions,i=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();i.playlist(e,a),i.track(o.activeTrack()),(!r.paused()||e.endList&&"none"!==r.preload())&&i.load()}),t.on("loadedplaylist",function(){i.playlist(t.media(),a),r.paused()||i.load()}),t.on("error",h[e](e,n))}};r.setupListeners=m;var y={AUDIO:function(e,t){var n=t.mode,r=t.hls,a=t.segmentLoaders[e],o=t.requestOptions,l=t.master.mediaGroups,c=t.mediaTypes[e],d=c.groups,f=c.tracks;l[e]&&0!==Object.keys(l[e]).length&&"html5"===n||(l[e]={main:{default:{default:!0}}});for(var p in l[e]){d[p]||(d[p]=[]);for(var y in l[e][p]){var v=l[e][p][y],g=void 0;if(g=v.resolvedUri?new s.default(v.resolvedUri,r,o):null,v=i.default.mergeOptions({id:y,playlistLoader:g},v),m[e](e,v.playlistLoader,t),d[p].push(v),"undefined"==typeof f[y]){var b=new i.default.AudioTrack({id:y,kind:u(v),enabled:!1,language:v.language,default:v.default,label:y});f[y]=b}}}a.on("error",h[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,r=t.hls,a=t.segmentLoaders[e],o=t.requestOptions,l=t.master.mediaGroups,u=t.mediaTypes[e],c=u.groups,d=u.tracks;for(var f in l[e]){c[f]||(c[f]=[]);for(var p in l[e][f])if(!l[e][f][p].forced){var y=l[e][f][p];if(y=i.default.mergeOptions({id:p,playlistLoader:new s.default(y.resolvedUri,r,o)},y),m[e](e,y.playlistLoader,t),c[f].push(y),"undefined"==typeof d[p]){var v=n.addRemoteTextTrack({id:p,kind:"subtitles",enabled:!1,language:y.language,label:p},!1).track;d[p]=v}}}a.on("error",h[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,r=t.master.mediaGroups,a=t.mediaTypes[e],o=a.groups,s=a.tracks;for(var l in r[e]){o[l]||(o[l]=[]);for(var u in r[e][l]){var c=r[e][l][u];if(c.instreamId.match(/CC\d/)&&(o[l].push(i.default.mergeOptions({id:u},c)),"undefined"==typeof s[u])){var d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",enabled:!1,language:c.language,label:u},!1).track;s[u]=d}}}}};r.initialize=y;var v=function(e,t){return function(n){var r=t.masterPlaylistLoader,a=t.mediaTypes[e].groups,i=r.media();if(!i)return null;var o=null;return i.attributes[e]&&(o=a[i.attributes[e]]),
o=o||a.main,"undefined"==typeof n?o:null===n?null:o.filter(function(e){return e.id===n.id})[0]||null}};r.activeGroup=v;var g={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if(n[r].enabled)return n[r];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var r in n)if("showing"===n[r].mode)return n[r];return null}}};r.activeTrack=g;var b=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){y[t](t,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,r=e.tech,a=e.hls;["AUDIO","SUBTITLES"].forEach(function(n){t[n].activeGroup=v(n,e),t[n].activeTrack=g[n](n,e),t[n].onGroupChanged=f(n,e),t[n].onTrackChanged=p(n,e)});var i=t.AUDIO.activeGroup(),o=(i.filter(function(e){return e.default})[0]||i[0]).id;t.AUDIO.tracks[o].enabled=!0,t.AUDIO.onTrackChanged(),n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return t[e].onGroupChanged()})});var s=function(){t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"hls-audio-change"})};r.audioTracks().addEventListener("change",s),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),a.on("dispose",function(){r.audioTracks().removeEventListener("change",s),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(var l in t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[l])};r.setupMediaGroups=b;var _=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:l,activeTrack:l,onGroupChanged:l,onTrackChanged:l}}),e};r.createMediaTypes=_}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist-loader":9}],7:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,i=n(a),o=e("./bin-utils"),s={FAILURE:2,TIMEOUT:-101,ABORTED:-102};r.REQUEST_ERRORS=s;var l=function(e){var t=void 0,n=void 0;return n=e.offset+e.length-1,t=e.offset,"bytes="+t+"-"+n},u=function(e){var t={};return e.byterange&&(t.Range=l(e.byterange)),t},c=function(e){e.forEach(function(e){e.abort()})},d=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},f=function(e){var t=e.target,n=Date.now()-t.requestTime,r={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},p=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:s.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:s.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:s.FAILURE,xhr:t}:null},h=function(e,t){return function(n,r){var a=r.response,i=p(n,r);if(i)return t(i,e);if(16!==a.byteLength)return t({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:s.FAILURE,xhr:r},e);var o=new DataView(a);return e.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),t(null,e)}},m=function(e,t){return function(n,r){var a=r.response,i=p(n,r);return i?t(i,e):0===a.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:s.FAILURE,xhr:r},e):(e.map.bytes=new Uint8Array(r.response),t(null,e))}},y=function(e,t){return function(n,r){var a=r.response,i=p(n,r);return i?t(i,e):0===a.byteLength?t({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:s.FAILURE,xhr:r},e):(e.stats=d(r),e.key?e.encryptedBytes=new Uint8Array(r.response):e.bytes=new Uint8Array(r.response),t(null,e))}},v=function(e,t,n){var r=function r(a){if(a.data.source===t.requestId){e.removeEventListener("message",r);var i=a.data.decrypted;return t.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),n(null,t)}};e.addEventListener("message",r),e.postMessage((0,o.createTransferableMessage)({source:t.requestId,encrypted:t.encryptedBytes,key:t.key.bytes,iv:t.key.iv}),[t.encryptedBytes.buffer,t.key.bytes.buffer])},g=function(e){return e.reduce(function(e,t){return t.code>e.code?t:e})},b=function(e,t,n){var r=[],a=0;return function(i,o){if(i&&(c(e),r.push(i)),a+=1,a===e.length){if(o.endOfAllRequests=Date.now(),r.length>0){var s=g(r);return n(s,o)}return o.encryptedBytes?v(t,o,n):n(null,o)}}},_=function(e,t){return function(n){return e.stats=i.default.mergeOptions(e.stats,f(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)}},w=function(e,t,n,r,a,o){var s=[],l=b(s,n,o);if(r.key){var d=i.default.mergeOptions(t,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),f=h(r,l),p=e(d,f);s.push(p)}if(r.map&&!r.map.bytes){var v=i.default.mergeOptions(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:u(r.map)}),g=m(r,l),w=e(v,g);s.push(w)}var E=i.default.mergeOptions(t,{uri:r.resolvedUri,responseType:"arraybuffer",headers:u(r)}),k=y(r,l),T=e(E,k);return T.addEventListener("progress",_(r,a)),s.push(T),function(){return c(s)}};r.mediaSegmentRequest=w}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2}],8:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("global/window"),l=a(s),u=e("./ranges"),c=a(u),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,f=a(d),p=["seeking","seeked","pause","playing","error"],h=function(){function e(t){var n=this;i(this,e),this.tech_=t.tech,this.seekable=t.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,t.debug&&(this.logger_=f.default.log.bind(f.default,"playback-watcher ->")),this.logger_("initialize");var r=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},s=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",s),this.tech_.on("waiting",a),this.tech_.on(p,o),this.tech_.on("canplay",r),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",s),n.tech_.off("waiting",a),n.tech_.off(p,o),n.tech_.off("canplay",r),n.checkCurrentTimeTimeout_&&l.default.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return o(e,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&l.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=l.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();return this.lastRecordedTime===e&&(!t.length||e+c.default.SAFE_TIME_DELTA>=t.end(t.length-1))?this.techWaiting_():void(this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e))}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),n=this.tech_.currentTime(),r=void 0;if(e&&this.afterSeekableWindow_(t,n)){var a=t.end(t.length-1);r=a}if(e&&this.beforeSeekableWindow_(t,n)){var i=t.start(0);r=i+c.default.SAFE_TIME_DELTA}return"undefined"!=typeof r&&(this.logger_("Trying to seek outside of seekable at time "+n+" with "+("seekable range "+c.default.printableRange(t)+". Seeking to ")+(r+".")),this.tech_.setCurrentTime(r),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),n=c.default.findRange(t,e);return n.length&&e+3<=n.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region "+("["+n.start(0)+" -> "+n.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var n=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+n),this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var r=this.tech_.buffered(),a=c.default.findNextRange(r,t);if(this.videoUnderflow_(a,r,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(a.length>0){var i=a.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+i+", seeking to "+a.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*i,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+c.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-c.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,n){if(0===e.length){var r=this.gapFromVideoUnderflow_(t,n);if(r)return this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),n=this.tech_.currentTime(),r=c.default.findNextRange(t,n);this.cancelTimer_(),0!==r.length&&n===e&&(this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+c.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var n=c.default.findGaps(e),r=0;r<n.length;r++){var a=n.start(r),i=n.end(r);if(t-a<4&&t-a>2)return{start:a,end:i}}return null}},{key:"logger_",value:function(){}}]),e}();r.default=h,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ranges":12,"global/window":32}],9:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("./resolve-url"),u=n(l),c="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,d=e("m3u8-parser"),f=n(d),p=e("global/window"),h=n(p),m=function(e,t,n){var r=t.slice();n=n||0;for(var a=Math.min(e.length,t.length+n),i=n;i<a;i++)r[i-n]=(0,c.mergeOptions)(e[i],r[i-n]);return r};r.updateSegments=m;var y=function(e,t){e.resolvedUri||(e.resolvedUri=(0,u.default)(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,u.default)(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,u.default)(t,e.map.uri))};r.resolveSegmentUris=y;var v=function(e,t){var n=(0,c.mergeOptions)(e,{}),r=n.playlists.filter(function(e){return e.uri===t.uri})[0];if(!r)return null;if(r.segments&&t.segments&&r.segments.length===t.segments.length&&r.mediaSequence===t.mediaSequence)return null;var a=(0,c.mergeOptions)(r,t);r.segments&&(a.segments=m(r.segments,t.segments,t.mediaSequence-r.mediaSequence)),a.segments.forEach(function(e){y(e,a.resolvedUri)});for(var i=0;i<n.playlists.length;i++)n.playlists[i].uri===t.uri&&(n.playlists[i]=a);return n.playlists[t.uri]=a,n};r.updateMaster=v;var g=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];e.playlists[n.uri]=n,n.resolvedUri=(0,u.default)(e.uri,n.uri),n.attributes||(n.attributes={},c.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};r.setupMediaPlaylists=g;var b=function(e){["AUDIO","SUBTITLES"].forEach(function(t){for(var n in e.mediaGroups[t])for(var r in e.mediaGroups[t][n]){var a=e.mediaGroups[t][n][r];a.uri&&(a.resolvedUri=(0,u.default)(e.uri,a.uri))}})};r.resolveMediaGroupUris=b;var _=function(e,t){var n=e.segments[e.segments.length-1],r=void 0;return r=t&&n&&n.duration?1e3*n.duration:500*(e.targetDuration||10)};r.refreshDelay=_;var w=function(e){function t(e,n,r){var i=this;if(a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),r=r||{},this.srcUrl=e,this.hls_=n,this.withCredentials=!!r.withCredentials,this.handleManifestRedirects=!!r.handleManifestRedirects,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===i.state&&(i.state="HAVE_CURRENT_METADATA",i.request=i.hls_.xhr({uri:(0,u.default)(i.master.uri,i.media().uri),withCredentials:i.withCredentials},function(e,t){if(i.request)return e?i.playlistRequestError(i.request,i.media().uri,"HAVE_METADATA"):void i.haveMetadata(i.request,i.media().uri)}))})}return i(t,e),o(t,[{key:"playlistRequestError",value:function(e,t,n){this.request=null,n&&(this.state=n),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var n=this;this.request=null,this.state="HAVE_METADATA";var r=new f.default.Parser;r.push(e.responseText),r.end(),r.manifest.uri=t,r.manifest.attributes=r.manifest.attributes||{};var a=v(this.master,r.manifest);this.targetDuration=r.manifest.targetDuration,a?(this.master=a,this.media_=this.master.playlists[r.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(h.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=h.default.setTimeout(function(){n.trigger("mediaupdatetimeout")},_(this.media(),!!a))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),h.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(e){var t=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.uri!==this.media_.uri;if(this.master.playlists[e.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(r,a){if(t.request){if(e.resolvedUri=t.resolveManifestRedirect(e.resolvedUri,a),r)return t.playlistRequestError(t.request,e.uri,n);t.haveMetadata(a,e.uri),"HAVE_MASTER"===n?t.trigger("loadedmetadata"):t.trigger("mediachange")}})}}},{key:"resolveManifestRedirect",value:function(e,t){return this.handleManifestRedirects&&t.responseURL&&e!==t.responseURL?t.responseURL:e}},{key:"pause",value:function(){this.stopRequest(),h.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;h.default.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=h.default.setTimeout(function(){return t.load()},r))}return this.started?void(n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")):void this.start()}},{key:"start",value:function(){var e=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(t,n){if(e.request){if(e.request=null,t)return e.error={status:n.status,message:"HLS playlist request error at URL: "+e.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");var r=new f.default.Parser;return r.push(n.responseText),r.end(),e.state="HAVE_MASTER",e.srcUrl=e.resolveManifestRedirect(e.srcUrl,n),r.manifest.uri=e.srcUrl,r.manifest.playlists?(e.master=r.manifest,g(e.master),b(e.master),e.trigger("loadedplaylist"),void(e.request||e.media(r.manifest.playlists[0]))):(e.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:h.default.location.href,playlists:[{uri:e.srcUrl,resolvedUri:e.srcUrl,attributes:{}}]},e.master.playlists[e.srcUrl]=e.master.playlists[0],e.haveMetadata(n,e.srcUrl),e.trigger("loadedmetadata"))}})}}]),t}(c.EventTarget);r.default=w}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./resolve-url":15,"global/window":32,"m3u8-parser":33}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./config"),i=r(a),o=e("./playlist"),s=r(o),l=e("./util/codecs.js"),u=function(e,t){var n=void 0;return e?(n=window.getComputedStyle(e),n?n[t]:""):""},c=function(e,t){var n=e.slice();e.sort(function(e,r){var a=t(e,r);return 0===a?n.indexOf(e)-n.indexOf(r):a})},d=function(e,t){var n=void 0,r=void 0;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||window.Number.MAX_VALUE,n-r};n.comparePlaylistBandwidth=d;var f=function(e,t){var n=void 0,r=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||window.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r};n.comparePlaylistResolution=f;var p=function(e,t,n,r){var a=e.playlists.map(function(e){var t=void 0,n=void 0,r=void 0;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,r=e.attributes.BANDWIDTH,r=r||window.Number.MAX_VALUE,{bandwidth:r,width:t,height:n,playlist:e}});c(a,function(e,t){return e.bandwidth-t.bandwidth}),a=a.filter(function(e){return!s.default.isIncompatible(e.playlist)});var o=a.filter(function(e){return s.default.isEnabled(e.playlist)});o.length||(o=a.filter(function(e){return!s.default.isDisabled(e.playlist)}));var l=o.filter(function(e){return e.bandwidth*i.default.BANDWIDTH_VARIANCE<t}),u=l[l.length-1],d=l.filter(function(e){return e.bandwidth===u.bandwidth})[0],f=l.filter(function(e){return e.width&&e.height});c(f,function(e,t){return e.width-t.width});var p=f.filter(function(e){return e.width===n&&e.height===r});u=p[p.length-1];var h=p.filter(function(e){return e.bandwidth===u.bandwidth})[0],m=void 0,y=void 0,v=void 0;h||(m=f.filter(function(e){return e.width>n||e.height>r}),y=m.filter(function(e){return e.width===m[0].width&&e.height===m[0].height}),u=y[y.length-1],v=y.filter(function(e){return e.bandwidth===u.bandwidth})[0]);var g=v||h||d||o[0]||a[0];return g?g.playlist:null};n.simpleSelector=p;var h=function(){return p(this.playlists.master,this.systemBandwidth,parseInt(u(this.tech_.el(),"width"),10),parseInt(u(this.tech_.el(),"height"),10))};n.lastBandwidthSelector=h;var m=function(e){var t=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,p(this.playlists.master,t,parseInt(u(this.tech_.el(),"width"),10),parseInt(u(this.tech_.el(),"height"),10))}};n.movingAverageBandwidthSelector=m;var y=function(e){var t=e.master,n=e.currentTime,r=e.bandwidth,a=e.duration,i=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,f=t.playlists.filter(function(e){return!s.default.isIncompatible(e)}),p=f.filter(s.default.isEnabled);p.length||(p=f.filter(function(e){return!s.default.isDisabled(e)}));var h=p.filter(s.default.hasAttribute.bind(null,"BANDWIDTH")),m=h.map(function(e){var t=u.getSyncPoint(e,a,l,n),c=t?1:2,d=s.default.estimateSegmentRequestTime(i,r,e),f=d*c-o;return{playlist:e,rebufferingImpact:f}}),y=m.filter(function(e){return e.rebufferingImpact<=0});return c(y,function(e,t){return d(t.playlist,e.playlist)}),y.length?y[0]:(c(m,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),m[0]||null)};n.minRebufferMaxBandwidthSelector=y;var v=function(){var e=this.playlists.master.playlists.filter(s.default.isEnabled);c(e,function(e,t){return d(e,t)});var t=e.filter(function(e){return(0,l.parseCodecs)(e.attributes.CODECS).videoCodec});return t[0]||null};n.lowestBitrateCompatibleVariantSelector=v},{"./config":3,"./playlist":11,"./util/codecs.js":19}],11:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,i=e("global/window"),o=n(i),s=function(e,t){var n=0,r=t-e.mediaSequence,a=e.segments[r];if(a){if("undefined"!=typeof a.start)return{result:a.start,precise:!0};if("undefined"!=typeof a.end)return{result:a.end-a.duration,precise:!0}}for(;r--;){if(a=e.segments[r],"undefined"!=typeof a.end)return{result:n+a.end,precise:!0};if(n+=a.duration,"undefined"!=typeof a.start)return{result:n+a.start,precise:!0}}return{result:n,precise:!1}},l=function(e,t){for(var n=0,r=void 0,a=t-e.mediaSequence;a<e.segments.length;a++){if(r=e.segments[a],"undefined"!=typeof r.start)return{result:r.start-n,precise:!0};if(n+=r.duration,"undefined"!=typeof r.end)return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},u=function(e,t,n){var r=void 0,a=void 0;return"undefined"==typeof t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(r=s(e,t),r.precise?r.result:(a=l(e,t),a.precise?a.result:r.result+n))},c=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),"undefined"==typeof t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return o.default.Infinity}return u(e,t,n)};r.duration=c;var d=function(e,t,n){var r=0;if(t>n){var a=[n,t];t=a[0],n=a[1]}if(t<0){for(var i=t;i<Math.min(0,n);i++)r+=e.targetDuration;t=0}for(var i=t;i<n;i++)r+=e.segments[i].duration;return r};r.sumDurations=d;var f=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,n=e.segments[t].duration||e.targetDuration,r=n+2*e.targetDuration;t--&&(n+=e.segments[t].duration,!(n>=r)););return Math.max(0,t)};r.safeLiveIndex=f;var p=function(e,t,n){if(!e||!e.segments)return null;if(e.endList)return c(e);if(null===t)return null;t=t||0;var r=n?f(e):e.segments.length;return u(e,e.mediaSequence+r,t)};r.playlistEnd=p;var h=function(e,t){var n=!0,r=t||0,i=p(e,t,n);return null===i?(0,a.createTimeRange)():(0,a.createTimeRange)(r,i)};r.seekable=h;var m=function(e){return e-Math.floor(e)===0},y=function(e,t){if(m(t))return t+.1*e;for(var n=t.toString().split(".")[1].length,r=1;r<=n;r++){var a=Math.pow(10,r),i=t*a;if(m(i)||r===n)return(i+e)/a}},v=y.bind(null,1),g=y.bind(null,-1),b=function(e,t,n,r){var a=void 0,i=void 0,o=e.segments.length,s=t-r;if(s<0){if(n>0)for(a=n-1;a>=0;a--)if(i=e.segments[a],s+=g(i.duration),s>0)return{mediaIndex:a,startTime:r-d(e,n,a)};return{mediaIndex:0,startTime:t}}if(n<0){for(a=n;a<0;a++)if(s-=e.targetDuration,s<0)return{mediaIndex:0,startTime:t};n=0}for(a=n;a<o;a++)if(i=e.segments[a],s-=v(i.duration),s<0)return{mediaIndex:a,startTime:r+d(e,n,a)};return{mediaIndex:o-1,startTime:t}};r.getMediaInfoForTime=b;var _=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};r.isBlacklisted=_;var w=function(e){return e.excludeUntil&&e.excludeUntil===1/0};r.isIncompatible=w;var E=function(e){var t=_(e);return!e.disabled&&!t};r.isEnabled=E;var k=function(e){return e.disabled};r.isDisabled=k;var T=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};r.isAes=T;var S=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};r.isFmp4=S;var C=function(e,t){return t.attributes&&t.attributes[e]};r.hasAttribute=C;var P=function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!C("BANDWIDTH",n))return NaN;var a=e*n.attributes.BANDWIDTH;return(a-8*r)/t};r.estimateSegmentRequestTime=P;var O=function(e,t){if(1===e.playlists.length)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!E(e)&&(e.attributes.BANDWIDTH||0)<n}).length};r.isLowestEnabledRendition=O,r.default={duration:c,seekable:h,safeLiveIndex:f,getMediaInfoForTime:b,isEnabled:E,isDisabled:k,isBlacklisted:_,isIncompatible:w,playlistEnd:p,isAes:T,isFmp4:S,hasAttribute:C,estimateSegmentRequestTime:P,isLowestEnabledRendition:O}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],12:[function(e,n,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,o=t(i),s=1/30,l=3*s,u=function(e,t){var n=a(t,2),r=n[0],i=n[1];return Math.min(Math.max(r,e),i)},c=function(e,t){var n=[],r=void 0;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return o.default.createTimeRanges(n)},d=function(e,t){return c(e,function(e,n){return e-s<=t&&n+s>=t})},f=function(e,t){return c(e,function(e){return e-s>=t})},p=function(e){if(e.length<2)return o.default.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var r=e.end(n-1),a=e.start(n);t.push([r,a])}return o.default.createTimeRanges(t)},h=function(e,t){var n=void 0,r=void 0,a=void 0,i=[],o=[],s=function(e){return e[0]<=a&&e[1]>=a};if(e)for(n=0;n<e.length;n++)r=e.start(n),a=e.end(n),o.push([r,a]);if(t)for(n=0;n<t.length;n++)r=t.start(n),a=t.end(n),o.some(s)||i.push(a);return 1!==i.length?null:i[0]},m=function(e,t){var n=null,r=null,a=0,i=[],s=[];if(!(e&&e.length&&t&&t.length))return o.default.createTimeRange();for(var l=e.length;l--;)i.push({time:e.start(l),type:"start"}),i.push({time:e.end(l),type:"end"});for(l=t.length;l--;)i.push({time:t.start(l),type:"start"}),i.push({time:t.end(l),type:"end"});for(i.sort(function(e,t){return e.time-t.time}),l=0;l<i.length;l++)"start"===i[l].type?(a++,2===a&&(n=i[l].time)):"end"===i[l].type&&(a--,1===a&&(r=i[l].time)),null!==n&&null!==r&&(s.push([n,r]),n=null,r=null);return o.default.createTimeRanges(s)},y=function(e,t,n,r){for(var a=t.end(0)-t.start(0),i=e.end(0)-e.start(0),o=a-i,s=m(e,r),l=m(t,r),u=0,c=0,d=s.length;d--;)u+=s.end(d)-s.start(d),s.start(d)===n&&(u+=o);for(d=l.length;d--;)c+=l.end(d)-l.start(d);return Math.max(u,c)/a*100},v=function(e,t,n,r){var a=e+t,i=o.default.createTimeRanges([[e,a]]),s=o.default.createTimeRanges([[u(e,[n,a]),a]]);if(s.start(0)===s.end(0))return 0;var l=y(s,i,n,r);return isNaN(l)||l===1/0||l===-(1/0)?0:l},g=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},b=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?1:arguments[2],r=e.length?e.end(e.length-1):0;return(r-t)/n};r.default={findRange:d,findNextRange:f,findGaps:p,findSoleUncommonTimeRangesEnd:h,getSegmentBufferedPercent:v,TIME_FUDGE_FACTOR:s,SAFE_TIME_DELTA:l,printableRange:g,timeUntilRebuffer:b},n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,n,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,i=t(a),o={errorInterval:30,getSource:function(e){var t=this.tech({IWillNotUseThisInPlugins:!0}),n=t.currentSource_;return e(n)}},s=function e(t,n){var r=0,a=0,s=i.default.mergeOptions(o,n);t.ready(function(){t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var l=function(){a&&t.currentTime(a)},u=function(e){null!==e&&void 0!==e&&(a=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",l),t.src(e),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},c=function(){return Date.now()-r<1e3*s.errorInterval?void t.trigger({type:"usage",name:"hls-error-reload-canceled"}):s.getSource&&"function"==typeof s.getSource?(r=Date.now(),s.getSource.call(t,u)):void i.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},d=function e(){t.off("loadedmetadata",l),t.off("error",c),t.off("dispose",e)},f=function(n){d(),e(t,n)};t.on("error",c),t.on("dispose",d),t.reloadSourceOnError=f},l=function(e){s(this,e)};r.default=l,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./playlist.js"),i=function(e,t,n){return function(r){var i=e.master.playlists[t],o=(0,a.isIncompatible)(i),s=(0,a.isEnabled)(i);return"undefined"==typeof r?s:(r?delete i.disabled:i.disabled=!0,r===s||o||(n(),r?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),r)}},o=function e(t,n,a){r(this,e);var o=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(n.attributes.RESOLUTION){var s=n.attributes.RESOLUTION;this.width=s.width,this.height=s.height}this.bandwidth=n.attributes.BANDWIDTH,this.id=a,this.enabled=i(t.playlists,n.uri,o);
},s=function(e){var t=e.playlists;e.representations=function(){return t.master.playlists.filter(function(e){return!(0,a.isIncompatible)(e)}).map(function(t,n){return new o(e,t,t.uri)})}};n.default=s,t.exports=n.default},{"./playlist.js":11}],15:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("url-toolkit"),i=r(a),o=e("global/window"),s=r(o),l=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=i.default.buildAbsoluteURL(s.default.location.href,e)),i.default.buildAbsoluteURL(e,t))};n.default=l,t.exports=n.default},{"global/window":32,"url-toolkit":63}],16:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("./playlist"),u=n(l),c="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,d=n(c),f=e("./source-updater"),p=n(f),h=e("./config"),m=n(h),y=e("global/window"),v=n(y),g=e("videojs-contrib-media-sources/es5/remove-cues-from-track.js"),b=n(g),_=e("./bin-utils"),w=e("./media-segment-request"),E=e("./ranges"),k=e("./playlist-selectors"),T=500,S=function(e,t,n){if(!e||!t)return!1;var r=e.segments,a=n===r.length;return e.endList&&"open"===t.readyState&&a},C=function(e){return"number"==typeof e&&isFinite(e)},P=function(e,t,n){return"main"===e&&t&&n?n.containsAudio||n.containsVideo?t.containsVideo&&!n.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&n.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};r.illegalMediaSwitch=P;var O=function(e,t,n){var r=void 0;return r=e.length&&e.start(0)>0&&e.start(0)<t?e.start(0):t-30,Math.min(r,t-n)};r.safeBackBufferTrimTime=O;var N=function(e){function t(e){var n=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return n.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return n.ended_=!1}),this.fetchAtBuffer_=!1,r.debug&&(this.logger_=d.default.log.bind(d.default,"segment-loader",this.loaderType_,"->"))}return i(t,e),o(t,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){return"WAITING"!==this.state?void(this.pendingSegment_&&(this.pendingSegment_=null)):(this.abort_(),this.state="READY",void(this.paused()||this.monitorBuffer_()))}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return"undefined"!=typeof e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():d.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,_.initSegmentId)(e),r=this.initSegments_[n];return t&&!r&&e.bytes&&(this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_)return this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new p.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var n=this.playlist_,r=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return void(null!==this.mediaIndex&&this.resyncLoader());var a=e.mediaSequence-n.mediaSequence;this.logger_("mediaSequenceDiff",a),null!==this.mediaIndex&&(this.mediaIndex-=a),r&&(r.mediaIndex-=a,r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(n,e)}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,b.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&v.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=v.default.setTimeout(this.monitorBufferTick_.bind(this),T)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e){var t=S(this.playlist_,this.mediaSource_,e.mediaIndex);return t?void this.endOfStream():void((e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e)))}}}},{key:"checkBuffer_",value:function(e,t,n,r,a,i){var o=0,s=void 0;e.length&&(o=e.end(e.length-1));var l=Math.max(0,o-a);if(!t.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!r&&l>=1)return null;if(this.logger_("checkBuffer_","mediaIndex:",n,"hasPlayed:",r,"currentTime:",a,"syncPoint:",i,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",l),null===i)return n=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",n),this.generateSegmentInfo_(t,n,null,!0);if(null!==n){this.logger_("walkForward","mediaIndex:",n+1);var c=t.segments[n];return s=c&&c.end?c.end:o,this.generateSegmentInfo_(t,n+1,s,!1)}if(this.fetchAtBuffer_){var d=u.default.getMediaInfoForTime(t,o,i.segmentIndex,i.time);n=d.mediaIndex,s=d.startTime}else{var d=u.default.getMediaInfoForTime(t,a,i.segmentIndex,i.time);n=d.mediaIndex,s=d.startTime}return this.logger_("getMediaIndexForTime","mediaIndex:",n,"startOfSegment:",s),this.generateSegmentInfo_(t,n,s,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(this.currentTimeline_===-1)return 0;var n=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return n.length?n[Math.min(n.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,n,r){if(t<0||t>=e.segments.length)return null;var a=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:t,isSyncRequest:r,startOfSegment:n,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),n=e.bandwidth,r=this.pendingSegment_.duration,a=u.default.estimateSegmentRequestTime(r,n,this.playlist_,e.bytesReceived),i=(0,E.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(a<=i)return!1;var o=(0,k.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:i,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var s=a-i,l=s-o.rebufferingImpact,c=.5;return i<=E.TIME_FUDGE_FACTOR&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*m.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,w.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=O(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,n={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var r=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key={resolvedUri:t.key.resolvedUri,iv:r}}return t.map&&(n.map=this.initSegment(t.map)),n}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),!this.pendingSegment_)return void(this.mediaRequestsAborted+=1);if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===w.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===w.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_)return void(this.state="READY");var t=this.pendingSegment_,n=t.segment,r=this.syncController_.probeSegmentInfo(t);"undefined"==typeof this.startingMedia_&&r&&(r.containsAudio||r.containsVideo)&&(this.startingMedia_={containsAudio:r.containsAudio,containsVideo:r.containsVideo});var a=P(this.loaderType_,this.startingMedia_,r);if(a)return this.error({message:a,blacklistDuration:1/0}),void this.trigger("error");if(t.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==t.timestampOffset&&t.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(t.timestampOffset),this.trigger("timestampoffset"));var i=this.syncController_.mappingForTimeline(t.timeline);null!==i&&this.trigger({type:"segmenttimemapping",mapping:i}),this.state="APPENDING",n.map&&!function(){var t=(0,_.initSegmentId)(n.map);if(!e.activeInitSegmentId_||e.activeInitSegmentId_!==t){var r=e.initSegment(n.map);e.sourceUpdater_.appendBuffer(r.bytes,function(){e.activeInitSegmentId_=t})}}(),t.byteLength=t.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(t.bytes,this.handleUpdateEnd_.bind(this))}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,n=null!==this.mediaIndex;if(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)return void this.resetEverything();n&&this.trigger("bandwidthupdate"),this.trigger("progress");var r=S(e.playlist,this.mediaSource_,e.mediaIndex+1);r&&this.endOfStream(),this.paused()||this.monitorBuffer_()}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(r-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,n=t.start,r=t.end;if(C(n)&&C(r)){(0,b.default)(n,r,this.segmentMetadataTrack_);var a=v.default.WebKitDataCue||v.default.VTTCue,i={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:n,end:r},o=JSON.stringify(i),s=new a(n,r,o);s.value=i,this.segmentMetadataTrack_.addCue(s)}}}}]),t}(d.default.EventTarget);r.default=N}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./media-segment-request":7,"./playlist":11,"./playlist-selectors":10,"./ranges":12,"./source-updater":17,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],17:[function(e,n,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,s=t(o),l=function(){},u=function(){function e(t,n){var r=this;a(this,e);var i=function(){r.sourceBuffer_=t.addSourceBuffer(n),r.onUpdateendCallback_=function(){var e=r.pendingCallback_;r.pendingCallback_=null,e&&e(),r.runCallback_()},r.sourceBuffer_.addEventListener("updateend",r.onUpdateendCallback_),r.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=t,this.processedAppend_=!1,"closed"===t.readyState?t.addEventListener("sourceopen",i):i()}return i(e,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var n=this;this.processedAppend_=!0,this.queueCallback_(function(){n.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:s.default.createTimeRanges()}},{key:"remove",value:function(e,t){var n=this;this.processedAppend_&&this.queueCallback_(function(){n.sourceBuffer_.remove(e,t)},l)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return"undefined"!=typeof e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),e}();r.default=u,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("mux.js/lib/mp4/probe"),u=n(l),c=e("mux.js/lib/tools/ts-inspector.js"),d=e("./playlist"),f="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,p=n(f),h=[{name:"VOD",run:function(e,t,n,r,a){if(n!==1/0){var i={time:0,segmentIndex:0};return i}return null}},{name:"ProgramDateTime",run:function(e,t,n,r,a){if(e.datetimeToDisplayTime&&t.dateTimeObject){var i=t.dateTimeObject.getTime()/1e3,o=i+e.datetimeToDisplayTime,s={time:o,segmentIndex:0};return s}return null}},{name:"Segment",run:function(e,t,n,r,a){var i=t.segments||[],o=null,s=null;a=a||0;for(var l=0;l<i.length;l++){var u=i[l];if(u.timeline===r&&"undefined"!=typeof u.start){var c=Math.abs(a-u.start);if(null!==s&&s<c)break;(!o||null===s||s>=c)&&(s=c,o={time:u.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(e,t,n,r,a){var i=null;if(a=a||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,s=0;s<t.discontinuityStarts.length;s++){var l=t.discontinuityStarts[s],u=t.discontinuitySequence+s+1,c=e.discontinuities[u];if(c){var d=Math.abs(a-c.time);if(null!==o&&o<d)break;(!i||null===o||o>=d)&&(o=d,i={time:c.time,segmentIndex:l})}}return i}},{name:"Playlist",run:function(e,t,n,r,a){if(t.syncInfo){var i={time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence};return i}return null}}];r.syncPointStrategies=h;var m=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=p.default.log.bind(p.default,"sync-controller ->"))}return i(t,e),o(t,[{key:"getSyncPoint",value:function(e,t,n,r){var a=this.runStrategies_(e,t,n,r);return a.length?this.selectSyncPoint_(a,{key:"time",value:r}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;var r=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+(0,d.sumDurations)(e,r.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,n,r){for(var a=[],i=0;i<h.length;i++){var o=h[i],s=o.run(this,e,t,n,r);s&&(s.strategy=o.name,a.push({strategy:o.name,syncPoint:s}),this.logger_("syncPoint found via <"+o.name+">:",s))}return a}},{key:"selectSyncPoint_",value:function(e,t){for(var n=e[0].syncPoint,r=Math.abs(e[0].syncPoint[t.key]-t.value),a=e[0].strategy,i=1;i<e.length;i++){var o=Math.abs(e[i].syncPoint[t.key]-t.value);o<r&&(r=o,n=e[i].syncPoint,a=e[i].strategy)}return this.logger_("syncPoint with strategy <"+a+"> chosen: ",n),n}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var n=t.mediaSequence-e.mediaSequence,r=n-1;r>=0;r--){var a=e.segments[r];if(a&&"undefined"!=typeof a.start){t.syncInfo={mediaSequence:e.mediaSequence+r,time:a.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,n=e.playlist,r=void 0;return r=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e),r&&this.calculateSegmentTimeMapping_(e,r)&&(this.saveDiscontinuitySyncInfo_(e),n.syncInfo||(n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:t.start})),r}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,n=u.default.timescale(t.map.bytes),r=u.default.startTime(n,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=r),{start:r,end:r+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,c.inspect)(e.bytes,this.inspectCache_),n=void 0,r=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,n=t.video[0].dtsTime,r=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,n=t.audio[0].dtsTime,r=t.audio[1].dtsTime),{start:n,end:r,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return"undefined"==typeof this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var n=e.segment,r=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),r={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=r,this.trigger("timestampoffset"),n.start=e.startOfSegment,n.end=t.end+r.mapping;else{if(!r)return!1;n.start=t.start+r.mapping,n.end=t.end+r.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts.length)for(var r=0;r<t.discontinuityStarts.length;r++){var a=t.discontinuityStarts[r],i=t.discontinuitySequence+r+1,o=a-e.mediaIndex,s=Math.abs(o);if(!this.discontinuities[i]||this.discontinuities[i].accuracy>s){var l=void 0;l=o<0?n.start-(0,d.sumDurations)(t,e.mediaIndex,a):n.end+(0,d.sumDurations)(t,e.mediaIndex+1,a),this.discontinuities[i]={time:l,accuracy:s}}}}},{key:"logger_",value:function(){}}]),t}(p.default.EventTarget);r.default=m}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./playlist":11,"mux.js/lib/mp4/probe":57,"mux.js/lib/tools/ts-inspector.js":59}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t={codecCount:0},n=void 0;return t.codecCount=e.split(",").length,t.codecCount=t.codecCount||2,n=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(e),n&&(t.videoCodec=n[2],t.videoObjectTypeIndicator=n[3]),t.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),t.audioProfile=t.audioProfile&&t.audioProfile[2],t};n.parseCodecs=r},{}],20:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},u=e("./segment-loader"),c=a(u),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,f=a(d),p=e("global/window"),h=a(p),m=e("videojs-contrib-media-sources/es5/remove-cues-from-track.js"),y=a(m),v=e("./bin-utils"),g=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),b=function(e){return String.fromCharCode.apply(null,e)},_=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.mediaSource_=null,this.subtitlesTrack_=null}return o(t,e),s(t,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return f.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return f.default.createTimeRanges([[t,n]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var n=(0,v.initSegmentId)(e),r=this.initSegments_[n];if(t&&!r&&e.bytes){var a=g.byteLength+e.bytes.byteLength,i=new Uint8Array(a);i.set(e.bytes),i.set(g,e.bytes.byteLength),this.initSegments_[n]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:i}}return r||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return"undefined"==typeof e?this.subtitlesTrack_:(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(e,t){(0,y.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){var n=function(){e.state="READY",e.paused()||e.monitorBuffer_()};return this.syncController_.one("timestampoffset",n),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var e=this;if(!this.pendingSegment_||!this.subtitlesTrack_)return void(this.state="READY");this.state="APPENDING";var t=this.pendingSegment_,n=t.segment;if("function"!=typeof h.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=function(){var t=function(){e.handleSegment_()};return e.state="WAITING_ON_VTTJS",e.subtitlesTrack_.tech_.one("vttjsloaded",t),e.subtitlesTrack_.tech_.one("vttjserror",function(){e.subtitlesTrack_.tech_.off("vttjsloaded",t),e.error({message:"Error loading vtt.js"}),e.state="READY",e.pause(),e.trigger("error")}),{v:void 0}}();if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(t)}catch(a){return this.error({message:a.message}),this.state="READY",this.pause(),this.trigger("error")}return this.updateTimeMapping_(t,this.syncController_.timelines[t.timeline],this.playlist_),t.isSyncRequest?(this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY")):(t.byteLength=t.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,t.cues.length&&this.remove(t.cues[0].endTime,t.cues[t.cues.length-1].endTime),t.cues.forEach(function(t){e.subtitlesTrack_.addCue(t)}),void this.handleUpdateEnd_())}},{key:"parseVTTCues_",value:function(e){var t=void 0,n=!1;"function"==typeof h.default.TextDecoder?t=new h.default.TextDecoder("utf8"):(t=h.default.WebVTT.StringDecoder(),n=!0);var r=new h.default.WebVTT.Parser(h.default,h.default.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){return e.timestampmap=t},r.onparsingerror=function(e){
f.default.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){var a=e.segment.map.bytes;n&&(a=b(a)),r.parse(a)}var i=e.bytes;n&&(i=b(i)),r.parse(i),r.flush()}},{key:"updateTimeMapping_",value:function(e,t,n){var r=e.segment;if(t){if(!e.cues.length)return void(r.empty=!0);var a=e.timestampmap,i=a.MPEGTS/9e4-a.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=i,e.endTime+=i}),!n.syncInfo){var o=e.cues[0].startTime,s=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(o,s-r.duration)}}}}}]),t}(c.default);r.default=_,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./segment-loader":16,"global/window":32,"videojs-contrib-media-sources/es5/remove-cues-from-track.js":72}],21:[function(e,n,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a="undefined"!=typeof window?window.videojs:"undefined"!=typeof e?e.videojs:null,i=t(a),o=function(){var e=function e(t,n){t=(0,a.mergeOptions)({timeout:45e3},t);var r=e.beforeRequest||i.default.Hls.xhr.beforeRequest;if(r&&"function"==typeof r){var o=r(t);o&&(t=o)}var s=(0,a.xhr)(t,function(e,t){var r=s.response;!e&&r&&(s.responseTime=Date.now(),s.roundTripTime=s.responseTime-s.requestTime,s.bytesReceived=r.byteLength||r.length,s.bandwidth||(s.bandwidth=Math.floor(s.bytesReceived/s.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(s.timedout=!0),e||s.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(s&&(r||s.responseText)))),n(e,s)}),l=s.abort;return s.abort=function(){return s.aborted=!0,l.apply(s,arguments)},s.uri=t.uri,s.requestTime=Date.now(),s};return e};r.default=o,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],r=t[4],a=n[4],i=void 0,o=void 0,s=void 0,l=[],u=[],c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,m=void 0;for(i=0;i<256;i++)u[(l[i]=i<<1^283*(i>>7))^i]=i;for(o=s=0;!r[o];o^=c||1,s=u[s]||1)for(p=s^s<<1^s<<2^s<<3^s<<4,p=p>>8^255&p^99,r[o]=p,a[p]=o,f=l[d=l[c=l[o]]],m=16843009*f^65537*d^257*c^16843008*o,h=257*l[p]^16843008*p,i=0;i<4;i++)t[i][o]=h=h<<24^h>>>8,n[i][p]=m=m<<24^m>>>8;for(i=0;i<5;i++)t[i]=t[i].slice(0),n[i]=n[i].slice(0);return e},o=null,s=function(){function e(t){r(this,e),o||(o=i()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var n=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=this._tables[0][4],d=this._tables[1],f=t.length,p=1;if(4!==f&&6!==f&&8!==f)throw new Error("Invalid aes key size");for(l=t.slice(0),u=[],this._key=[l,u],n=f;n<4*f+28;n++)s=l[n-1],(n%f===0||8===f&&n%f===4)&&(s=c[s>>>24]<<24^c[s>>16&255]<<16^c[s>>8&255]<<8^c[255&s],n%f===0&&(s=s<<8^s>>>24^p<<24,p=p<<1^283*(p>>7))),l[n]=l[n-f]^s;for(a=0;n;a++,n--)s=l[3&a?n:n-4],n<=4||a<4?u[a]=s:u[a]=d[0][c[s>>>24]]^d[1][c[s>>16&255]]^d[2][c[s>>8&255]]^d[3][c[255&s]]}return a(e,[{key:"decrypt",value:function(e,t,n,r,a,i){var o=this._key[1],s=e^o[0],l=r^o[1],u=n^o[2],c=t^o[3],d=void 0,f=void 0,p=void 0,h=o.length/4-2,m=void 0,y=4,v=this._tables[1],g=v[0],b=v[1],_=v[2],w=v[3],E=v[4];for(m=0;m<h;m++)d=g[s>>>24]^b[l>>16&255]^_[u>>8&255]^w[255&c]^o[y],f=g[l>>>24]^b[u>>16&255]^_[c>>8&255]^w[255&s]^o[y+1],p=g[u>>>24]^b[c>>16&255]^_[s>>8&255]^w[255&l]^o[y+2],c=g[c>>>24]^b[s>>16&255]^_[l>>8&255]^w[255&u]^o[y+3],y+=4,s=d,l=f,u=p;for(m=0;m<4;m++)a[(3&-m)+i]=E[s>>>24]<<24^E[l>>16&255]<<16^E[u>>8&255]<<8^E[255&c]^o[y++],d=s,s=l,l=u,u=c,c=d}}]),e}();n.default=s,t.exports=n.default},{}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("./stream"),u=r(l),c=function(e){function t(){a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,u.default),this.jobs=[],this.delay=1,this.timeout_=null}return i(t,e),o(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}(u.default);n.default=c,t.exports=n.default},{"./stream":26}],24:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./aes"),s=r(o),l=e("./async-stream"),u=r(l),c=e("pkcs7"),d=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},f=function(e,t,n){var r=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),a=new s.default(Array.prototype.slice.call(t)),i=new Uint8Array(e.byteLength),o=new Int32Array(i.buffer),l=void 0,u=void 0,c=void 0,f=void 0,p=void 0,h=void 0,m=void 0,y=void 0,v=void 0;for(l=n[0],u=n[1],c=n[2],f=n[3],v=0;v<r.length;v+=4)p=d(r[v]),h=d(r[v+1]),m=d(r[v+2]),y=d(r[v+3]),a.decrypt(p,h,m,y,o,v),o[v]=d(o[v]^l),o[v+1]=d(o[v+1]^u),o[v+2]=d(o[v+2]^c),o[v+3]=d(o[v+3]^f),l=p,u=h,c=m,f=y;return i};n.decrypt=f;var p=function(){function e(t,n,r,i){a(this,e);var o=e.STEP,s=new Int32Array(t.buffer),l=new Uint8Array(t.byteLength),f=0;for(this.asyncStream_=new u.default,this.asyncStream_.push(this.decryptChunk_(s.subarray(f,f+o),n,r,l)),f=o;f<s.length;f+=o)r=new Uint32Array([d(s[f-4]),d(s[f-3]),d(s[f-2]),d(s[f-1])]),this.asyncStream_.push(this.decryptChunk_(s.subarray(f,f+o),n,r,l));this.asyncStream_.push(function(){i(null,(0,c.unpad)(l))})}return i(e,[{key:"decryptChunk_",value:function(e,t,n,r){return function(){var a=f(e,t,n);r.set(a,e.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),e}();n.Decrypter=p,n.default={Decrypter:p,decrypt:f}},{"./aes":22,"./async-stream":23,pkcs7:28}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=e("./decrypter"),i=e("./async-stream"),o=r(i);n.default={decrypt:a.decrypt,Decrypter:a.Decrypter,AsyncStream:o.default},t.exports=n.default},{"./async-stream":23,"./decrypter":24}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.listeners={}}return a(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=void 0;return!!this.listeners[e]&&(n=this.listeners[e].indexOf(t),this.listeners[e].splice(n,1),n>-1)}},{key:"trigger",value:function(e){var t=void 0,n=void 0,r=void 0,a=void 0;if(t=this.listeners[e])if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(a=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,a)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();n.default=i,t.exports=n.default},{}],27:[function(e,t,n){"use strict";var r;t.exports=function(e){var t=r[e.byteLength%16||0],n=new Uint8Array(e.byteLength+t.length);return n.set(e),n.set(t,e.byteLength),n},r=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},{}],28:[function(e,t,n){"use strict";n.pad=e("./pad.js"),n.unpad=e("./unpad.js")},{"./pad.js":27,"./unpad.js":29}],29:[function(e,t,n){"use strict";t.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},{}],30:[function(e,t,n){},{}],31:[function(e,n,r){(function(t){var r,a="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},i=e("min-document");"undefined"!=typeof document?r=document:(r=a["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=a["__GLOBAL_DOCUMENT_CACHE@4"]=i)),n.exports=r}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":30}],32:[function(e,n,r){(function(e){var t;t="undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=e("./line-stream"),i=r(a),o=e("./parse-stream"),s=r(o),l=e("./parser"),u=r(l);t.exports={LineStream:i.default,ParseStream:s.default,Parser:u.default}},{"./line-stream":34,"./parse-stream":35,"./parser":36}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=e("./stream"),u=r(l),c=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return o(t,e),s(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}(u.default);n.default=c},{"./stream":37}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./stream"),c=r(u),d=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},f=function(e){for(var t=e.split(d()),n={},r=t.length,a=void 0;r--;)""!==t[r]&&(a=/([^=]*)=(.*)/.exec(t[r]).slice(1),a[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),n[a[0]]=a[1]);return n},p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return o(t,e),l(t,[{key:"push",value:function(e){var t=void 0,n=void 0;if(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,""),0!==e.length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});if(0!==e.indexOf("#EXT"))return void this.trigger("data",{type:"comment",text:e.slice(1)});if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))return void this.trigger("data",{type:"tag",tagType:"m3u"});if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"totalduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return n={type:"tag",tagType:"byterange"},t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"map"},t[1]){var r=f(t[1]);if(r.URI&&(n.uri=r.URI),r.BYTERANGE){var a=r.BYTERANGE.split("@"),i=s(a,2),o=i[0],l=i[1];n.byterange={},o&&(n.byterange.length=parseInt(o,10)),l&&(n.byterange.offset=parseInt(l,10))}}return void this.trigger("data",n)}if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(n={type:"tag",tagType:"stream-inf"},t[1]){if(n.attributes=f(t[1]),n.attributes.RESOLUTION){var u=n.attributes.RESOLUTION.split("x"),c={};u[0]&&(c.width=parseInt(u[0],10)),u[1]&&(c.height=parseInt(u[1],10)),n.attributes.RESOLUTION=c}n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))}return void this.trigger("data",n)}return(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))?(n={type:"tag",tagType:"media"},t[1]&&(n.attributes=f(t[1])),void this.trigger("data",n)):(t=/^#EXT-X-ENDLIST/.exec(e))?void this.trigger("data",{type:"tag",tagType:"endlist"}):(t=/^#EXT-X-DISCONTINUITY/.exec(e))?void this.trigger("data",{type:"tag",tagType:"discontinuity"}):(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))?(n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n)):(t=/^#EXT-X-KEY:?(.*)$/.exec(e))?(n={type:"tag",tagType:"key"},t[1]&&(n.attributes=f(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))?(n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n)):void this.trigger("data",{type:"tag",data:e.slice(4)})}}}]),t}(c.default);n.default=p},{"./stream":37}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=e("./stream"),c=r(u),d=e("./line-stream"),f=r(d),p=e("./parse-stream"),h=r(p),m=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new f.default,e.parseStream=new h.default,e.lineStream.pipe(e.parseStream);var n=e,r=[],o={},l=void 0,u=void 0,c=function(){},d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},p=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(e){var t=void 0,a=void 0;({tag:function(){(({"allow-cache":function(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function t(){var t={};"length"in e&&(o.byterange=t,t.length=e.length,"offset"in e||(this.trigger("info",{message:"defaulting offset to zero"}),e.offset=0)),"offset"in e&&(o.byterange=t,t.offset=e.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.duration>0&&(o.duration=e.duration),0===e.duration&&(o.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){return e.attributes?"NONE"===e.attributes.METHOD?void(u=null):e.attributes.URI?(e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void("undefined"!=typeof e.attributes.IV&&(u.iv=e.attributes.IV))):void this.trigger("warn",{message:"ignoring key declaration without URI"}):void this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){return isFinite(e.number)?void(this.manifest.mediaSequence=e.number):void this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence":function(){return isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,void(p=e.number)):void this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type":function(){return/VOD|EVENT/.test(e.playlistType)?void(this.manifest.playlistType=e.playlistType):void this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map:function(){l={},e.uri&&(l.uri=e.uri),e.byterange&&(l.byterange=e.byterange)},"stream-inf":function(){return this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||d,e.attributes?(o.attributes||(o.attributes={}),void s(o.attributes,e.attributes)):void this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});var n=this.manifest.mediaGroups[e.attributes.TYPE];n[e.attributes["GROUP-ID"]]=n[e.attributes["GROUP-ID"]]||{},t=n[e.attributes["GROUP-ID"]],a={default:/yes/i.test(e.attributes.DEFAULT)},a.default?a.autoselect=!0:a.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(a.language=e.attributes.LANGUAGE),e.attributes.URI&&(a.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(a.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(a.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(a.forced=/yes/i.test(e.attributes.FORCED)),t[e.attributes.NAME]=a},discontinuity:function(){p+=1,o.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject},targetduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):void(this.manifest.targetDuration=e.duration)},totalduration:function(){return!isFinite(e.duration)||e.duration<0?void this.trigger("warn",{message:"ignoring invalid total duration: "+e.duration}):void(this.manifest.totalDuration=e.duration)},"cue-out":function(){o.cueOut=e.data},"cue-out-cont":function(){o.cueOutCont=e.data},"cue-in":function(){o.cueIn=e.data}})[e.tagType]||c).call(n)},uri:function(){o.uri=e.uri,r.push(o),!this.manifest.targetDuration||"duration"in o||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),o.duration=this.manifest.targetDuration),u&&(o.key=u),o.timeline=p,l&&(o.map=l),o={}},comment:function(){}})[e.type].call(n)}),e}return o(t,e),l(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}(c.default);n.default=m},{"./line-stream":34,"./parse-stream":35,"./stream":37}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.listeners={}}return a(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e].splice(n,1),n>-1}},{key:"trigger",value:function(e){var t=this.listeners[e],n=void 0,r=void 0,a=void 0;if(t)if(2===arguments.length)for(r=t.length,n=0;n<r;++n)t[n].call(this,arguments[1]);else for(a=Array.prototype.slice.call(arguments,1),r=t.length,n=0;n<r;++n)t[n].apply(this,a)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(e){this.on("data",function(t){e.push(t)})}}]),e}();n.default=i},{}],38:[function(e,t,n){"use strict";var r,a=e("../utils/stream.js");r=function(){var e=new Uint8Array,t=0;r.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.parseId3TagSize=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],a=(16&r)>>4;return a?n+20:n+10},this.parseAdtsSize=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,a=6144&e[t+3];return a|r|n},this.push=function(n){var r,a,i,o,s=0,l=0;for(e.length?(o=e.length,e=new Uint8Array(n.byteLength+o),e.set(e.subarray(0,o)),e.set(n,o)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(e[l]&!0&&240===(240&e[l+1])){if(e.length-l<7)break;if(s=this.parseAdtsSize(e,l),s>e.length)break;i={type:"audio",data:e.subarray(l,l+s),pts:t,dts:t},this.trigger("data",i),l+=s}else l++;else{if(e.length-l<10)break;if(s=this.parseId3TagSize(e,l),s>e.length)break;a={type:"timed-metadata",data:e.subarray(l,l+s)},this.trigger("data",a),l+=s}r=e.length-l,e=r>0?e.subarray(l):new Uint8Array}},r.prototype=new a,t.exports=r},{"../utils/stream.js":62}],39:[function(e,t,n){"use strict";var r=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],a=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},i=function(e,t,n){var r,a="";for(r=t;r<n;r++)a+="%"+("00"+e[r].toString(16)).slice(-2);return a},o=function(e,t,n){return unescape(i(e,t,n))},s=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],r=e[t+5],a=(16&r)>>4;return a?n+20:n+10},l=function(e,t){var n=(224&e[t+5])>>5,r=e[t+4]<<3,a=6144&e[t+3];return a|r|n},u=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":e[t]&!0&&240===(240&e[t+1])?"audio":null},c=function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240===(246&e[t+1]))return r[(60&e[t+2])>>>2];t++}return null},d=function(e){var t,n,r,i;t=10,64&e[5]&&(t+=4,t+=a(e.subarray(10,14)));do{if(n=a(e.subarray(t+4,t+8)),n<1)return null;if(i=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===i){r=e.subarray(t+10,t+n+10);for(var s=0;s<r.byteLength;s++)if(0===r[s]){var l=o(r,0,s);if("com.apple.streaming.transportStreamTimestamp"===l){var u=r.subarray(s+1),c=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return c*=4,c+=3&u[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null};t.exports={parseId3TagSize:s,parseAdtsSize:l,parseType:u,parseSampleRate:c,parseAacTimestamp:d}},{}],40:[function(e,t,n){"use strict";var r,a=e("../utils/stream.js"),i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=function(){var e;r.prototype.init.call(this),this.push=function(t){var n,r,a,o,s,l,u=0,c=0;if("audio"===t.type)for(e?(o=e,e=new Uint8Array(o.byteLength+t.data.byteLength),e.set(o),e.set(t.data,o.byteLength)):e=t.data;u+5<e.length;)if(255===e[u]&&240===(246&e[u+1])){if(r=2*(1&~e[u+1]),n=(3&e[u+3])<<11|e[u+4]<<3|(224&e[u+5])>>5,s=1024*((3&e[u+6])+1),l=9e4*s/i[(60&e[u+2])>>>2],a=u+n,e.byteLength<a)return;if(this.trigger("data",{pts:t.pts+c*l,dts:t.dts+c*l,sampleCount:s,audioobjecttype:(e[u+2]>>>6&3)+1,channelcount:(1&e[u+2])<<2|(192&e[u+3])>>>6,samplerate:i[(60&e[u+2])>>>2],samplingfrequencyindex:(60&e[u+2])>>>2,samplesize:16,data:e.subarray(u+7+r,a)}),e.byteLength===a)return void(e=void 0);c++,e=e.subarray(a)}else u++},this.flush=function(){this.trigger("done")}},r.prototype=new a,t.exports=r},{"../utils/stream.js":62}],41:[function(e,t,n){"use strict";var r,a,i,o=e("../utils/stream.js"),s=e("../utils/exp-golomb.js");a=function(){var e,t,n=0;a.prototype.init.call(this),this.push=function(r){var a;for(t?(a=new Uint8Array(t.byteLength+r.data.byteLength),a.set(t),a.set(r.data,t.byteLength),t=a):t=r.data;n<t.byteLength-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<t.byteLength;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do e++;while(1!==t[e]&&e<t.length);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")}},a.prototype=new o,i={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},r=function(){var e,t,n,o,l,u,c,d=new a;r.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,o=e.dts,d.push(e))},d.on("data",function(r){var a={trackId:t,pts:n,dts:o,data:r};switch(31&r[0]){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=l(r.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=l(r.subarray(1)),a.config=u(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",a)}),d.on("done",function(){e.trigger("done")}),this.flush=function(){d.flush()},c=function(e,t){var n,r,a=8,i=8;for(n=0;n<e;n++)0!==i&&(r=t.readExpGolomb(),i=(a+r+256)%256),a=0===i?a:i},l=function(e){for(var t,n,r=e.byteLength,a=[],i=1;i<r-2;)0===e[i]&&0===e[i+1]&&3===e[i+2]?(a.push(i+2),i+=2):i++;if(0===a.length)return e;t=r-a.length,n=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===a[0]&&(o++,a.shift()),n[i]=e[o];return n},u=function(e){var t,n,r,a,o,l,u,d,f,p,h,m,y,v,g=0,b=0,_=0,w=0,E=1;if(t=new s(e),n=t.readUnsignedByte(),a=t.readUnsignedByte(),r=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),i[n]&&(o=t.readUnsignedExpGolomb(),3===o&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==o?8:12,v=0;v<h;v++)t.readBoolean()&&(v<6?c(16,t):c(64,t));if(t.skipUnsignedExpGolomb(),l=t.readUnsignedExpGolomb(),0===l)t.readUnsignedExpGolomb();else if(1===l)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),u=t.readUnsignedExpGolomb(),v=0;v<u;v++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),p=t.readBits(1),0===p&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(g=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),_=t.readUnsignedExpGolomb(),w=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(y=t.readUnsignedByte()){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;
case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}m&&(E=m[0]/m[1])}return{profileIdc:n,levelIdc:r,profileCompatibility:a,width:Math.ceil((16*(d+1)-2*g-2*b)*E),height:(2-p)*(f+1)*16-2*_-2*w}}},r.prototype=new o,t.exports={H264Stream:r,NalByteStream:a}},{"../utils/exp-golomb.js":61,"../utils/stream.js":62}],42:[function(e,t,n){var r=[33,16,5,32,164,27],a=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],i=function(e){for(var t=[];e--;)t.push(0);return t},o=function(e){return Object.keys(e).reduce(function(t,n){return t[n]=new Uint8Array(e[n].reduce(function(e,t){return e.concat(t)},[])),t},{})},s={96e3:[r,[227,64],i(154),[56]],88200:[r,[231],i(170),[56]],64e3:[r,[248,192],i(240),[56]],48e3:[r,[255,192],i(268),[55,148,128],i(54),[112]],44100:[r,[255,192],i(268),[55,163,128],i(84),[112]],32e3:[r,[255,192],i(268),[55,234],i(226),[112]],24e3:[r,[255,192],i(268),[55,255,128],i(268),[111,112],i(126),[224]],16e3:[r,[255,192],i(268),[55,255,128],i(268),[111,255],i(269),[223,108],i(195),[1,192]],12e3:[a,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,253,128],i(259),[56]],11025:[a,i(268),[3,127,248],i(268),[6,255,240],i(268),[13,255,224],i(268),[27,255,192],i(268),[55,175,128],i(108),[112]],8e3:[a,i(268),[3,121,16],i(47),[7]]};t.exports=o(s)},{}],43:[function(e,t,n){"use strict";var r=e("../utils/stream.js"),a=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,a.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};a.prototype=new r,a.prototype.flush=function(e){var t,n,r,a,i={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?a=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts),i.tags.videoTags=this.videoTags,i.tags.audioTags=this.audioTags,r=0;r<this.pendingCaptions.length;r++)n=this.pendingCaptions[r],n.startTime=n.startPts-a,n.startTime/=9e4,n.endTime=n.endPts-a,n.endTime/=9e4,i.captionStreams[n.stream]=!0,i.captions.push(n);for(r=0;r<this.pendingMetadata.length;r++)t=this.pendingMetadata[r],t.cueTime=t.pts-a,t.cueTime/=9e4,i.metadata.push(t);i.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",i),this.trigger("done")}},t.exports=a},{"../utils/stream.js":62}],44:[function(e,t,n){"use strict";var r=e("./flv-tag.js"),a=function(e,t,n){var a,i,o,s=new Uint8Array(9),l=new DataView(s.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,l.setUint8(0,70),l.setUint8(1,76),l.setUint8(2,86),l.setUint8(3,1),l.setUint8(4,(t?4:0)|(n?1:0)),l.setUint32(5,s.byteLength),e<=0?(i=new Uint8Array(s.byteLength+4),i.set(s),i.set([0,0,0,0],s.byteLength),i):(a=new r(r.METADATA_TAG),a.pts=a.dts=0,a.writeMetaDataDouble("duration",e),o=a.finalize().length,i=new Uint8Array(s.byteLength+o),i.set(s),i.set(l.byteLength,o),i)};t.exports=a},{"./flv-tag.js":45}],45:[function(e,t,n){"use strict";var r;r=function(e,t){var n,a=0,i=16384,o=function(e,t){var n,r=e.position+t;r<e.bytes.byteLength||(n=new Uint8Array(2*r),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=r.widthBytes||new Uint8Array("width".length),l=r.heightBytes||new Uint8Array("height".length),u=r.videocodecidBytes||new Uint8Array("videocodecid".length);if(!r.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)l[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)u[n]="videocodecid".charCodeAt(n);r.widthBytes=s,r.heightBytes=l,r.videocodecidBytes=u}switch(this.keyFrame=!1,e){case r.VIDEO_TAG:this.length=16,i*=6;break;case r.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case r.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(i),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var r,a=t||0;n=n||e.byteLength,r=a+n,o(this,n),this.bytes.set(e.subarray(a,r),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===a?0:this.length-(a+4)},this.startNalUnit=function(){if(a>0)throw new Error("Attempted to create new NAL wihout closing the old one");a=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===a+4?this.length-=4:a>0&&(t=a+4,n=this.length-t,this.position=a,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),a=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(l,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++a},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++a},this.finalize=function(){var e,n;switch(this.bytes[0]){case r.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case r.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case r.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,a),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=r.frameTime(this.bytes),this}},r.AUDIO_TAG=8,r.VIDEO_TAG=9,r.METADATA_TAG=18,r.isAudioFrame=function(e){return r.AUDIO_TAG===e[0]},r.isVideoFrame=function(e){return r.VIDEO_TAG===e[0]},r.isMetaData=function(e){return r.METADATA_TAG===e[0]},r.isKeyFrame=function(e){return r.isVideoFrame(e)?23===e[11]:!!r.isAudioFrame(e)||!!r.isMetaData(e)},r.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},t.exports=r},{}],46:[function(e,t,n){t.exports={tag:e("./flv-tag"),Transmuxer:e("./transmuxer"),getFlvHeader:e("./flv-header")}},{"./flv-header":44,"./flv-tag":45,"./transmuxer":48}],47:[function(e,t,n){"use strict";var r=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};t.exports=r},{}],48:[function(e,t,n){"use strict";var r,a,i,o,s,l,u=e("../utils/stream.js"),c=e("./flv-tag.js"),d=e("../m2ts/m2ts.js"),f=e("../codecs/adts.js"),p=e("../codecs/h264").H264Stream,h=e("./coalesce-stream.js"),m=e("./tag-list.js");o=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new c(c.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},l=function(e,t){var n,r=new c(c.VIDEO_TAG,(!0));for(r.dts=t,r.pts=t,r.writeByte(1),r.writeByte(e.profileIdc),r.writeByte(e.profileCompatibility),r.writeByte(e.levelIdc),r.writeByte(255),r.writeByte(225),r.writeShort(e.sps[0].length),r.writeBytes(e.sps[0]),r.writeByte(e.pps.length),n=0;n<e.pps.length;++n)r.writeShort(e.pps[n].length),r.writeBytes(e.pps[n]);return r},i=function(e){var t,n=[],r=[];i.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var a,i,o,s=new m;if(0===n.length)return void this.trigger("done","AudioSegmentStream");for(o=-(1/0);n.length;)a=n.shift(),r.length&&a.pts>=r[0]&&(o=r.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||a.pts-o>=1e3)&&(this.writeMetaDataTags(s,a.pts),t=e.extraData,o=a.pts),i=new c(c.AUDIO_TAG),i.pts=a.pts,i.dts=a.dts,i.writeBytes(a.data),s.push(i.finalize());r.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,n){var r;r=new c(c.METADATA_TAG),r.pts=n,r.dts=n,r.writeMetaDataDouble("audiocodecid",10),r.writeMetaDataBoolean("stereo",2===e.channelcount),r.writeMetaDataDouble("audiosamplerate",e.samplerate),r.writeMetaDataDouble("audiosamplesize",16),t.push(r.finalize()),r=new c(c.AUDIO_TAG,(!0)),r.pts=n,r.dts=n,r.view.setUint16(r.position,e.extraData),r.position+=2,r.length=Math.max(r.length,r.position),t.push(r.finalize())},this.onVideoKeyFrame=function(e){r.push(e)}},i.prototype=new u,a=function(e){var t,n,r=[];a.prototype.init.call(this),this.finishFrame=function(r,a){if(a){if(t&&e&&e.newMetadata&&(a.keyFrame||0===r.length)){var i=s(t,a.dts).finalize(),o=l(e,a.dts).finalize();i.metaDataTag=o.metaDataTag=!0,r.push(i),r.push(o),e.newMetadata=!1,this.trigger("keyframe",a.dts)}a.endNalUnit(),r.push(a.finalize()),n=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),r.push(t)},this.flush=function(){for(var a,i=new m;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return void this.trigger("done","VideoSegmentStream");for(;r.length;)a=r.shift(),"seq_parameter_set_rbsp"===a.nalUnitType?(e.newMetadata=!0,t=a.config,e.width=t.width,e.height=t.height,e.sps=[a.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===a.nalUnitType?(e.newMetadata=!0,e.pps=[a.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===a.nalUnitType?(n&&this.finishFrame(i,n),n=new c(c.VIDEO_TAG),n.pts=a.pts,n.dts=a.dts):("slice_layer_without_partitioning_rbsp_idr"===a.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(a.data);n&&this.finishFrame(i,n),this.trigger("data",{track:e,tags:i.list}),this.trigger("done","VideoSegmentStream")}},a.prototype=new u,r=function(e){var t,n,o,s,l,u,c,m,y,v,g,b,_=this;r.prototype.init.call(this),e=e||{},this.metadataStream=new d.MetadataStream,e.metadataStream=this.metadataStream,t=new d.TransportPacketStream,n=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),l=new d.TimestampRolloverStream("audio"),u=new d.TimestampRolloverStream("timed-metadata"),c=new f,m=new p,b=new h(e),t.pipe(n).pipe(o),o.pipe(s).pipe(m),o.pipe(l).pipe(c),o.pipe(u).pipe(this.metadataStream).pipe(b),g=new d.CaptionStream,m.pipe(g).pipe(b),o.on("data",function(e){var t,n,r;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(r=e.tracks[t]);n&&!y&&(b.numberOfTracks++,y=new a(n),m.pipe(y).pipe(b)),r&&!v&&(b.numberOfTracks++,v=new i(r),c.pipe(v).pipe(b),y&&y.on("keyframe",v.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){g.reset()},b.on("data",function(e){_.trigger("data",e)}),b.on("done",function(){_.trigger("done")})},r.prototype=new u,t.exports=r},{"../codecs/adts.js":40,"../codecs/h264":41,"../m2ts/m2ts.js":50,"../utils/stream.js":62,"./coalesce-stream.js":43,"./flv-tag.js":45,"./tag-list.js":47}],49:[function(e,t,n){"use strict";var r=4,a=128,i=e("../utils/stream"),o=function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,o=0;t<e.byteLength&&e[t]!==a;){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)o+=255,t++;if(o+=e[t++],!n.payload&&i===r){n.payloadType=i,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}t+=o,i=0,o=0}return n},s=function(e){return 181!==e.payload[0]?null:49!==(e.payload[1]<<8|e.payload[2])?null:"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])?null:3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},l=function(e,t){var n,r,a,i,o=[];if(!(64&t[0]))return o;for(r=31&t[0],n=0;n<r;n++)a=3*n,i={type:3&t[a+2],pts:e},4&t[a+2]&&(i.ccData=t[a+3]<<8|t[a+4],o.push(i));return o},u=function(){u.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new m(0,0),new m(0,1),new m(1,0),new m(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};u.prototype=new i,u.prototype.push=function(e){var t,n;if("sei_rbsp"===e.nalUnitType&&(t=o(e.escapedRBSP),t.payloadType===r&&(n=s(t)))){if(e.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return void(this.ignoreNextEqualDts_=!1);this.captionPackets_=this.captionPackets_.concat(l(e.pts,n)),this.latestDts_=e.dts}},u.prototype.flush=function(){return this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,void this.ccStreams_.forEach(function(e){e.flush()},this)):void this.ccStreams_.forEach(function(e){e.flush()},this)},u.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},u.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},u.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},u.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)};var c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},d=function(e){return null===e?"":(e=c[e]||e,String.fromCharCode(e))},f=14,p=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],h=function(){for(var e=[],t=f+1;t--;)e.push("");return e},m=function(e,t){m.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(e){var t,n,r,a,i;if(t=32639&e.ccData,t===this.lastControlCode_)return void(this.lastControlCode_=null);if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),r=t>>>8,a=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=f-1,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=f-2,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=f-3,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[f]=this.nonDisplayed_[f].slice(0,-1):this.displayed_[f]=this.displayed_[f].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=h();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=h();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(r,a))r=(3&r)<<8,i=d(r|a),this[this.mode_](e.pts,i),this.column_++;else if(this.isExtCharacter(r,a))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[f]=this.displayed_[f].slice(0,-1),r=(3&r)<<8,i=d(r|a),this[this.mode_](e.pts,i),this.column_++;else if(this.isMidRowCode(r,a))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&a)&&this.addFormatting(e.pts,["i"]),1===(1&a)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(r,a))this.column_+=3&a;else if(this.isPAC(r,a)){var o=p.indexOf(7968&t);o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&a&&this.formatting_.indexOf("u")===-1&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(a)&&14===(14&a)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(r)&&(0===a&&(a=null),i=d(r),i+=d(a),this[this.mode_](e.pts,i),this.column_+=i.length)}};m.prototype=new i,m.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},m.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=h(),this.nonDisplayed_=h(),this.lastControlCode_=null,this.column_=0,this.row_=f,this.formatting_=[]},m.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},m.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},m.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},m.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},m.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},m.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},m.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},m.prototype.isNormalChar=function(e){return e>=32&&e<=127},m.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},m.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},m.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},m.prototype.rollUp=function(e,t){var n=this.displayed_[f];n+=t,this.displayed_[f]=n},m.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<f;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[f]=""},m.prototype.paintOn=function(){},t.exports={CaptionStream:u,Cea608Stream:m}},{"../utils/stream":62}],50:[function(e,t,n){"use strict";var r,a,i,o=e("../utils/stream.js"),s=e("./caption-stream"),l=e("./stream-types"),u=e("./timestamp-rollover-stream").TimestampRolloverStream,c=e("./stream-types.js"),d=188,f=71;r=function(){var e=new Uint8Array(d),t=0;r.prototype.init.call(this),this.push=function(n){var r,a=0,i=d;for(t?(r=new Uint8Array(n.byteLength+t),r.set(e.subarray(0,t)),r.set(n,t),t=0):r=n;i<r.byteLength;)r[a]!==f||r[i]!==f?(a++,i++):(this.trigger("data",r.subarray(a,i)),a+=d,i+=d);a<r.byteLength&&(e.set(r.subarray(a),0),t=r.byteLength-a)},this.flush=function(){t===d&&e[0]===f&&(this.trigger("data",e),t=0),this.trigger("done")}},r.prototype=new o,a=function(){var e,t,n,r;a.prototype.init.call(this),r=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,r){var a=0;r.payloadUnitStartIndicator&&(a+=e[a]+1),"pat"===r.type?t(e.subarray(a),r):n(e.subarray(a),r)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],r.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=r.pmtPid},n=function(e,t){var n,a,i,o;if(1&e[5]){for(r.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],a=3+n-4,i=(15&e[10])<<8|e[11],o=12+i;o<a;){var s=e[o],u=(31&e[o+1])<<8|e[o+2];s===l.H264_STREAM_TYPE&&null===r.programMapTable.video?r.programMapTable.video=u:s===l.ADTS_STREAM_TYPE&&null===r.programMapTable.audio?r.programMapTable.audio=u:s===l.METADATA_STREAM_TYPE&&(r.programMapTable["timed-metadata"][u]=s),o+=((15&e[o+3])<<8|e[o+4])+5}t.programMapTable=r.programMapTable}},this.push=function(t){var n={},r=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(r+=t[r]+1),0===n.pid)n.type="pat",e(t.subarray(r),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(r),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,r,n]):this.processPes_(t,r,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=l.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=l.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},a.prototype=new o,a.STREAM_TYPES={h264:27,adts:15},i=function(){var e=this,t={data:[],size:0},n={data:[],size:0},r={data:[],size:0},a=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},o=function(t,n,r){var i,o=new Uint8Array(t.size),s={type:n},l=0,u=0,c=!1;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,l=0;l<t.data.length;l++)i=t.data[l],o.set(i.data,u),u+=i.data.byteLength;a(o,s),c="video"===n||s.packetLength<=t.size,(r||c)&&(t.size=0,t.data.length=0),c&&e.trigger("data",s)}};i.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,i;switch(a.streamType){case l.H264_STREAM_TYPE:case c.H264_STREAM_TYPE:e=t,i="video";break;case l.ADTS_STREAM_TYPE:e=n,i="audio";break;case l.METADATA_STREAM_TYPE:e=r,i="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(e,i,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var t={type:"metadata",tracks:[]},n=a.programMapTable;null!==n.video&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.video,codec:"avc",type:"video"}),null!==n.audio&&t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+n.audio,codec:"adts",type:"audio"}),e.trigger("data",t)}})[a.type]()},this.flush=function(){o(t,"video"),o(n,"audio"),o(r,"timed-metadata"),this.trigger("done")}},i.prototype=new o;var p={PAT_PID:0,MP2T_PACKET_LENGTH:d,TransportPacketStream:r,TransportParseStream:a,ElementaryStream:i,TimestampRolloverStream:u,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:e("./metadata-stream")};for(var h in l)l.hasOwnProperty(h)&&(p[h]=l[h]);t.exports=p},{"../utils/stream.js":62,"./caption-stream":49,"./metadata-stream":51,"./stream-types":53,"./stream-types.js":53,"./timestamp-rollover-stream":54}],51:[function(e,t,n){"use strict";var r,a=e("../utils/stream"),i=e("./stream-types"),o=function(e,t,n){var r,a="";for(r=t;r<n;r++)a+="%"+("00"+e[r].toString(16)).slice(-2);return a},s=function(e,t,n){return decodeURIComponent(o(e,t,n))},l=function(e,t,n){return unescape(o(e,t,n))},u=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},c={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=l(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};r=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},a=0,o=[],s=0;if(r.prototype.init.call(this),this.dispatchType=i.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,r,i,l,d,f;if("timed-metadata"===e.type){if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))return void(n.debug&&console.log("Skipping unrecognized metadata packet"));if(o.push(e),s+=e.data.byteLength,1===o.length&&(a=u(e.data.subarray(6,10)),a+=10),!(s<a)){for(t={data:new Uint8Array(a),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<a;)t.data.set(o[0].data.subarray(0,a-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();r=10,64&t.data[5]&&(r+=4,r+=u(t.data.subarray(10,14)),a-=u(t.data.subarray(16,20)));do{if(i=u(t.data.subarray(r+4,r+8)),i<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(f=String.fromCharCode(t.data[r],t.data[r+1],t.data[r+2],t.data[r+3]),l={id:f,data:t.data.subarray(r+10,r+i+10)},l.key=l.id,c[l.id]&&(c[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var p=l.data,h=(1&p[3])<<30|p[4]<<22|p[5]<<14|p[6]<<6|p[7]>>>2;h*=4,h+=3&p[7],l.timeStamp=h,void 0===t.pts&&void 0===t.dts&&(t.pts=l.timeStamp,t.dts=l.timeStamp),this.trigger("timestamp",l)}t.frames.push(l),r+=10,r+=i}while(r<a);this.trigger("data",t)}}}},r.prototype=new a,t.exports=r},{"../utils/stream":62,"./stream-types":53}],52:[function(e,t,n){"use strict";var r=e("./stream-types.js"),a=function(e){var t=31&e[1];return t<<=8,t|=e[2]},i=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e,t){var n=a(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},l=function(e){var t=i(e),n=4+o(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},u=function(e){var t={},n=i(e),r=4+o(e);if(n&&(r+=e[r]+1),1&e[r+5]){var a,s,l;a=(15&e[r+1])<<8|e[r+2],s=3+a-4,l=(15&e[r+10])<<8|e[r+11];for(var u=12+l;u<s;){var c=r+u;t[(31&e[c+1])<<8|e[c+2]]=e[c],u+=((15&e[c+3])<<8|e[c+4])+5}return t}},c=function(e,t){var n=a(e),i=t[n];switch(i){case r.H264_STREAM_TYPE:return"video";case r.ADTS_STREAM_TYPE:return"audio";case r.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(e){var t=i(e);if(!t)return null;var n=4+o(e);if(n>=e.byteLength)return null;var r,a=null;return r=e[n+7],192&r&&(a={},a.pts=(14&e[n+9])<<27|(255&e[n+10])<<20|(254&e[n+11])<<12|(255&e[n+12])<<5|(254&e[n+13])>>>3,a.pts*=4,a.pts+=(6&e[n+13])>>>1,a.dts=a.pts,64&r&&(a.dts=(14&e[n+14])<<27|(255&e[n+15])<<20|(254&e[n+16])<<12|(255&e[n+17])<<5|(254&e[n+18])>>>3,a.dts*=4,a.dts+=(6&e[n+18])>>>1)),a},f=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},p=function(e){for(var t,n=4+o(e),r=e.subarray(n),a=0,i=0,s=!1;i<r.byteLength-3;i++)if(1===r[i+2]){a=i+5;break}for(;a<r.byteLength;)switch(r[a]){case 0:if(0!==r[a-1]){a+=2;break}if(0!==r[a-2]){a++;break}i+3!==a-2&&(t=f(31&r[i+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0));do a++;while(1!==r[a]&&a<r.length);i=a-2,a+=3;break;case 1:if(0!==r[a-1]||0!==r[a-2]){a+=3;break}t=f(31&r[i+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0),i=a-2,a+=3;break;default:a+=3}return r=r.subarray(i),a-=i,i=0,r&&r.byteLength>3&&(t=f(31&r[i+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0)),s};t.exports={parseType:s,parsePat:l,parsePmt:u,parsePayloadUnitStartIndicator:i,parsePesType:c,parsePesTime:d,videoPacketContainsKeyFrame:p}},{"./stream-types.js":53}],53:[function(e,t,n){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},{}],54:[function(e,t,n){"use strict";var r=e("../utils/stream"),a=8589934592,i=4294967296,o=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>i;)e+=n*a;return e},s=function(e){var t,n;s.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===n&&(n=e.dts),e.dts=o(e.dts,n),e.pts=o(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.discontinuity=function(){n=void 0,t=void 0}};s.prototype=new r,
t.exports={TimestampRolloverStream:s,handleRollover:o}},{"../utils/stream":62}],55:[function(e,t,n){t.exports={generator:e("./mp4-generator"),Transmuxer:e("./transmuxer").Transmuxer,AudioSegmentStream:e("./transmuxer").AudioSegmentStream,VideoSegmentStream:e("./transmuxer").VideoSegmentStream}},{"./mp4-generator":56,"./transmuxer":58}],56:[function(e,t,n){"use strict";var r,a,i,o,s,l,u,c,d,f,p,h,m,y,v,g,b,_,w,E,k,T,S,C,P,O,N,A,j,I,x,M,D,L,R,B,U=Math.pow(2,32)-1;!function(){var e;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in S)S.hasOwnProperty(e)&&(S[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);C=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),P=new Uint8Array([0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),j={video:N,audio:A},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=D,R=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=D,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),r=function(e){var t,n,r,a=[],i=0;for(t=1;t<arguments.length;t++)a.push(arguments[t]);for(t=a.length;t--;)i+=a[t].byteLength;for(n=new Uint8Array(i+8),r=new DataView(n.buffer,n.byteOffset,n.byteLength),r.setUint32(0,n.byteLength),n.set(e,4),t=0,i=8;t<a.length;t++)n.set(a[t],i),i+=a[t].byteLength;return n},a=function(){return r(S.dinf,r(S.dref,M))},i=function(e){return r(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return r(S.ftyp,C,P,C,O)},g=function(e){return r(S.hdlr,j[e])},s=function(e){return r(S.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),r(S.mdhd,t)},y=function(e){return r(S.mdia,v(e),g(e.type),u(e))},l=function(e){return r(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},u=function(e){return r(S.minf,"video"===e.type?r(S.vmhd,I):r(S.smhd,x),a(),_(e))},c=function(e,t){for(var n=[],a=t.length;a--;)n[a]=E(t[a]);return r.apply(null,[S.moof,l(e)].concat(n))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=h(e[t]);return r.apply(null,[S.moov,p(4294967295)].concat(n).concat(f(e)))},f=function(e){for(var t=e.length,n=[];t--;)n[t]=k(e[t]);return r.apply(null,[S.mvex].concat(n))},p=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return r(S.mvhd,t)},b=function(e){var t,n,a=e.samples||[],i=new Uint8Array(4+a.length);for(n=0;n<a.length;n++)t=a[n].flags,i[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return r(S.sdtp,i)},_=function(e){return r(S.stbl,w(e),r(S.stts,B),r(S.stsc,L),r(S.stsz,R),r(S.stco,D))},function(){var e,t;w=function(n){return r(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n=e.sps||[],a=e.pps||[],i=[],o=[];for(t=0;t<n.length;t++)i.push((65280&n[t].byteLength)>>>8),i.push(255&n[t].byteLength),i=i.concat(Array.prototype.slice.call(n[t]));for(t=0;t<a.length;t++)o.push((65280&a[t].byteLength)>>>8),o.push(255&a[t].byteLength),o=o.concat(Array.prototype.slice.call(a[t]));return r(S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),r(S.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(i).concat([a.length]).concat(o))),r(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},t=function(e){return r(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),i(e))}}(),m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return r(S.tkhd,t)},E=function(e){var t,n,a,i,o,s,l;return t=r(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(U+1)),l=Math.floor(e.baseMediaDecodeTime%(U+1)),n=r(S.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,l>>>24&255,l>>>16&255,l>>>8&255,255&l])),o=92,"audio"===e.type?(a=T(e,o),r(S.traf,t,n,a)):(i=b(e),a=T(e,i.length+o),r(S.traf,t,n,a,i))},h=function(e){return e.duration=e.duration||4294967295,r(S.trak,m(e),y(e))},k=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),r(S.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,r=0,a=0,i=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(r=2),void 0!==e[0].flags&&(a=4),void 0!==e[0].compositionTimeOffset&&(i=8)),[0,0,n|r|a|i,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var a,i,o,s;for(i=e.samples||[],t+=20+16*i.length,a=n(i,t),s=0;s<i.length;s++)o=i[s],a=a.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size,o.flags.isLeading<<2|o.flags.dependsOn,o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,61440&o.flags.degradationPriority,15&o.flags.degradationPriority,(4278190080&o.compositionTimeOffset)>>>24,(16711680&o.compositionTimeOffset)>>>16,(65280&o.compositionTimeOffset)>>>8,255&o.compositionTimeOffset]);return r(S.trun,new Uint8Array(a))},e=function(e,t){var a,i,o,s;for(i=e.samples||[],t+=20+8*i.length,a=n(i,t),s=0;s<i.length;s++)o=i[s],a=a.concat([(4278190080&o.duration)>>>24,(16711680&o.duration)>>>16,(65280&o.duration)>>>8,255&o.duration,(4278190080&o.size)>>>24,(16711680&o.size)>>>16,(65280&o.size)>>>8,255&o.size]);return r(S.trun,new Uint8Array(a))},T=function(n,r){return"audio"===n.type?e(n,r):t(n,r)}}(),t.exports={ftyp:o,mdat:s,moof:c,moov:d,initSegment:function(e){var t,n=o(),r=d(e);return t=new Uint8Array(n.byteLength+r.byteLength),t.set(n),t.set(r,n.byteLength),t}}},{}],57:[function(e,t,n){"use strict";var r,a,i,o;r=function(e,t){var n,i,o,s,l,u=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=e[n]<<24,i|=e[n+1]<<16,i|=e[n+2]<<8,i|=e[n+3],o=a(e.subarray(n+4,n+8)),s=i>1?n+i:e.byteLength,o===t[0]&&(1===t.length?u.push(e.subarray(n+8,s)):(l=r(e.subarray(n+8,s),t.slice(1)),l.length&&(u=u.concat(l)))),n=s;return u},a=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},i=function(e){var t={},n=r(e,["moov","trak"]);return n.reduce(function(e,t){var n,a,i,o,s;return(n=r(t,["tkhd"])[0])?(a=n[0],i=0===a?12:20,o=n[i]<<24|n[i+1]<<16|n[i+2]<<8|n[i+3],(s=r(t,["mdia","mdhd"])[0])?(a=s[0],i=0===a?12:20,e[o]=s[i]<<24|s[i+1]<<16|s[i+2]<<8|s[i+3],e):null):null},t)},o=function(e,t){var n,a,i;return n=r(t,["moof","traf"]),a=[].concat.apply([],n.map(function(t){return r(t,["tfhd"]).map(function(n){var a,i,o;return a=n[4]<<24|n[5]<<16|n[6]<<8|n[7],i=e[a]||9e4,o=r(t,["tfdt"]).map(function(e){var t,n;return t=e[0],n=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(n*=Math.pow(2,32),n+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),n})[0],o=o||1/0,o/i})})),i=Math.min.apply(null,a),isFinite(i)?i:0},t.exports={parseType:a,timescale:i,startTime:o}},{}],58:[function(e,t,n){"use strict";var r,a,i,o,s,l,u,c,d,f,p,h=e("../utils/stream.js"),m=e("./mp4-generator.js"),y=e("../m2ts/m2ts.js"),v=e("../codecs/adts.js"),g=e("../codecs/h264").H264Stream,b=e("../aac"),_=e("../data/silence"),w=e("../utils/clock"),E=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],k=["width","height","profileIdc","levelIdc","profileCompatibility"],T=9e4;s=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}},l=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},f=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},p=function(e){var t,n,r=0;for(t=0;t<e.length;t++)n=e[t],r+=n.data.byteLength;return r},a=function(e){var t=[],n=0,r=0,i=0,o=1/0;a.prototype.init.call(this),this.push=function(n){u(e,n),e&&E.forEach(function(t){e[t]=n[t]}),t.push(n)},this.setEarliestDts=function(t){r=t-e.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){o=e},this.setAudioAppendStart=function(e){i=e},this.flush=function(){var r,a,i,o;return 0===t.length?void this.trigger("done","AudioSegmentStream"):(r=this.trimAdtsFramesByEarliestDts_(t),e.baseMediaDecodeTime=d(e),this.prefixWithSilence_(e,r),e.samples=this.generateSampleTable_(r),i=m.mdat(this.concatenateFrameData_(r)),t=[],a=m.moof(n,[e]),o=new Uint8Array(a.byteLength+i.byteLength),n++,o.set(a),o.set(i,a.byteLength),c(e),this.trigger("data",{track:e,boxes:o}),void this.trigger("done","AudioSegmentStream"))},this.prefixWithSilence_=function(e,t){var n,r,a,s=0,l=0,u=0,c=0;if(t.length&&(n=w.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),s=Math.ceil(T/(e.samplerate/1024)),i&&o&&(l=n-Math.max(i,o),u=Math.floor(l/s),c=u*s),!(u<1||c>T/2))){for(r=_[e.samplerate],r||(r=t[0].data),a=0;a<u;a++)t.splice(a,0,{data:r});e.baseMediaDecodeTime-=Math.floor(w.videoTsToAudioTs(c,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(t){return e.minSegmentDts>=r?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=r&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,n,r=[];for(t=0;t<e.length;t++)n=e[t],r.push({size:n.data.byteLength,duration:1024});return r},this.concatenateFrameData_=function(e){var t,n,r=0,a=new Uint8Array(p(e));for(t=0;t<e.length;t++)n=e[t],a.set(n.data,r),r+=n.data.byteLength;return a}},a.prototype=new h,r=function(e,t){var n,a,i=0,o=[],l=[];t=t||{},r.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){u(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],k.forEach(function(t){e[t]=n[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||a||(a=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){for(var n,r,a,s,f,p;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=this.groupNalsIntoFrames_(o),a=this.groupFramesIntoGops_(n),a[0][0].keyFrame||(r=this.getGopForFusion_(o[0],e),r?(a.unshift(r),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.pts=r.pts,a.dts=r.dts,a.duration+=r.duration):a=this.extendFirstKeyFrame_(a)),l.length){var h;if(h=t.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a),!h)return this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");c(e),a=h}u(e,a),e.samples=this.generateSampleTable_(a),f=m.mdat(this.concatenateNalData_(a)),e.baseMediaDecodeTime=d(e),this.trigger("processedGopsInfo",a.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:a.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),s=m.moof(i,[e]),p=new Uint8Array(s.byteLength+f.byteLength),i++,p.set(s),p.set(f,s.byteLength),this.trigger("data",{track:e,boxes:p}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){c(e),n=void 0,a=void 0},this.getGopForFusion_=function(t){var n,r,a,i,o,s=45e3,l=1e4,u=1/0;for(o=0;o<this.gopCache_.length;o++)i=this.gopCache_[o],a=i.gop,e.pps&&f(e.pps[0],i.pps[0])&&e.sps&&f(e.sps[0],i.sps[0])&&(a.dts<e.timelineStartInfo.dts||(n=t.dts-a.dts-a.duration,n>=-l&&n<=s&&(!r||u>n)&&(r=i,u=n)));return r?r.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,n,r=[],a=[];for(r.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(r.length&&(r.duration=n.dts-r.dts,a.push(r)),r=[n],r.byteLength=n.data.byteLength,r.pts=n.pts,r.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(r.keyFrame=!0),r.duration=n.dts-r.dts,r.byteLength+=n.data.byteLength,r.push(n));return a.length&&(!r.duration||r.duration<=0)&&(r.duration=a[a.length-1].duration),a.push(r),a},this.groupFramesIntoGops_=function(e){var t,n,r=[],a=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,a.byteLength=0,a.nalCount=0,a.duration=0,a.pts=e[0].pts,a.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(r.length&&(a.push(r),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.duration+=r.duration),r=[n],r.nalCount=n.length,r.byteLength=n.byteLength,r.pts=n.pts,r.dts=n.dts,r.duration=n.duration):(r.duration+=n.duration,r.nalCount+=n.length,r.byteLength+=n.byteLength,r.push(n));return a.length&&r.duration<=0&&(r.duration=a[a.length-1].duration),a.byteLength+=r.byteLength,a.nalCount+=r.nalCount,a.duration+=r.duration,a.push(r),a},this.generateSampleTable_=function(e,t){var n,r,a,i,o,l=t||0,u=[];for(n=0;n<e.length;n++)for(i=e[n],r=0;r<i.length;r++)o=i[r],a=s(),a.dataOffset=l,a.compositionTimeOffset=o.pts-o.dts,a.duration=o.duration,a.size=4*o.length,a.size+=o.byteLength,o.keyFrame&&(a.flags.dependsOn=2),l+=a.size,u.push(a);return u},this.concatenateNalData_=function(e){var t,n,r,a,i,o,s=0,l=e.byteLength,u=e.nalCount,c=l+4*u,d=new Uint8Array(c),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(a=e[t],n=0;n<a.length;n++)for(i=a[n],r=0;r<i.length;r++)o=i[r],f.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d},this.alignGopsAtStart_=function(e){var t,n,r,a,i,o,s,u;for(i=e.byteLength,o=e.nalCount,s=e.duration,t=n=0;t<l.length&&n<e.length&&(r=l[t],a=e[n],r.pts!==a.pts);)a.pts>r.pts?t++:(n++,i-=a.byteLength,o-=a.nalCount,s-=a.duration);return 0===n?e:n===e.length?null:(u=e.slice(n),u.byteLength=i,u.duration=s,u.nalCount=o,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,n,r,a,i,o;for(t=l.length-1,n=e.length-1,i=null,o=!1;t>=0&&n>=0;){if(r=l[t],a=e[n],r.pts===a.pts){o=!0;break}r.pts>a.pts?t--:(t===l.length-1&&(i=n),n--)}if(!o&&null===i)return null;var s;if(s=o?n:i,0===s)return e;var u=e.slice(s),c=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){l=e}},r.prototype=new h,u=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},c=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},d=function(e){var t,n,r=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=r,t=Math.max(0,t),"audio"===e.type&&(n=e.samplerate/T,t*=n,t=Math.floor(t)),t},o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,"undefined"!=typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}},o.prototype=new h,o.prototype.flush=function(e){var t,n,r,a,i=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,k.forEach(function(e){o.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,E.forEach(function(e){o.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,r=m.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(r.byteLength),o.initSegment.set(r),o.data=new Uint8Array(this.pendingBytes),a=0;a<this.pendingBoxes.length;a++)o.data.set(this.pendingBoxes[a],i),i+=this.pendingBoxes[a].byteLength;for(a=0;a<this.pendingCaptions.length;a++)t=this.pendingCaptions[a],t.startTime=t.startPts-s,t.startTime/=9e4,t.endTime=t.endPts-s,t.endTime/=9e4,o.captionStreams[t.stream]=!0,o.captions.push(t);for(a=0;a<this.pendingMetadata.length;a++)n=this.pendingMetadata[a],n.cueTime=n.pts-s,n.cueTime/=9e4,o.metadata.push(n);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},i=function(e){var t,n,s=this,u=!0;i.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t,t.type="aac",t.metadataStream=new y.MetadataStream,t.aacStream=new b,t.audioTimestampRolloverStream=new y.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new y.TimestampRolloverStream("timed-metadata"),t.adtsStream=new v,t.coalesceStream=new o(e,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new a(n),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="ts",i.metadataStream=new y.MetadataStream,i.packetStream=new y.TransportPacketStream,i.parseStream=new y.TransportParseStream,i.elementaryStream=new y.ElementaryStream,i.videoTimestampRolloverStream=new y.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new y.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new y.TimestampRolloverStream("timed-metadata"),i.adtsStream=new v,i.h264Stream=new g,i.captionStream=new y.CaptionStream,i.coalesceStream=new o(e,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(o){var l;if("metadata"===o.type){for(l=o.tracks.length;l--;)t||"video"!==o.tracks[l].type?n||"audio"!==o.tracks[l].type||(n=o.tracks[l],n.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[l],t.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);t&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new r(t,e),i.videoSegmentStream.on("timelineStartInfo",function(e){n&&(n.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),n&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new a(n),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var r=this.transmuxPipeline_;this.baseMediaDecodeTime=e,n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,c(n),n.timelineStartInfo.baseMediaDecodeTime=e,r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[],r.videoTimestampRolloverStream.discontinuity()),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,c(t),r.captionStream.reset(),t.timelineStartInfo.baseMediaDecodeTime=e),r.timedMetadataTimestampRolloverStream&&r.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(u){var t=l(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},i.prototype=new h,t.exports={Transmuxer:i,VideoSegmentStream:r,AudioSegmentStream:a,AUDIO_PROPERTIES:E,VIDEO_PROPERTIES:k}},{"../aac":38,"../codecs/adts.js":40,"../codecs/h264":41,"../data/silence":42,"../m2ts/m2ts.js":50,"../utils/clock":60,"../utils/stream.js":62,"./mp4-generator.js":56}],59:[function(e,t,n){"use strict";var r=e("../m2ts/stream-types.js"),a=e("../m2ts/timestamp-rollover-stream.js").handleRollover,i={};i.ts=e("../m2ts/probe.js"),i.aac=e("../aac/probe.js");var o=9e4,s=188,l=71,u=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},c=function(e,t){for(var n,r,a=0,o=s;o<e.byteLength;)if(e[a]!==l||e[o]!==l)a++,o++;else{switch(n=e.subarray(a,o),r=i.ts.parseType(n,t.pid)){case"pat":t.pid||(t.pid=i.ts.parsePat(n));break;case"pmt":t.table||(t.table=i.ts.parsePmt(n))}if(t.pid&&t.table)return;a+=s,o+=s}},d=function(e,t,n){for(var r,a,o,u,c,d=0,f=s,p=!1;f<e.byteLength;)if(e[d]!==l||e[f]!==l)d++,f++;else{switch(r=e.subarray(d,f),a=i.ts.parseType(r,t.pid)){case"pes":o=i.ts.parsePesType(r,t.table),u=i.ts.parsePayloadUnitStartIndicator(r),"audio"===o&&u&&(c=i.ts.parsePesTime(r),c&&(c.type="audio",n.audio.push(c),p=!0))}if(p)break;d+=s,f+=s}for(f=e.byteLength,d=f-s,p=!1;d>=0;)if(e[d]!==l||e[f]!==l)d--,f--;else{switch(r=e.subarray(d,f),a=i.ts.parseType(r,t.pid)){case"pes":o=i.ts.parsePesType(r,t.table),u=i.ts.parsePayloadUnitStartIndicator(r),"audio"===o&&u&&(c=i.ts.parsePesTime(r),c&&(c.type="audio",n.audio.push(c),p=!0))}if(p)break;d-=s,f-=s}},f=function(e,t,n){for(var r,a,o,u,c,d,f,p,h=0,m=s,y=!1,v={data:[],size:0};m<e.byteLength;)if(e[h]!==l||e[m]!==l)h++,m++;else{switch(r=e.subarray(h,m),a=i.ts.parseType(r,t.pid)){case"pes":if(o=i.ts.parsePesType(r,t.table),u=i.ts.parsePayloadUnitStartIndicator(r),"video"===o&&(u&&!y&&(c=i.ts.parsePesTime(r),c&&(c.type="video",n.video.push(c),y=!0)),!n.firstKeyFrame)){if(u&&0!==v.size){for(d=new Uint8Array(v.size),f=0;v.data.length;)p=v.data.shift(),d.set(p,f),f+=p.byteLength;i.ts.videoPacketContainsKeyFrame(d)&&(n.firstKeyFrame=i.ts.parsePesTime(d),n.firstKeyFrame.type="video"),v.size=0}v.data.push(r),v.size+=r.byteLength}}if(y&&n.firstKeyFrame)break;h+=s,m+=s}for(m=e.byteLength,h=m-s,y=!1;h>=0;)if(e[h]!==l||e[m]!==l)h--,m--;else{switch(r=e.subarray(h,m),a=i.ts.parseType(r,t.pid)){case"pes":o=i.ts.parsePesType(r,t.table),u=i.ts.parsePayloadUnitStartIndicator(r),"video"===o&&u&&(c=i.ts.parsePesTime(r),c&&(c.type="video",n.video.push(c),y=!0))}if(y)break;h-=s,m-=s}},p=function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"==typeof n&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=a(e.dts,n),e.pts=a(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})}if(e.video&&e.video.length){var r=t;if("undefined"==typeof r&&(r=e.video[0].dts),e.video.forEach(function(e){e.dts=a(e.dts,r),e.pts=a(e.pts,r),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}),e.firstKeyFrame){var i=e.firstKeyFrame;i.dts=a(i.dts,r),i.pts=a(i.pts,r),i.dtsTime=i.dts/o,i.ptsTime=i.dts/o}}},h=function(e){for(var t,n=!1,r=0,a=null,s=null,l=0,u=0;e.length-u>=3;){var c=i.aac.parseType(e,u);switch(c){case"timed-metadata":if(e.length-u<10){n=!0;break}if(l=i.aac.parseId3TagSize(e,u),l>e.length){n=!0;break}null===s&&(t=e.subarray(u,u+l),s=i.aac.parseAacTimestamp(t)),u+=l;break;case"audio":if(e.length-u<7){n=!0;break}if(l=i.aac.parseAdtsSize(e,u),l>e.length){n=!0;break}null===a&&(t=e.subarray(u,u+l),a=i.aac.parseSampleRate(t)),r++,u+=l;break;default:u++}if(n)return null}if(null===a||null===s)return null;var d=o/a,f={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*r*d,pts:s+1024*r*d}]};return f},m=function(e){var t={pid:null,table:null},n={};c(e,t);for(var a in t.table)if(t.table.hasOwnProperty(a)){var i=t.table[a];switch(i){case r.H264_STREAM_TYPE:n.video=[],f(e,t,n),0===n.video.length&&delete n.video;break;case r.ADTS_STREAM_TYPE:n.audio=[],d(e,t,n),0===n.audio.length&&delete n.audio}}return n},y=function(e,t){var n,r=u(e);return n=r?h(e):m(e),n&&(n.audio||n.video)?(p(n,t),n):null};t.exports={inspect:y}},{"../aac/probe.js":39,"../m2ts/probe.js":52,"../m2ts/stream-types.js":53,"../m2ts/timestamp-rollover-stream.js":54}],60:[function(e,t,n){var r,a,i,o,s,l,u=9e4;r=function(e){return e*u},a=function(e,t){return e*t},i=function(e){return e/u},o=function(e,t){return e/t},s=function(e,t){return r(o(e,t))},l=function(e,t){return a(i(e),t)},t.exports={secondsToVideoTs:r,secondsToAudioTs:a,videoTsToSeconds:i,audioTsToSeconds:o,audioTsToVideoTs:s,videoTsToAudioTs:l}},{}],61:[function(e,t,n){"use strict";var r;r=function(e){var t=e.byteLength,n=0,r=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+r},this.loadWord=function(){var a=e.byteLength-t,i=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");i.set(e.subarray(a,a+o)),n=new DataView(i.buffer).getUint32(0),r=8*o,t-=o},this.skipBits=function(e){var a;r>e?(n<<=e,r-=e):(e-=r,a=Math.floor(e/8),e-=8*a,t-=a,this.loadWord(),n<<=e,r-=e)},this.readBits=function(e){var a=Math.min(r,e),i=n>>>32-a;return r-=a,r>0?n<<=a:t>0&&this.loadWord(),a=e-a,a>0?i<<a|this.readBits(a):i},this.skipLeadingZeros=function(){var e;for(e=0;e<r;++e)if(0!==(n&2147483648>>>e))return n<<=e,r-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},t.exports=r},{}],62:[function(e,t,n){"use strict";var r=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var r;return!!e[t]&&(r=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(r,1),r>-1)},this.trigger=function(t){var n,r,a,i;if(n=e[t])if(2===arguments.length)for(a=n.length,r=0;r<a;++r)n[r].call(this,arguments[1]);else{for(i=[],r=arguments.length,r=1;r<arguments.length;++r)i.push(arguments[r]);for(a=n.length,r=0;r<a;++r)n[r].apply(this,i)}},this.dispose=function(){e={}}}};r.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),e},r.prototype.push=function(e){this.trigger("data",e)},r.prototype.flush=function(e){this.trigger("done",e)},t.exports=r},{}],63:[function(t,n,r){!function(t){var a=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,l={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),t=t.trim(),!t){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=l.normalizePath(r.path),l.buildURLFromParts(r)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=l.normalizePath(a.path),l.buildURLFromParts(a)):t;var o=this.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var s=i.exec(o.path);o.netLoc=s[1],o.path=s[2]}o.netLoc&&!o.path&&(o.path="/");var u={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(u.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var c=o.path,d=c.substring(0,c.lastIndexOf("/")+1)+a.path;u.path=l.normalizePath(d)}else u.path=o.path,a.params||(u.params=o.params,a.query||(u.query=o.query));return null===u.path&&(u.path=n.alwaysNormalize?l.normalizePath(a.path):a.path),l.buildURLFromParts(u)},parseURL:function(e){var t=a.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",
path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};"object"==typeof r&&"object"==typeof n?n.exports=l:"function"==typeof e&&e.amd?e([],function(){return l}):"object"==typeof r?r.URLToolkit=l:t.URLToolkit=l}(this)},{}],64:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=e("global/window"),o=a(i),s="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,l=a(s),u=function(e){Object.defineProperties(e.frame,{id:{get:function(){return l.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return l.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return l.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},c=function(e){var t=void 0;return t=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e},d=function(e,t,n){var r=o.default.WebKitDataCue||o.default.VTTCue;t&&t.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},e),n&&!function(){var t=c(e.mediaSource_.duration);n.forEach(function(e){var t=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,u(n),this.metadataTrack_.addCue(n)},this)},e),e.metadataTrack_&&e.metadataTrack_.cues&&e.metadataTrack_.cues.length&&!function(){for(var n=e.metadataTrack_.cues,r=[],a=0;a<n.length;a++)n[a]&&r.push(n[a]);var i=r.reduce(function(e,t){var n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),o=Object.keys(i).sort(function(e,t){return Number(e)-Number(t)});o.forEach(function(e,n){var r=i[e],a=Number(o[n+1])||t;r.forEach(function(e){e.endTime=a})})}()}()};r.default={addTextTrackData:d,durationOfVideo:c},n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"global/window":32}],65:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return/mp4a\.\d+.\d+/i.test(e)},a=function(e){return/avc1\.[\da-f]+/i.test(e)},i=function(e){var t={type:"",parameters:{}},n=e.trim().split(";");return t.type=n.shift().trim(),n.forEach(function(e){var n=e.trim().split("=");if(n.length>1){var r=n[0].replace(/"/g,"").trim(),a=n[1].replace(/"/g,"").trim();t.parameters[r]=a}}),t},o=function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){var r=("00"+Number(t).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+r+"00"+a})})};n.default={isAudioCodec:r,parseContentType:i,isVideoCodec:a,translateLegacyCodecs:o},t.exports=n.default},{}],66:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r=t.player_;if(n.captions&&n.captions.length){e.inbandTextTracks_||(e.inbandTextTracks_={});for(var a in n.captionStreams)if(!e.inbandTextTracks_[a]){r.tech_.trigger({type:"usage",name:"hls-608"});var i=r.textTracks().getTrackById(a);i?e.inbandTextTracks_[a]=i:e.inbandTextTracks_[a]=r.addRemoteTextTrack({kind:"captions",id:a,label:a},!1).track}}n.metadata&&n.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=n.metadata.dispatchType)};n.default=r,t.exports=n.default},{}],67:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768};n.default=r,t.exports=n.default},{}],68:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},u=e("global/document"),c=a(u),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,f=a(d),p=e("./flash-source-buffer"),h=a(p),m=e("./flash-constants"),y=a(m),v=e("./codec-utils"),g=function(e){function t(){var e=this;i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(t){e.swfObj=c.default.getElementById(t.swfId),e.player_=(0,f.default)(e.swfObj.parentNode),e.tech_=e.swfObj.tech,e.readyState="open",e.tech_.on("seeking",function(){for(var t=e.sourceBuffers.length;t--;)e.sourceBuffers[t].abort()}),e.swfObj&&e.swfObj.vjs_load()})}return o(t,e),s(t,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,v.parseContentType)(e),n=void 0;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return n=new h.default(this),this.sourceBuffers.push(n),n}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),t}(f.default.EventTarget);r.default=g;try{Object.defineProperty(g.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,n=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<n)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,n);return e}})}catch(b){g.prototype.duration=NaN}for(var _ in y.default)g[_]=y.default[_];n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./codec-utils":65,"./flash-constants":67,"./flash-source-buffer":69,"global/document":31}],69:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},u=e("global/window"),c=a(u),d="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,f=a(d),p=e("mux.js/lib/flv"),h=a(p),m=e("./remove-cues-from-track"),y=a(m),v=e("./create-text-tracks-if-necessary"),g=a(v),b=e("./add-text-track-data"),_=e("./flash-transmuxer-worker"),w=a(_),E=e("webwackify"),k=a(E),T=e("./flash-constants"),S=a(T),C=function(){var t=void 0;try{t=e.resolve("./flash-transmuxer-worker")}catch(n){}return t},P=function(e){c.default.setTimeout(e,S.default.TIME_BETWEEN_CHUNKS)},O=function(){return Math.random().toString(36).slice(2,8)},N=function(e,t){("number"!=typeof t||t<0)&&(t=0);var n=Math.pow(10,t);return Math.round(e*n)/n},A=function(e){function t(e){var n=this;i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var r=void 0;this.chunkSize_=S.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,r=c.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(h.default.getFlvHeader())));var a=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+a+O(),this.flashEncodedDataName_="vjs_flashEncodedData_"+a+O(),c.default[this.flashEncodedHeaderName_]=function(){return delete c.default[n.flashEncodedHeaderName_],r},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,k.default)(w.default,C()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&n.receiveBuffer_(e.data.segment)},this.one("updateend",function(){n.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return f.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=N(e[0][0],3),e[0][1]=N(e[0][1],3)),f.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,y.default)(0,1/0,n.metadataTrack_),n.inbandTextTracks_)for(var e in n.inbandTextTracks_)(0,y.default)(0,1/0,n.inbandTextTracks_[e])});var o=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",o),this.mediaSource_.player_.tech_.hls.on("dispose",function(){n.transmuxer_.terminate(),n.mediaSource_.player_.tech_.off("hls-reset",o)})}return o(t,e),s(t,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw t=new Error("SourceBuffer.append() cannot be called while an update is in progress"),t.name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,y.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,y.default)(e,t,this.inbandTextTracks_[n]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(e){var t=this;(0,g.default)(this,this.mediaSource_,e),(0,b.addTextTrackData)(this,e.captions,e.metadata),P(function(){var n=t.convertTagsToData_(e);0===t.buffer_.length&&P(t.processBuffer_.bind(t)),n&&(t.buffer_.push(n),t.bufferSize_+=n.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=S.default.BYTES_PER_CHUNK;if(!this.buffer_.length)return void(this.updating!==!1&&(this.updating=!1,this.trigger({type:"updateend"})));var n=this.buffer_[0].subarray(0,t);n.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=n.byteLength;for(var r=[],a=n.byteLength,i=0;i<a;i++)r.push(String.fromCharCode(n[i]));var o=c.default.btoa(r.join(""));c.default[this.flashEncodedDataName_]=function(){return P(e.processBuffer_.bind(e)),delete c.default[e.flashEncodedDataName_],o},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}},{key:"convertTagsToData_",value:function(e){var t=0,n=this.mediaSource_.tech_,r=0,a=void 0,i=e.tags.videoTags,o=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(i.length||o.length)){var s=i[0]||{pts:1/0},l=o[0]||{pts:1/0};this.basePtsOffset_=Math.min(l.pts,s.pts)}n.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(n.buffered().length&&(r=n.buffered().end(0)-this.timestampOffset),n.seeking()&&(r=Math.max(r,n.currentTime()-this.timestampOffset)),r*=1e3,r+=this.basePtsOffset_):r=this.videoBufferEnd_+.1;var u=i.length;if(u&&i[u-1].pts>=r){for(;--u;){var c=i[u];if(!(c.pts>r)&&(c.keyFrame||c.metaDataTag))break}for(;u;){var d=i[u-1];if(!d.metaDataTag)break;u--}}var f=i.slice(u),p=void 0;for(p=isNaN(this.audioBufferEnd_)?r:this.audioBufferEnd_+.1,f.length&&(p=Math.min(p,f[0].pts)),u=0;u<o.length&&!(o[u].pts>=p);)u++;var h=o.slice(u);h.length&&(this.audioBufferEnd_=h[h.length-1].pts),f.length&&(this.videoBufferEnd_=f[f.length-1].pts);var m=this.getOrderedTags_(f,h);if(0!==m.length){if(m[0].pts<r&&n.seeking()){var y=1/30,v=n.currentTime(),g=(r-m[0].pts)/1e3,b=v-g;b<y&&(b=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(b)}catch(_){}}for(var w=0;w<m.length;w++)t+=m[w].bytes.byteLength;a=new Uint8Array(t);for(var w=0,E=0;w<m.length;w++)a.set(m[w].bytes,E),E+=m[w].bytes.byteLength;return a}}},{key:"getOrderedTags_",value:function(e,t){for(var n=void 0,r=[];e.length||t.length;)n=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),r.push(n);return r}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),t}(f.default.EventTarget);r.default=A,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./create-text-tracks-if-necessary":66,"./flash-constants":67,"./flash-transmuxer-worker":70,"./remove-cues-from-track":72,"global/window":32,"mux.js/lib/flv":46,webwackify:76}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("global/window"),s=r(o),l=e("mux.js/lib/flv"),u=r(l),c=function(e){e.on("data",function(e){s.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){s.default.postMessage({action:"done"})})},d=function(){function e(t){a(this,e),this.options=t||{},this.init()}return i(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new u.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),e}(),f=function(e){e.onmessage=function(e){return"init"===e.data.action&&e.data.options?void(this.messageHandlers=new d(e.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)))}};n.default=function(e){return new f(e)},t.exports=n.default},{"global/window":32,"mux.js/lib/flv":46}],71:[function(e,n,r){(function(t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},u=e("global/window"),c=a(u),d=e("global/document"),f=a(d),p="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,h=a(p),m=e("./virtual-source-buffer"),y=a(m),v=e("./add-text-track-data"),g=e("./codec-utils"),b=function(e){function t(){var e=this;i(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var n=void 0;this.nativeMediaSource_=new c.default.MediaSource;for(n in this.nativeMediaSource_)n in t.prototype||"function"!=typeof this.nativeMediaSource_[n]||(this[n]=this.nativeMediaSource_[n].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){if(this.duration_=e,e!==1/0)return void(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?h.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(e.activeSourceBuffers_.length=0,1===e.sourceBuffers.length){var t=e.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void e.activeSourceBuffers_.push(t)}for(var n=!1,r=!0,a=0;a<e.player_.audioTracks().length;a++){var i=e.player_.audioTracks()[a];if(i.enabled&&"main"!==i.kind){n=!0,r=!1;break}}e.sourceBuffers.forEach(function(t){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=n;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,r=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=r,r))return;e.activeSourceBuffers_.push(t)})},this.onPlayerMediachange_=function(){e.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){e.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){e.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(t){var n=f.default.querySelector('[src="'+e.url_+'"]');n&&(e.player_=(0,h.default)(n.parentNode),e.player_.tech_.on("hls-reset",e.onHlsReset_),e.player_.tech_.on("hls-segment-time-mapping",e.onHlsSegmentTimeMapping_),e.player_.audioTracks&&e.player_.audioTracks()&&(e.player_.audioTracks().on("change",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("addtrack",e.updateActiveSourceBuffers_),e.player_.audioTracks().on("removetrack",e.updateActiveSourceBuffers_)),e.player_.on("mediachange",e.onPlayerMediachange_))}),this.on("sourceended",function(t){for(var n=(0,v.durationOfVideo)(e.duration),r=0;r<e.sourceBuffers.length;r++){var a=e.sourceBuffers[r],i=a.metadataTrack_&&a.metadataTrack_.cues;i&&i.length&&(i[i.length-1].endTime=n)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return o(t,e),s(t,[{key:"addSeekableRange_",value:function(e,t){var n=void 0;if(this.duration!==1/0)throw n=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity"),n.name="InvalidStateError",n.code=11,n;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,n=(0,g.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(n.type)){var r=[];n.parameters&&n.parameters.codecs&&(r=n.parameters.codecs.split(","),r=(0,g.translateLegacyCodecs)(r),r=r.filter(function(e){return(0,g.isAudioCodec)(e)||(0,g.isVideoCodec)(e)})),0===r.length&&(r=["avc1.4d400d","mp4a.40.2"]),t=new y.default(this,r),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}(h.default.EventTarget);r.default=b,n.exports=r.default}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./virtual-source-buffer":75,"global/document":31,"global/window":32}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){var r=void 0,a=void 0;if(n&&n.cues)for(r=n.cues.length;r--;)a=n.cues[r],a.startTime<=t&&a.endTime>=e&&n.removeCue(a)};n.default=r,t.exports=n.default},{}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("global/window"),s=r(o),l=e("mux.js/lib/mp4"),u=r(l),c=function(e){e.on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var n=e.data;e.data=n.buffer,s.default.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){s.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){s.default.postMessage({action:"done"})}),e.on("gopInfo",function(e){s.default.postMessage({action:"gopInfo",gopInfo:e})})},d=function(){function e(t){a(this,e),this.options=t||{},this.init()}return i(e,[{key:"init",value:function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new u.default.Transmuxer(this.options),c(this.transmuxer)}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),e}(),f=function(e){e.onmessage=function(e){return"init"===e.data.action&&e.data.options?void(this.messageHandlers=new d(e.data.options)):(this.messageHandlers||(this.messageHandlers=new d),void(e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data)))}};n.default=function(e){return new f(e)},t.exports=n.default},{"global/window":32,"mux.js/lib/mp4":55}],74:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var a=e("global/window"),i=n(a),o=e("./flash-media-source"),s=n(o),l=e("./html-media-source"),u=n(l),c="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,d=n(c),f=0,p={mode:"auto"};d.default.mediaSources={};var h=function(e,t){var n=d.default.mediaSources[e];if(!n)throw new Error("Media Source not found (Video.js)");n.trigger({type:"sourceopen",swfId:t})},m=function(){return!!i.default.MediaSource&&!!i.default.MediaSource.isTypeSupported&&i.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},y=function(e){var t=d.default.mergeOptions(p,e);if(this.MediaSource={open:h,supportsNativeMediaSources:m},"html5"===t.mode||"auto"===t.mode&&m())return new u.default;if(d.default.getTech("Flash"))return new s.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};r.MediaSource=y,y.open=h,y.supportsNativeMediaSources=m;var v={createObjectURL:function(e){var t="blob:vjs-media-source/",n=void 0;return e instanceof u.default?(n=i.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=n,n):e instanceof s.default?(n=t+f,f++,d.default.mediaSources[n]=e,n):(n=i.default.URL.createObjectURL(e),e.url_=n,n)}};r.URL=v,d.default.MediaSource=y,d.default.URL=v}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./flash-media-source":68,"./html-media-source":71,"global/window":32}],75:[function(e,n,r){(function(t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,u=n(l),c=e("./create-text-tracks-if-necessary"),d=n(c),f=e("./remove-cues-from-track"),p=n(f),h=e("./add-text-track-data"),m=e("webwackify"),y=n(m),v=e("./transmuxer-worker"),g=n(v),b=e("./codec-utils"),_=function(){var t=void 0;try{t=e.resolve("./transmuxer-worker")}catch(n){}return t},w=function(e,t){var n=e.addSourceBuffer(t),r=Object.create(null);r.updating=!1,r.realBuffer_=n;var a=function(e){"function"==typeof n[e]?r[e]=function(){return n[e].apply(n,arguments)}:"undefined"==typeof r[e]&&Object.defineProperty(r,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})};for(var i in n)a(i);return r},E=function(e,t,n){if(!t||!e.length)return[];var r=Math.ceil(9e4*(t.currentTime()-n+3)),a=void 0;for(a=0;a<e.length&&!(e[a].pts>r);a++);return e.slice(a)};r.gopsSafeToAlignWith=E;var k=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var r=t[0].pts,a=0;for(a;a<e.length&&!(e[a].pts>=r);a++);return e.slice(0,a).concat(t)};r.updateGopBuffer=k;var T=function(e,t,n,r){for(var a=Math.ceil(9e4*(t-r)),i=Math.ceil(9e4*(n-r)),o=e.slice(),s=e.length;s--&&!(e[s].pts<=i););if(s===-1)return o;for(var l=s+1;l--&&!(e[l].pts<=a););return l=Math.max(l,0),o.splice(l,s-l+1),o};r.removeGopBuffer=T;var S=function(e){function t(e,n){var r=this;a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,u.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=n,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=u.default.browser.IE_VERSION>=11;var i={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,b.isAudioCodec)(e)?r.audioCodec_=e:(0,b.isVideoCodec)(e)&&(r.videoCodec_=e)}),this.transmuxer_=(0,y.default)(g.default,_()),this.transmuxer_.postMessage({action:"init",options:i}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?r.data_(e):"done"===e.data.action?r.done_(e):"gopInfo"===e.data.action?r.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&e>=0&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,n=0,r=[],a=[];if(!this.videoBuffer_&&!this.audioBuffer_)return u.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return u.default.createTimeRange();for(var i=this.videoBuffer_.buffered,o=this.audioBuffer_.buffered,s=i.length;s--;)r.push({time:i.start(s),type:"start"}),r.push({time:i.end(s),type:"end"});for(s=o.length;s--;)r.push({time:o.start(s),type:"start"}),r.push({time:o.end(s),type:"end"});for(r.sort(function(e,t){return e.time-t.time}),s=0;s<r.length;s++)"start"===r[s].type?(n++,2===n&&(e=r[s].time)):"end"===r[s].type&&(n--,1===n&&(t=r[s].time)),null!==e&&null!==t&&(a.push([e,t]),e=null,t=null);return u.default.createTimeRanges(a)}})}return i(t,e),o(t,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,d.default)(this,this.mediaSource_,t),
this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){return"closed"===this.mediaSource_.readyState?void(this.pendingBuffers_.length=0):void this.processPendingSegments_()}},{key:"createRealSourceBuffers_",value:function(){var e=this,t=["audio","video"];t.forEach(function(n){if(e[n+"Codec_"]&&!e[n+"Buffer_"]){var r=null;if(e.mediaSource_[n+"Buffer_"])r=e.mediaSource_[n+"Buffer_"],r.updating=!1;else{var a=n+"Codec_",i=n+'/mp4;codecs="'+e[a]+'"';r=w(e.mediaSource_.nativeMediaSource_,i),e.mediaSource_[n+"Buffer_"]=r}e[n+"Buffer_"]=r,["update","updatestart","updateend"].forEach(function(a){r.addEventListener(a,function(){if("audio"!==n||!e.audioDisabled_){"updateend"===a&&(e[n+"Buffer_"].updating=!1);var r=t.every(function(t){return!("audio"!==t||!e.audioDisabled_)||(n===t||!e[t+"Buffer_"]||!e[t+"Buffer_"].updating)});return r?e.trigger(a):void 0}})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:E(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=k(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=T(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,p.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)(0,p.default)(e,t,this.inbandTextTracks_[n])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var n=t.type,r=t.data,a=t.initSegment;return e[n].segments.push(r),e[n].bytes+=r.byteLength,e[n].initSegment=a,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[n].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,h.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var n=0,r=void 0;if(e.bytes){r=new Uint8Array(e.bytes),e.segments.forEach(function(e){r.set(e,n),n+=e.byteLength});try{t.updating=!0,t.appendBuffer(r)}catch(a){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:a.message,originalError:a})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),t}(u.default.EventTarget);r.default=S}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./add-text-track-data":64,"./codec-utils":65,"./create-text-tracks-if-necessary":66,"./remove-cues-from-track":72,"./transmuxer-worker":73,webwackify:76}],76:[function(e,t,r){var a=arguments[3],i=arguments[4],o=arguments[5],s=JSON.stringify,l=!1,u=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=entryModule)};"undefined"==typeof a&&(l=!0,a=u,i=n.m);var c=function(e){for(var t,n=Object.keys(o),r=0;r<n.length;r++){var l=n[r],u=o[l].exports;if(u===e||u&&u.default===e){t=l;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},r=0;r<n.length;r++){var l=n[r];c[l]=l}i[t]=["function(require,module,exports){"+e+"(self); }",c]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};return f[t]=t,i[d]=["function(require,module,exports){var f = require("+s(t)+");(f.default ? f.default : f)(self);}",f],"("+a+")({"+Object.keys(i).map(function(e){return s(e)+":["+i[e][0]+","+s(i[e][1])+"]"}).join(",")+"},{},["+s(d)+"])"},d=function(e,t){var r,o="string"==typeof t;r=o?{}:[],Object.keys(i).forEach(function(e){i[e]&&(r[e]=i[e].toString())});var l=n(t);if(!l||l!==e&&l.default!==e){var u=r[t];r[t]=u.substring(0,u.length-1)+"\n"+e.name+"();\n}"}var c;if(o){t=s(t);var d=Object.keys(r).map(function(e){return s(e)+":"+r[e]});c="{"+d.join(",")+"}"}else c="["+r.join(",")+"]";return"var fn = ("+a.toString().replace("entryModule",t)+")("+c+');\n(typeof fn === "function") && fn(self);'};t.exports=function(e,t){var n;n=l?d(e,t):c(e);var r=new Blob([n],{type:"text/javascript"}),a=window.URL||window.webkitURL||window.mozURL||window.msURL,i=a.createObjectURL(r),o=new Worker(i);return o.objectURL=i,o}},{}],77:[function(e,n,r){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n){for(var r=!0;r;){var a=e,i=t,o=n;r=!1,null===a&&(a=Function.prototype);var s=Object.getOwnPropertyDescriptor(a,i);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(o)}var u=Object.getPrototypeOf(a);if(null===u)return;e=u,t=i,n=o,r=!0,s=u=void 0}},l=e("global/document"),u=r(l),c=e("./playlist-loader"),d=r(c),f=e("./playlist"),p=r(f),h=e("./xhr"),m=r(h),y=e("aes-decrypter"),v=e("./bin-utils"),g=r(v),b=e("videojs-contrib-media-sources"),_=e("m3u8-parser"),w=r(_),E="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,k=r(E),T=e("./master-playlist-controller"),S=e("./config"),C=r(S),P=e("./rendition-mixin"),O=r(P),N=e("global/window"),A=r(N),j=e("./playback-watcher"),I=r(j),x=e("./reload-source-on-error"),M=r(x),D=e("./playlist-selectors.js"),L={PlaylistLoader:d.default,Playlist:p.default,Decrypter:y.Decrypter,AsyncStream:y.AsyncStream,decrypt:y.decrypt,utils:g.default,STANDARD_PLAYLIST_SELECTOR:D.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:D.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:D.comparePlaylistBandwidth,comparePlaylistResolution:D.comparePlaylistResolution,xhr:(0,m.default)()},R=4194304;["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(e){Object.defineProperty(L,e,{get:function(){return k.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),C.default[e]},set:function(t){return k.default.log.warn("using Hls."+e+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?void k.default.log.warn("value of Hls."+e+" must be greater than or equal to 0"):void(C.default[e]=t)}})});var B=function(e,t){for(var n=t.media(),r=-1,a=0;a<e.length;a++)if(e[a].id===n.uri){r=a;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},U=function(e,t){t.representations().forEach(function(t){e.addQualityLevel(t)}),B(e,t.playlists)};L.canPlaySource=function(){return k.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},L.supportsNativeHls=function(){var e=u.default.createElement("video");if(!k.default.getTech("Html5").isSupported())return!1;var t=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return t.some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),L.isSupported=function(){return k.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var F=k.default.getComponent("Component"),V=function(e){function t(e,n,r){var i=this;if(a(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n,r.hls),n.options_&&n.options_.playerId){var o=(0,k.default)(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return k.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),i}})}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(u.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=u.default.fullscreenElement||u.default.webkitFullscreenElement||u.default.mozFullScreenElement||u.default.msFullscreenElement;t&&t.contains(i.tech_.el())&&i.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){return this.ignoreNextSeekingEvent_?void(this.ignoreNextSeekingEvent_=!1):void this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return i(t,e),o(t,[{key:"setOptions_",value:function(){var e=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=R),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===R,["withCredentials","bandwidth","handleManifestRedirects"].forEach(function(t){"undefined"!=typeof e.source_[t]&&(e.options_[t]=e.source_[t])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=L,this.masterPlaylistController_=new T.MasterPlaylistController(this.options_),this.playbackWatcher_=new I.default(k.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){var e=k.default.players[t.tech_.options_.playerId];e.error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):L.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=L.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;t=this.throughput>0?1/this.throughput:0;var n=Math.floor(1/(e+t));return n},set:function(){k.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,O.default)(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(k.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var e=this,t=k.default.players[this.tech_.options_.playerId];t&&t.qualityLevels&&(this.qualityLevels_=t.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){U(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){B(e.qualityLevels_,e.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),s(Object.getPrototypeOf(t.prototype),"dispose",this).call(this)}}]),t}(F),H=function e(t){return{canHandleSource:function(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=k.default.mergeOptions(k.default.options,r);return(!a.hls||!a.hls.mode||a.hls.mode===t)&&e.canPlayType(n.type,a)},handleSource:function(e,n){var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a=k.default.mergeOptions(k.default.options,r,{hls:{mode:t}});return"flash"===t&&n.setTimeout(function(){n.trigger("loadstart")},1),n.hls=new V(e,n,a),n.hls.xhr=(0,m.default)(),n.hls.src(e.src),n.hls},canPlayType:function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=k.default.mergeOptions(k.default.options,n);return e.canPlayType(t,r)?"maybe":""}}};H.canPlayType=function(e,t){if(k.default.browser.IE_VERSION&&k.default.browser.IE_VERSION<=10)return!1;var n=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;return!(!t.hls.overrideNative&&L.supportsNativeHls)&&n.test(e)},"undefined"!=typeof k.default.MediaSource&&"undefined"!=typeof k.default.URL||(k.default.MediaSource=b.MediaSource,k.default.URL=b.URL);var W=k.default.getTech("Flash");b.MediaSource.supportsNativeMediaSources()&&k.default.getTech("Html5").registerSourceHandler(H("html5"),0),A.default.Uint8Array&&W&&W.registerSourceHandler(H("flash")),k.default.HlsHandler=V,k.default.HlsSourceHandler=H,k.default.Hls=L,k.default.use||k.default.registerComponent("Hls",L),k.default.m3u8=w.default,k.default.options.hls=k.default.options.hls||{},k.default.registerPlugin?k.default.registerPlugin("reloadSourceOnError",M.default):k.default.plugin("reloadSourceOnError",M.default),n.exports={Hls:L,HlsHandler:V,HlsSourceHandler:H}}).call(this,"undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./bin-utils":2,"./config":3,"./master-playlist-controller":5,"./playback-watcher":8,"./playlist":11,"./playlist-loader":9,"./playlist-selectors.js":10,"./reload-source-on-error":13,"./rendition-mixin":14,"./xhr":21,"aes-decrypter":25,"global/document":31,"global/window":32,"m3u8-parser":33,"videojs-contrib-media-sources":74}]},{},[77])(77)})}).call(t,function(){return this}())},function(e,t,n){!function(e,t){t(n(1284))}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t=function(e,t,n){this.vjsPlayer=e,this.controller=n,this.contentTrackingTimer=null,this.contentComplete=!1,this.updateTimeIntervalHandle=null,this.updateTimeInterval=1e3,this.seekCheckIntervalHandle=null,this.seekCheckInterval=1e3,this.resizeCheckIntervalHandle=null,this.resizeCheckInterval=250,this.seekThreshold=100,this.contentEndedListeners=[],this.contentSource="",this.contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this.vjsPlayerDimensions={width:this.getPlayerWidth(),height:this.getPlayerHeight()},this.vjsControls=this.vjsPlayer.getChild("controlBar"),this.h5Player=null,this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this)),this.boundContentEndedListener=this.localContentEndedListener.bind(this),this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.on("dispose",this.playerDisposedListener.bind(this)),this.vjsPlayer.on("readyforpreroll",this.onReadyForPreroll.bind(this)),this.vjsPlayer.ready(this.onPlayerReady.bind(this)),this.vjsPlayer.ads(t)};t.prototype.setUpPlayerIntervals=function(){this.updateTimeIntervalHandle=setInterval(this.updateCurrentTime.bind(this),this.updateTimeInterval),this.seekCheckIntervalHandle=setInterval(this.checkForSeeking.bind(this),this.seekCheckInterval),this.resizeCheckIntervalHandle=setInterval(this.checkForResize.bind(this),this.resizeCheckInterval)},t.prototype.updateCurrentTime=function(){this.contentPlayheadTracker.seeking||(this.contentPlayheadTracker.currentTime=this.vjsPlayer.currentTime())},t.prototype.checkForSeeking=function(){var e=this.vjsPlayer.currentTime(),t=1e3*(e-this.contentPlayheadTracker.previousTime);Math.abs(t)>this.seekCheckInterval+this.seekThreshold?this.contentPlayheadTracker.seeking=!0:this.contentPlayheadTracker.seeking=!1,this.contentPlayheadTracker.previousTime=this.vjsPlayer.currentTime()},t.prototype.checkForResize=function(){var e=this.getPlayerWidth(),t=this.getPlayerHeight();e==this.vjsPlayerDimensions.width&&t==this.vjsPlayerDimensions.height||(this.vjsPlayerDimensions.width=e,this.vjsPlayerDimensions.height=t,this.controller.onPlayerResize(e,t))},t.prototype.localContentEndedListener=function(){this.contentComplete||(this.contentComplete=!0,this.controller.onContentComplete());for(var e in this.contentEndedListeners)"function"==typeof this.contentEndedListeners[e]&&this.contentEndedListeners[e]();clearInterval(this.updateTimeIntervalHandle),clearInterval(this.seekCheckIntervalHandle),clearInterval(this.resizeCheckIntervalHandle),this.vjsPlayer.el()&&this.vjsPlayer.one("play",this.setUpPlayerIntervals.bind(this))},t.prototype.onNoPostroll=function(){this.vjsPlayer.trigger("nopostroll")},t.prototype.playerDisposedListener=function(){this.contentEndedListeners=[],this.controller.onPlayerDisposed(),this.contentComplete=!0,this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.adTimeoutTimeout&&clearTimeout(this.vjsPlayer.ads.adTimeoutTimeout);var e=[this.updateTimeIntervalHandle,this.seekCheckIntervalHandle,this.resizeCheckIntervalHandle];for(var t in e)e[t]&&clearInterval(e[t])},t.prototype.onReadyForPreroll=function(){this.controller.onPlayerReadyForPreroll()},t.prototype.onPlayerReady=function(){this.h5Player=document.getElementById(this.getPlayerId()).getElementsByClassName("vjs-tech")[0],this.h5Player.hasAttribute("autoplay")&&this.controller.setSetting("adWillAutoPlay",!0),this.onVolumeChange(),this.vjsPlayer.on("fullscreenchange",this.onFullscreenChange.bind(this)),this.vjsPlayer.on("volumechange",this.onVolumeChange.bind(this)),this.controller.onPlayerReady()},t.prototype.onFullscreenChange=function(){this.vjsPlayer.isFullscreen()?this.controller.onPlayerEnterFullscreen():this.controller.onPlayerExitFullscreen()},t.prototype.onVolumeChange=function(){var e=this.vjsPlayer.muted()?0:this.vjsPlayer.volume();this.controller.onPlayerVolumeChanged(e)},t.prototype.injectAdContainerDiv=function(e){this.vjsControls.el().parentNode.appendChild(e)},t.prototype.getContentPlayer=function(){return this.h5Player},t.prototype.getVolume=function(){return this.vjsPlayer.muted()?0:this.vjsPlayer.volume()},t.prototype.setVolume=function(e){this.vjsPlayer.volume(e),0==e?this.vjsPlayer.muted(!0):this.vjsPlayer.muted(!1)},t.prototype.unmute=function(){this.vjsPlayer.muted(!1)},t.prototype.mute=function(){this.vjsPlayer.muted(!0)},t.prototype.play=function(){this.vjsPlayer.play()},t.prototype.getPlayerWidth=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).width;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).width),parseInt(e,10)||this.vjsPlayer.width()},t.prototype.getPlayerHeight=function(){var e=(getComputedStyle(this.vjsPlayer.el())||{}).height;return e&&0!==parseInt(e,10)||(e=(this.vjsPlayer.el().getBoundingClientRect()||{}).height),parseInt(e,10)||this.vjsPlayer.height()},t.prototype.getPlayerOptions=function(){return this.vjsPlayer.options_},t.prototype.getPlayerId=function(){return this.vjsPlayer.id()},t.prototype.toggleFullscreen=function(){this.vjsPlayer.isFullscreen()?this.vjsPlayer.exitFullscreen():this.vjsPlayer.requestFullscreen()},t.prototype.getContentPlayheadTracker=function(){return this.contentPlayheadTracker},t.prototype.onAdError=function(e){this.vjsControls.show();var t=void 0!==e.getError?e.getError():e.stack;this.vjsPlayer.trigger({type:"adserror",data:{AdError:t,AdErrorEvent:e}})},t.prototype.onAdBreakStart=function(){this.contentSource=this.vjsPlayer.currentSrc(),this.vjsPlayer.off("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.startLinearAdMode(),this.vjsControls.hide(),this.vjsPlayer.pause()},t.prototype.onAdBreakEnd=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.vjsControls.show()},t.prototype.onAdStart=function(){this.vjsPlayer.trigger("ads-ad-started")},t.prototype.onAllAdsCompleted=function(){1==this.contentComplete&&(this.h5Player.src!=this.contentSource&&this.vjsPlayer.src(this.contentSource),this.controller.onContentAndAdsCompleted())},t.prototype.onAdsReady=function(){this.vjsPlayer.trigger("adsready")},t.prototype.changeSource=function(e,t){this.vjsPlayer.currentSrc()&&(this.vjsPlayer.currentTime(0),this.vjsPlayer.pause()),e&&this.vjsPlayer.src(e),t?this.vjsPlayer.one("loadedmetadata",this.playContentFromZero.bind(this)):this.vjsPlayer.one("loadedmetadata",this.seekContentToZero.bind(this))},t.prototype.seekContentToZero=function(){this.vjsPlayer.currentTime(0)},t.prototype.playContentFromZero=function(){this.vjsPlayer.currentTime(0),this.vjsPlayer.play()},t.prototype.triggerPlayerEvent=function(e,t){this.vjsPlayer.trigger(e,t)},t.prototype.addContentEndedListener=function(e){this.contentEndedListeners.push(e)},t.prototype.reset=function(){this.vjsPlayer.on("contentended",this.boundContentEndedListener),this.vjsControls.show(),this.vjsPlayer.ads.inAdBreak()&&this.vjsPlayer.ads.endLinearAdMode(),this.contentPlayheadTracker.currentTime=0,this.contentComplete=!1};var n=function(e){this.controller=e,this.adContainerDiv=document.createElement("div"),this.controlsDiv=document.createElement("div"),this.countdownDiv=document.createElement("div"),this.seekBarDiv=document.createElement("div"),this.progressDiv=document.createElement("div"),this.playPauseDiv=document.createElement("div"),this.muteDiv=document.createElement("div"),this.sliderDiv=document.createElement("div"),this.sliderLevelDiv=document.createElement("div"),this.fullscreenDiv=document.createElement("div"),this.boundOnMouseUp=this.onMouseUp.bind(this),this.boundOnMouseMove=this.onMouseMove.bind(this),this.adPlayheadTracker={currentTime:0,duration:0,isPod:!1,adPosition:0,totalAds:0},this.controlPrefix=this.controller.getPlayerId()+"_",this.showCountdown=!0,this.controller.getSettings().showCountdown===!1&&(this.showCountdown=!1),this.createAdContainer()};n.prototype.createAdContainer=function(){this.assignControlAttributes(this.adContainerDiv,"ima-ad-container"),this.adContainerDiv.style.position="absolute",this.adContainerDiv.style.zIndex=1111,this.adContainerDiv.addEventListener("mouseenter",this.showAdControls.bind(this),!1),this.adContainerDiv.addEventListener("mouseleave",this.hideAdControls.bind(this),!1),this.createControls(),this.controller.injectAdContainerDiv(this.adContainerDiv)},n.prototype.createControls=function(){this.assignControlAttributes(this.controlsDiv,"ima-controls-div"),this.controlsDiv.style.width="100%",this.assignControlAttributes(this.countdownDiv,"ima-countdown-div"),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel,this.countdownDiv.style.display=this.showCountdown?"block":"none",this.assignControlAttributes(this.seekBarDiv,"ima-seek-bar-div"),this.seekBarDiv.style.width="100%",this.assignControlAttributes(this.progressDiv,"ima-progress-div"),this.assignControlAttributes(this.playPauseDiv,"ima-play-pause-div"),this.addClass(this.playPauseDiv,"ima-playing"),this.playPauseDiv.addEventListener("click",this.onAdPlayPauseClick.bind(this),!1),this.assignControlAttributes(this.muteDiv,"ima-mute-div"),this.addClass(this.muteDiv,"ima-non-muted"),this.muteDiv.addEventListener("click",this.onAdMuteClick.bind(this),!1),this.assignControlAttributes(this.sliderDiv,"ima-slider-div"),this.sliderDiv.addEventListener("mousedown",this.onAdVolumeSliderMouseDown.bind(this),!1),this.controller.getIsIos()&&(this.sliderDiv.style.display="none"),this.assignControlAttributes(this.sliderLevelDiv,"ima-slider-level-div"),this.assignControlAttributes(this.fullscreenDiv,"ima-fullscreen-div"),this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.fullscreenDiv.addEventListener("click",this.onAdFullscreenClick.bind(this),!1),this.adContainerDiv.appendChild(this.controlsDiv),this.controlsDiv.appendChild(this.countdownDiv),this.controlsDiv.appendChild(this.seekBarDiv),this.controlsDiv.appendChild(this.playPauseDiv),this.controlsDiv.appendChild(this.muteDiv),this.controlsDiv.appendChild(this.sliderDiv),this.controlsDiv.appendChild(this.fullscreenDiv),this.seekBarDiv.appendChild(this.progressDiv),this.sliderDiv.appendChild(this.sliderLevelDiv)},n.prototype.onAdPlayPauseClick=function(){this.controller.onAdPlayPauseClick()},n.prototype.onAdMuteClick=function(){this.controller.onAdMuteClick()},n.prototype.onAdFullscreenClick=function(){this.controller.toggleFullscreen()},n.prototype.onAdsPaused=function(){this.addClass(this.playPauseDiv,"ima-paused"),this.removeClass(this.playPauseDiv,"ima-playing"),this.showAdControls()},n.prototype.onAdsResumed=function(){this.onAdsPlaying(),this.showAdControls()},n.prototype.onAdsPlaying=function(){this.addClass(this.playPauseDiv,"ima-playing"),this.removeClass(this.playPauseDiv,"ima-paused")},n.prototype.updateAdUi=function(e,t,n,r,a){var i=Math.floor(t/60),o=Math.floor(t%60);o.toString().length<2&&(o="0"+o);var s=": ";a>1&&(s=" ("+r+" "+this.controller.getSettings().adLabelNofN+" "+a+"): "),this.countdownDiv.innerHTML=this.controller.getSettings().adLabel+s+i+":"+o;var l=e/n,u=100*l;this.progressDiv.style.width=u+"%"},n.prototype.unmute=function(){this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*this.controller.getPlayerVolume()+"%"},n.prototype.mute=function(){this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"},n.prototype.onAdVolumeSliderMouseDown=function(){document.addEventListener("mouseup",this.boundOnMouseUp,!1),document.addEventListener("mousemove",this.boundOnMouseMove,!1)},n.prototype.onMouseMove=function(e){this.changeVolume(e)},n.prototype.onMouseUp=function(e){this.changeVolume(e),document.removeEventListener("mouseup",this.boundOnMouseUp),document.removeEventListener("mousemove",this.boundOnMouseMove)},n.prototype.changeVolume=function(e){var t=(e.clientX-this.sliderDiv.getBoundingClientRect().left)/this.sliderDiv.offsetWidth;t*=100,t=Math.min(Math.max(t,0),100),this.sliderLevelDiv.style.width=t+"%",0==this.percent?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted")):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted")),this.controller.setVolume(t/100)},n.prototype.showAdContainer=function(){this.adContainerDiv.style.display="block"},n.prototype.onAdError=function(){this.adContainerDiv.style.display="none"},n.prototype.onAdBreakStart=function(e){this.adContainerDiv.style.display="block";var t=e.getAd().getContentType();"application/javascript"!==t||this.controller.getSettings().showControlsForJSAds?this.controlsDiv.style.display="block":this.controlsDiv.style.display="none",this.onAdsPlaying(),this.hideAdControls()},n.prototype.onAdBreakEnd=function(){var e=this.controller.getCurrentAd();(null==e||e.isLinear())&&(this.adContainerDiv.style.display="none"),this.controlsDiv.style.display="none",this.countdownDiv.innerHTML=""},n.prototype.onAllAdsCompleted=function(){this.adContainerDiv.style.display="none"},n.prototype.onLinearAdStart=function(){this.removeClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onNonLinearAdLoad=function(){this.adContainerDiv.style.display="block",this.addClass(this.adContainerDiv,"bumpable-ima-ad-container")},n.prototype.onPlayerEnterFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-non-fullscreen")},n.prototype.onPlayerExitFullscreen=function(){this.addClass(this.fullscreenDiv,"ima-non-fullscreen"),this.removeClass(this.fullscreenDiv,"ima-fullscreen")},n.prototype.onPlayerVolumeChanged=function(e){0==e?(this.addClass(this.muteDiv,"ima-muted"),this.removeClass(this.muteDiv,"ima-non-muted"),this.sliderLevelDiv.style.width="0%"):(this.addClass(this.muteDiv,"ima-non-muted"),this.removeClass(this.muteDiv,"ima-muted"),this.sliderLevelDiv.style.width=100*e+"%")},n.prototype.showAdControls=function(){this.addClass(this.controlsDiv,"ima-controls-div-showing"),
this.playPauseDiv.style.display="block",this.muteDiv.style.display="block",this.fullscreenDiv.style.display="block",this.controller.getIsIos()||(this.sliderDiv.style.display="block")},n.prototype.hideAdControls=function(){this.removeClass(this.controlsDiv,"ima-controls-div-showing"),this.playPauseDiv.style.display="none",this.muteDiv.style.display="none",this.sliderDiv.style.display="none",this.fullscreenDiv.style.display="none"},n.prototype.assignControlAttributes=function(e,t){e.id=this.controlPrefix+t,e.className=this.controlPrefix+t+" "+t},n.prototype.getClassRegexp=function(e){return new RegExp("(^|[^A-Za-z-])"+e+"((?![A-Za-z-])|$)","gi")},n.prototype.elementHasClass=function(e,t){var n=this.getClassRegexp(t);return n.test(e.className)},n.prototype.addClass=function(e,t){e.className=e.className.trim()+" "+t},n.prototype.removeClass=function(e,t){var n=this.getClassRegexp(t);e.className=e.className.trim().replace(n,"")},n.prototype.getAdContainerDiv=function(){return this.adContainerDiv},n.prototype.setShowCountdown=function(e){this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"};var r="videojs-ima",a="1.5.1",i="Apache-2.0",o="./dist/videojs.ima.js",s={name:"Google Inc."},l={node:">=0.8.0"},u={contBuild:"watch 'npm run rollup:max' src",predevServer:'echo "Starting up server on localhost:8000."',devServer:"forever start ./node_modules/http-server/bin/http-server -p 8000 && npm run contBuild",postdevServer:"forever stop ./node_modules/http-server/bin/http-server",lint:'eslint "src/*.js"',rollup:"npm-run-all rollup:*","rollup:max":"rollup -c configs/rollup.config.js","rollup:min":"rollup -c configs/rollup.config.min.js",pretest:"npm run rollup",start:"npm run devServer",test:"npm-run-all test:*","test:vjs5":"npm install video.js@5.19.2 --no-save && npm-run-all -p -r testServer webdriver","test:vjs6":"npm install video.js@6 --no-save && npm-run-all -p -r testServer webdriver",testServer:"http-server --cors -p 8000 --silent",preversion:"node scripts/preversion.js && npm run lint && npm test",version:"node scripts/version.js",postversion:"node scripts/postversion.js",webdriver:"mocha test/webdriver/*.js --no-timeouts"},c={type:"git",url:"https://github.com/googleads/videojs-ima"},d=["CHANGELOG.md","LICENSE","README.md","dist/","src/"],f={"can-autoplay":"^3.0.0","video.js":"^5.19.2 || ^6","videojs-contrib-ads":"^6"},p={"babel-core":"^6.26.0","babel-preset-env":"^1.6.1",child_process:"^1.0.2",chromedriver:"^2.35.0","conventional-changelog-cli":"^1.3.5","conventional-changelog-videojs":"^3.0.0",eslint:"^4.11.0","eslint-config-google":"^0.9.1","eslint-plugin-jsdoc":"^3.2.0",forever:"^0.15.3",geckodriver:"^1.10.0","http-server":"^0.10.0",mocha:"^4.0.1","npm-run-all":"^4.1.2",path:"^0.12.7",rimraf:"^2.6.2",rollup:"^0.51.8","rollup-plugin-babel":"^3.0.3","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-uglify":"^2.0.1","selenium-webdriver":"^3.6.0","uglify-es":"^3.1.10",watch:"^1.0.2"},h=["videojs","videojs-plugin"],m={name:r,version:a,license:i,main:o,author:s,engines:l,scripts:u,repository:c,files:d,dependencies:f,devDependencies:p,keywords:h},y=function(e){this.controller=e,this.adDisplayContainer=null,this.adDisplayContainerInitialized=!1,this.adsLoader=null,this.adsManager=null,this.adsRenderingSettings=null,this.adTagUrl=null,this.adsResponse=null,this.currentAd=null,this.adTrackingTimer=null,this.allAdsCompleted=!1,this.adsActive=!1,this.adPlaying=!1,this.adMuted=!1,this.adBreakReadyListener=void 0,this.contentCompleteCalled=!1,this.adsManagerDimensions={width:0,height:0},this.autoPlayAdBreaks=!0,this.controller.getSettings().autoPlayAdBreaks===!1&&(this.autoPlayAdBreaks=!1),this.controller.getSettings().locale&&google.ima.settings.setLocale(this.controller.getSettings().locale),this.controller.getSettings().disableFlashAds&&google.ima.settings.setDisableFlashAds(this.controller.getSettings().disableFlashAds),this.controller.getSettings().disableCustomPlaybackForIOS10Plus&&google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.controller.getSettings().disableCustomPlaybackForIOS10Plus)};y.prototype.initAdObjects=function(){this.adDisplayContainer=new google.ima.AdDisplayContainer(this.controller.getAdContainerDiv(),this.controller.getContentPlayer()),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),0==this.controller.getSettings().vpaidAllowed&&this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED),this.controller.getSettings().vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.controller.getSettings().vpaidMode),this.controller.getSettings().locale&&this.adsLoader.getSettings().setLocale(this.controller.getSettings().locale),this.controller.getSettings().numRedirects&&this.adsLoader.getSettings().setNumRedirects(this.controller.getSettings().numRedirects),this.adsLoader.getSettings().setPlayerType("videojs-ima"),this.adsLoader.getSettings().setPlayerVersion(m.version),this.adsLoader.getSettings().setAutoPlayAdBreaks(this.autoPlayAdBreaks),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdsLoaderError.bind(this),!1)},y.prototype.requestAds=function(){var e=new google.ima.AdsRequest;this.controller.getSettings().adTagUrl?e.adTagUrl=this.controller.getSettings().adTagUrl:e.adsResponse=this.controller.getSettings().adsResponse,this.controller.getSettings().forceNonLinearFullSlot&&(e.forceNonLinearFullSlot=!0),this.controller.getSettings().vastLoadTimeout&&(e.vastLoadTimeout=this.controller.getSettings().vastLoadTimeout),e.linearAdSlotWidth=this.controller.getPlayerWidth(),e.linearAdSlotHeight=this.controller.getPlayerHeight(),e.nonLinearAdSlotWidth=this.controller.getSettings().nonLinearWidth||this.controller.getPlayerWidth(),e.nonLinearAdSlotHeight=this.controller.getSettings().nonLinearHeight||this.controller.getPlayerHeight(),e.setAdWillAutoPlay(this.controller.adsWillAutoplay()),e.setAdWillPlayMuted(this.controller.adsWillPlayMuted()),this.adsLoader.requestAds(e),this.controller.triggerPlayerEvent("ads-request",e)},y.prototype.onAdsManagerLoaded=function(e){this.createAdsRenderingSettings(),this.adsManager=e.getAdsManager(this.controller.getContentPlayheadTracker(),this.adsRenderingSettings),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,this.onAdBreakReady.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.onAllAdsCompleted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.onAdLoaded.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.onAdStarted.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.onAdComplete.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.onAdComplete.bind(this)),this.controller.getIsMobile()&&(this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.onAdPaused.bind(this)),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.onAdResumed.bind(this))),this.autoPlayAdBreaks||this.initAdsManager(),this.controller.onAdsReady(),this.controller.getSettings().adsManagerLoadedCallback&&this.controller.getSettings().adsManagerLoadedCallback()},y.prototype.onAdsLoaderError=function(e){window.console.warn("AdsLoader error: "+e.getError()),this.controller.onErrorLoadingAds(e),this.adsManager&&this.adsManager.destroy()},y.prototype.initAdsManager=function(){try{var e=this.controller.getPlayerWidth(),t=this.controller.getPlayerHeight();this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.init(e,t,google.ima.ViewMode.NORMAL),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adDisplayContainerInitialized||(this.adDisplayContainer.initialize(),this.adDisplayContainer.initialized=!0)}catch(n){this.onAdError(n)}},y.prototype.createAdsRenderingSettings=function(){if(this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.controller.getSettings().adsRenderingSettings)for(var e in this.controller.getSettings().adsRenderingSettings)""!==e&&(this.adsRenderingSettings[e]=this.controller.getSettings().adsRenderingSettings[e])},y.prototype.onAdError=function(e){var t=void 0!==e.getError?e.getError():e.stack;window.console.warn("Ad error: "+t),this.adsManager.destroy(),this.controller.onAdError(e),this.adsActive=!1,this.adPlaying=!1},y.prototype.onAdBreakReady=function(e){this.adBreakReadyListener(e)},y.prototype.onContentPauseRequested=function(e){this.adsActive=!0,this.adPlaying=!0,this.controller.onAdBreakStart(e)},y.prototype.onContentResumeRequested=function(e){this.adsActive=!1,this.adPlaying=!1,this.controller.onAdBreakEnd()},y.prototype.onAllAdsCompleted=function(e){this.allAdsCompleted=!0,this.controller.onAllAdsCompleted()},y.prototype.onAdLoaded=function(e){e.getAd().isLinear()||(this.controller.onNonLinearAdLoad(),this.controller.playContent())},y.prototype.onAdStarted=function(e){this.currentAd=e.getAd(),this.currentAd.isLinear()?(this.adTrackingTimer=setInterval(this.onAdPlayheadTrackerInterval.bind(this),250),this.controller.onLinearAdStart()):this.controller.onNonLinearAdStart()},y.prototype.onAdPaused=function(){this.controller.onAdsPaused()},y.prototype.onAdResumed=function(e){this.controller.onAdsResumed()},y.prototype.onAdComplete=function(){this.currentAd.isLinear()&&clearInterval(this.adTrackingTimer)},y.prototype.onAdPlayheadTrackerInterval=function(){var e=this.adsManager.getRemainingTime(),t=this.currentAd.getDuration(),n=t-e;n=n>0?n:0;var r=0,a=void 0;this.currentAd.getAdPodInfo()&&(a=this.currentAd.getAdPodInfo().getAdPosition(),r=this.currentAd.getAdPodInfo().getTotalAds()),this.controller.onAdPlayheadUpdated(n,e,t,a,r)},y.prototype.onContentComplete=function(){this.adsLoader&&(this.adsLoader.contentComplete(),this.contentCompleteCalled=!0),this.adsManager&&this.adsManager.getCuePoints()&&!this.adsManager.getCuePoints().includes(-1)&&this.controller.onNoPostroll(),this.allAdsCompleted&&this.controller.onContentAndAdsCompleted()},y.prototype.onPlayerDisposed=function(){this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null)},y.prototype.onPlayerReadyForPreroll=function(){if(this.autoPlayAdBreaks){this.initAdsManager();try{this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start()}catch(e){this.onAdError(e)}}},y.prototype.onPlayerReady=function(){this.initAdObjects(),(this.controller.getSettings().adTagUrl||this.controller.getSettings().adsResponse)&&this.requestAds()},y.prototype.onPlayerEnterFullscreen=function(){this.adsManager&&this.adsManager.resize(window.screen.width,window.screen.height,google.ima.ViewMode.FULLSCREEN)},y.prototype.onPlayerExitFullscreen=function(){this.adsManager&&this.adsManager.resize(this.controller.getPlayerWidth(),this.controller.getPlayerHeight(),google.ima.ViewMode.NORMAL)},y.prototype.onPlayerVolumeChanged=function(e){this.adsManager&&this.adsManager.setVolume(e),0==e?this.adMuted=!0:this.adMuted=!1},y.prototype.onPlayerResize=function(e,t){this.adsManager&&(this.adsManagerDimensions.width=e,this.adsManagerDimensions.height=t,this.adsManager.resize(e,t,google.ima.ViewMode.NORMAL))},y.prototype.getCurrentAd=function(){return this.currentAd},y.prototype.setAdBreakReadyListener=function(e){this.adBreakReadyListener=e},y.prototype.isAdPlaying=function(){return this.adPlaying},y.prototype.isAdMuted=function(){return this.adMuted},y.prototype.pauseAds=function(){this.adsManager.pause(),this.adPlaying=!1},y.prototype.resumeAds=function(){this.adsManager.resume(),this.adPlaying=!0},y.prototype.unmute=function(){this.adsManager.setVolume(1),this.adMuted=!1},y.prototype.mute=function(){this.adsManager.setVolume(0),this.adMuted=!0},y.prototype.setVolume=function(e){this.adsManager.setVolume(e),0==e?this.adMuted=!0:this.adMuted=!1},y.prototype.initializeAdDisplayContainer=function(){this.adDisplayContainer&&(this.adDisplayContainerInitialized=!0,this.adDisplayContainer.initialize())},y.prototype.playAdBreak=function(){this.autoPlayAdBreaks||(this.controller.showAdContainer(),this.adsManager.setVolume(this.controller.getPlayerVolume()),this.adsManager.start())},y.prototype.addEventListener=function(e,t){this.adsManager&&this.adsManager.addEventListener(e,t)},y.prototype.getAdsManager=function(){return this.adsManager},y.prototype.reset=function(){this.adsActive=!1,this.adPlaying=!1,this.adTrackingTimer&&clearInterval(this.adTrackingTimer),this.adsManager&&(this.adsManager.destroy(),this.adsManager=null),this.adsLoader&&!this.contentCompleteCalled&&this.adsLoader.contentComplete(),this.contentCompleteCalled=!1,this.allAdsCompleted=!1};var v=function(e,r){this.settings={},this.contentAndAdsEndedListeners=[],this.isMobile=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i),this.isIos=navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i),this.initWithSettings(r);var a={debug:this.settings.debug,timeout:this.settings.timeout,prerollTimeout:this.settings.prerollTimeout},i=this.extend({},a,r.contribAdsSettings||{});this.playerWrapper=new t(e,i,this),this.adUi=new n(this),this.sdkImpl=new y(this)};v.IMA_DEFAULTS={debug:!1,timeout:5e3,prerollTimeout:1e3,adLabel:"Advertisement",adLabelNofN:"of",showControlsForJSAds:!0},v.prototype.initWithSettings=function(e){this.settings=this.extend({},v.IMA_DEFAULTS,e||{}),this.warnAboutDeprecatedSettings(),this.showCountdown=!0,this.settings.showCountdown===!1&&(this.showCountdown=!1)},v.prototype.warnAboutDeprecatedSettings=function(){var e=this,t=["adWillAutoplay","adsWillAutoplay","adWillPlayMuted","adsWillPlayMuted"];t.forEach(function(t){void 0!==e.settings[t]&&console.warn("WARNING: videojs.ima setting "+t+" is deprecated")})},v.prototype.getSettings=function(){return this.settings},v.prototype.getIsMobile=function(){return this.isMobile},v.prototype.getIsIos=function(){return this.isIos},v.prototype.injectAdContainerDiv=function(e){this.playerWrapper.injectAdContainerDiv(e)},v.prototype.getAdContainerDiv=function(){return this.adUi.getAdContainerDiv()},v.prototype.getContentPlayer=function(){return this.playerWrapper.getContentPlayer()},v.prototype.getContentPlayheadTracker=function(){return this.playerWrapper.getContentPlayheadTracker()},v.prototype.requestAds=function(){this.sdkImpl.requestAds()},v.prototype.setSetting=function(e,t){this.settings[e]=t},v.prototype.onErrorLoadingAds=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},v.prototype.onAdPlayPauseClick=function(){this.sdkImpl.isAdPlaying()?(this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()):(this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds())},v.prototype.onAdMuteClick=function(){this.sdkImpl.isAdMuted()?(this.playerWrapper.unmute(),this.adUi.unmute(),this.sdkImpl.unmute()):(this.playerWrapper.mute(),this.adUi.mute(),this.sdkImpl.mute())},v.prototype.setVolume=function(e){this.playerWrapper.setVolume(e),this.sdkImpl.setVolume(e)},v.prototype.getPlayerVolume=function(){return this.playerWrapper.getVolume()},v.prototype.toggleFullscreen=function(){this.playerWrapper.toggleFullscreen()},v.prototype.onAdError=function(e){this.adUi.onAdError(),this.playerWrapper.onAdError(e)},v.prototype.onAdBreakStart=function(e){this.playerWrapper.onAdBreakStart(),this.adUi.onAdBreakStart(e)},v.prototype.showAdContainer=function(){this.adUi.showAdContainer()},v.prototype.onAdBreakEnd=function(){this.playerWrapper.onAdBreakEnd(),this.adUi.onAdBreakEnd()},v.prototype.onAllAdsCompleted=function(){this.adUi.onAllAdsCompleted(),this.playerWrapper.onAllAdsCompleted()},v.prototype.onAdsPaused=function(){this.adUi.onAdsPaused()},v.prototype.onAdsResumed=function(){this.adUi.onAdsResumed()},v.prototype.onAdPlayheadUpdated=function(e,t,n,r,a){this.adUi.updateAdUi(e,t,n,r,a)},v.prototype.getCurrentAd=function(){return this.sdkImpl.getCurrentAd()},v.prototype.playContent=function(){this.playerWrapper.play()},v.prototype.onLinearAdStart=function(){this.adUi.onLinearAdStart(),this.playerWrapper.onAdStart()},v.prototype.onNonLinearAdLoad=function(){this.adUi.onNonLinearAdLoad()},v.prototype.onNonLinearAdStart=function(){this.adUi.onNonLinearAdLoad(),this.playerWrapper.onAdStart()},v.prototype.getPlayerWidth=function(){return this.playerWrapper.getPlayerWidth()},v.prototype.getPlayerHeight=function(){return this.playerWrapper.getPlayerHeight()},v.prototype.onAdsReady=function(){this.playerWrapper.onAdsReady()},v.prototype.onPlayerResize=function(e,t){this.sdkImpl.onPlayerResize(e,t)},v.prototype.onContentComplete=function(){this.sdkImpl.onContentComplete()},v.prototype.onNoPostroll=function(){this.playerWrapper.onNoPostroll()},v.prototype.onContentAndAdsCompleted=function(){for(var e in this.contentAndAdsEndedListeners)"function"==typeof this.contentAndAdsEndedListeners[e]&&this.contentAndAdsEndedListeners[e]()},v.prototype.onPlayerDisposed=function(){this.contentAndAdsEndedListeners=[],this.sdkImpl.onPlayerDisposed()},v.prototype.onPlayerReadyForPreroll=function(){this.sdkImpl.onPlayerReadyForPreroll()},v.prototype.onPlayerReady=function(){this.sdkImpl.onPlayerReady()},v.prototype.onPlayerEnterFullscreen=function(){this.adUi.onPlayerEnterFullscreen(),this.sdkImpl.onPlayerEnterFullscreen()},v.prototype.onPlayerExitFullscreen=function(){this.adUi.onPlayerExitFullscreen(),this.sdkImpl.onPlayerExitFullscreen()},v.prototype.onPlayerVolumeChanged=function(e){this.adUi.onPlayerVolumeChanged(e),this.sdkImpl.onPlayerVolumeChanged(e)},v.prototype.setContentWithAdTag=function(e,t,n){this.reset(),this.settings.adTagUrl=t?t:this.settings.adTagUrl,this.playerWrapper.changeSource(e,n)},v.prototype.setContentWithAdsResponse=function(e,t,n){this.reset(),this.settings.adsResponse=t?t:this.settings.adsResponse,this.playerWrapper.changeSource(e,n)},v.prototype.reset=function(){this.sdkImpl.reset(),this.playerWrapper.reset()},v.prototype.addContentEndedListener=function(e){this.playerWrapper.addContentEndedListener(e)},v.prototype.addContentAndAdsEndedListener=function(e){this.contentAndAdsEndedListeners.push(e)},v.prototype.setAdBreakReadyListener=function(e){this.sdkImpl.setAdBreakReadyListener(e)},v.prototype.setShowCountdown=function(e){this.adUi.setShowCountdown(e),this.showCountdown=e,this.countdownDiv.style.display=this.showCountdown?"block":"none"},v.prototype.initializeAdDisplayContainer=function(){this.sdkImpl.initializeAdDisplayContainer()},v.prototype.playAdBreak=function(){this.sdkImpl.playAdBreak()},v.prototype.addEventListener=function(e,t){this.sdkImpl.addEventListener(e,t)},v.prototype.getAdsManager=function(){return this.sdkImpl.getAdsManager()},v.prototype.getPlayerId=function(){return this.playerWrapper.getPlayerId()},v.prototype.changeAdTag=function(e){this.reset(),this.settings.adTagUrl=e},v.prototype.pauseAd=function(){this.adUi.onAdsPaused(),this.sdkImpl.pauseAds()},v.prototype.resumeAd=function(){this.adUi.onAdsPlaying(),this.sdkImpl.resumeAds()},v.prototype.adsWillAutoplay=function(){return void 0!==this.settings.adsWillAutoplay?this.settings.adsWillAutoplay:void 0!==this.settings.adWillAutoplay?this.settings.adWillAutoplay:!!this.playerWrapper.getPlayerOptions().autoplay},v.prototype.adsWillPlayMuted=function(){return void 0!==this.settings.adsWillPlayMuted?this.settings.adsWillPlayMuted:void 0!==this.settings.adWillPlayMuted?this.settings.adWillPlayMuted:void 0!==this.playerWrapper.getPlayerOptions().muted?this.playerWrapper.getPlayerOptions().muted:0==this.playerWrapper.getVolume()},v.prototype.triggerPlayerEvent=function(e,t){this.playerWrapper.triggerPlayerEvent(e,t)},v.prototype.extend=function(e){for(var t=void 0,n=void 0,r=void 0,a=arguments.length,i=Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];for(n=0;n<i.length;n++){t=i[n];for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}return e};var g=function(e,t){this.controller=new v(e,t),this.addContentAndAdsEndedListener=function(e){this.controller.addContentAndAdsEndedListener(e)}.bind(this),this.addContentEndedListener=function(e){this.controller.addContentEndedListener(e)}.bind(this),this.addEventListener=function(e,t){this.controller.addEventListener(e,t)}.bind(this),this.changeAdTag=function(e){this.controller.changeAdTag(e)}.bind(this),this.getAdsManager=function(){return this.controller.getAdsManager()}.bind(this),this.initializeAdDisplayContainer=function(){this.controller.initializeAdDisplayContainer()}.bind(this),this.pauseAd=function(){this.controller.pauseAd()}.bind(this),this.playAdBreak=function(){this.controller.playAdBreak()}.bind(this),this.requestAds=function(){this.controller.requestAds()}.bind(this),this.resumeAd=function(){this.controller.resumeAd()}.bind(this),this.setAdBreakReadyListener=function(e){this.controller.setAdBreakReadyListener(e)}.bind(this),this.setContentWithAdTag=function(e,t,n){this.controller.setContentWithAdTag(e,t,n)}.bind(this),this.setContentWithAdsResponse=function(e,t,n){this.controller.setContentWithAdsResponse(e,t,n)}.bind(this),this.setShowCountdown=function(e){this.controller.setShowCountdown(e)}.bind(this)},b=function(e){this.ima=new g(this,e)},_=e.registerPlugin||e.plugin;_("ima",b)})},function(e,t,n){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(e,t){ht(e).forEach(function(n){return t(e[n],n)})}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ht(e).reduce(function(n,r){return t(n,e[r],r)},n)}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[e].concat(n)):(n.forEach(function(t){t&&a(t,function(t,n){e[n]=t})}),e)}function s(e){return!!e&&"object"===("undefined"==typeof e?"undefined":lt(e))}function l(e){return s(e)&&"[object Object]"===pt.call(e)&&e.constructor===Object}function u(e,t){if(!e||!t)return"";if("function"==typeof Ie.getComputedStyle){var n=Ie.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}function c(e){return"string"==typeof e&&/\S/.test(e)}function d(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function f(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function p(){return xe===Ie.document&&"undefined"!=typeof xe.createElement}function h(e){return s(e)&&1===e.nodeType}function m(){try{return Ie.parent!==Ie.self}catch(e){return!0}}function y(e){return function(t,n){if(!c(t))return xe[e](null);c(n)&&(n=xe.querySelector(n));var r=h(n)?n:xe;return r[e]&&r[e](t)}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],a=xe.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];e.indexOf("aria-")!==-1||"role"===e||"type"===e?(bt.warn(Me(_t,e,n)),a.setAttribute(e,n)):"textContent"===e?g(a,n):a[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){a.setAttribute(e,n[e])}),r&&R(a,r),a}function g(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function b(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function _(e,t){return d(t),e.classList?e.classList.contains(t):f(t).test(e.className)}function w(e,t){return e.classList?e.classList.add(t):_(e,t)||(e.className=(e.className+" "+t).trim()),e}function E(e,t){return e.classList?e.classList.remove(t):(d(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function k(e,t,n){var r=_(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?w(e,t):E(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||"undefined"==typeof r||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function S(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,a=r.length-1;a>=0;a--){var i=r[a].name,o=r[a].value;"boolean"!=typeof e[i]&&n.indexOf(","+i+",")===-1||(o=null!==o),t[i]=o}return t}function C(e,t){return e.getAttribute(t)}function P(e,t,n){e.setAttribute(t,n)}function O(e,t){e.removeAttribute(t)}function N(){xe.body.focus(),xe.onselectstart=function(){return!1}}function A(){xe.onselectstart=function(){return!0}}function j(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(u(e,"height"))),n.width||(n.width=parseFloat(u(e,"width"))),n}}function I(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=xe.documentElement,r=xe.body,a=n.clientLeft||r.clientLeft||0,i=Ie.pageXOffset||r.scrollLeft,o=t.left+i-a,s=n.clientTop||r.clientTop||0,l=Ie.pageYOffset||r.scrollTop,u=t.top+l-s;return{left:Math.round(o),top:Math.round(u)}}function x(e,t){var n={},r=I(e),a=e.offsetWidth,i=e.offsetHeight,o=r.top,s=r.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-l+i)/i)),n.x=Math.max(0,Math.min(1,(u-s)/a)),n}function M(e){return s(e)&&3===e.nodeType}function D(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function L(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),h(e)||M(e)?e:"string"==typeof e&&/\S/.test(e)?xe.createTextNode(e):void 0}).filter(function(e){return e})}function R(e,t){return L(t).forEach(function(t){return e.appendChild(t)}),e}function B(e,t){return R(D(e),t)}function U(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||(9===nt||0===e.button&&1===e.buttons))}function F(){return Tt++}function V(e){var t=e[Ct];return t||(t=e[Ct]=F()),St[t]||(St[t]={}),St[t]}function H(e){var t=e[Ct];return!!t&&!!Object.getOwnPropertyNames(St[t]).length}function W(e){var t=e[Ct];if(t){delete St[t];try{delete e[Ct]}catch(n){e.removeAttribute?e.removeAttribute(Ct):e[Ct]=null}}}function z(e,t){var n=V(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&W(e)}function q(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function G(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||Ie.event;e={};for(var a in r)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&r.preventDefault||(e[a]=r[a]));if(e.target||(e.target=e.srcElement||xe),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){var i=xe.documentElement,o=xe.body;e.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function Y(e,t,n){if(Array.isArray(t))return q(Y,e,t,n);var r=V(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=F()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=G(t);var a=r.handlers[t.type];if(a)for(var i=a.slice(0),o=0,s=i.length;o<s&&!t.isImmediatePropagationStopped();o++)try{i[o].call(e,t,n)}catch(l){bt.error(l)}}}),1===r.handlers[t].length)if(e.addEventListener){var a=!1;Pt&&Ot.indexOf(t)>-1&&(a={passive:!0}),e.addEventListener(t,r.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function K(e,t,n){if(H(e)){var r=V(e);if(r.handlers){if(Array.isArray(t))return q(K,e,t,n);var a=function(e,t){r.handlers[t]=[],z(e,t)};if(void 0!==t){var i=r.handlers[t];if(i){if(!n)return void a(e,t);if(n.guid)for(var o=0;o<i.length;o++)i[o].guid===n.guid&&i.splice(o--,1);z(e,t)}}else for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&a(e,s)}}}function Q(e,t,n){var r=H(e)?V(e):{},a=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=G(t),r.dispatcher&&r.dispatcher.call(e,t,n),a&&!t.isPropagationStopped()&&t.bubbles===!0)Q.call(null,a,t,n);else if(!a&&!t.defaultPrevented){var i=V(t.target);t.target[t.type]&&(i.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),i.disabled=!1)}return!t.defaultPrevented}function X(e,t,n){if(Array.isArray(t))return q(X,e,t,n);var r=function r(){K(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||F(),Y(e,t,r)}function $(e,t){t&&(jt=t),Ie.setTimeout(It,e)}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=v("span",{className:"vjs-event-bus"});return o(e,Gt),e.on("dispose",function(){e.off(),Ie.setTimeout(function(){e.eventBusEl_=null},0)}),e}function Z(e,t){return o(e,Yt),e.state=o({},e.state,t),"function"==typeof e.handleStateChanged&&Ut(e)&&e.on("statechanged",e.handleStateChanged),e}function ee(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function te(e,t){return ee(e)===ee(t)}function ne(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach(function(t){t&&a(t,function(t,n){return l(t)?(l(e[n])||(e[n]={}),void(e[n]=ne(e[n],t))):void(e[n]=t)})}),e}function re(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function ae(e,t,n,r){return re(e,r,n.length-1),n[r][t]}function ie(e){return void 0===e||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ae.bind(null,"start",0,e),end:ae.bind(null,"end",1,e)}}function oe(e,t){return Array.isArray(e)?ie(e):void 0===e||void 0===t?ie():ie([[e,t]])}function se(e,t){var n=0,r=void 0,a=void 0;if(!t)return 0;e&&e.length||(e=oe(0,0));for(var i=0;i<e.length;i++)r=e.start(i),a=e.end(i),a>t&&(a=t),n+=a-r;return n/t}function le(e){return e instanceof le?e:("number"==typeof e?this.code=e:"string"==typeof e?this.message=e:s(e)&&("number"==typeof e.code&&(this.code=e.code),o(this,e)),void(this.message||(this.message=le.defaultMessages[this.code]||"")));
}function ue(e){return void 0!==e&&null!==e&&"function"==typeof e.then}function ce(e){ue(e)&&e.then(null,function(e){})}function de(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=e.textTracks();a.kind=t,n&&(a.label=n),r&&(a.language=r),a.tech=e;var o=new Vn.text.TrackClass(a);return i.addTrack(o),o}function fe(e,t){Wn[e]=Wn[e]||[],Wn[e].push(t)}function pe(e,t,n){e.setTimeout(function(){return Ee(t,Wn[t.type],n,e)},1)}function he(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function me(e,t,n){return e.reduceRight(ge(n),t[n]())}function ye(e,t,n,r){return t[n](e.reduce(ge(n),r))}function ve(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a="call"+ee(n),i=e.reduce(ge(a),r),o=i===qn,s=o?null:t[n](i);return be(e,n,s,o),s}function ge(e){return function(t,n){return t===qn?qn:n[e]?n[e](t):t}}function be(e,t,n,r){for(var a=e.length-1;a>=0;a--){var i=e[a];i[t]&&i[t](r,n)}}function _e(e){zn[e.id()]=null}function we(e,t){var n=zn[e.id()],r=null;if(void 0===n||null===n)return r=t(e),zn[e.id()]=[[t,r]],r;for(var a=0;a<n.length;a++){var i=n[a],o=i[0],s=i[1];o===t&&(r=s)}return null===r&&(r=t(e),n.push([t,r])),r}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=t[0],l=t.slice(1);if("string"==typeof s)Ee(e,Wn[s],n,r,a,i);else if(s){var u=we(r,s);if(!u.setSource)return a.push(u),Ee(e,l,n,r,a,i);u.setSource(o({},e),function(t,o){return t?Ee(e,l,n,r,a,i):(a.push(u),void Ee(o,e.type===o.type?l:Wn[o.type],n,r,a,i))})}else l.length?Ee(e,l,n,r,a,i):i?n(e,a):Ee(e,Wn["*"],n,r,a,!0)}function ke(e){var t=Xn(e.src);return!e.type&&t&&(e.type=t),e}function Te(e,t){var n=void 0;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Se(e,t,n){try{e.style[t]=n}catch(r){return}}function Ce(e){fr=e}function Pe(){fr=dr}function Oe(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Ne(e,t){var n=e.options[e.options.selectedIndex].value;return Oe(n,t)}function Ae(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(Oe(e.options[r].value,n)===t){e.selectedIndex=r;break}}function je(e,t,n){var r=je.getPlayer(e);if(r)return t&&bt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&r.ready(n),r;var a="string"==typeof e?wt("#"+Ja(e)):e;if(!h(a))throw new TypeError("The element or ID supplied is not valid. (videojs)");xe.body.contains(a)||bt.warn("The element supplied is not included in the DOM"),t=t||{},je.hooks("beforesetup").forEach(function(e){var n=e(a,ne(t));return!s(n)||Array.isArray(n)?void bt.error("please return an object in beforesetup hooks"):void(t=ne(t,n))});var i=Kt.getComponent("Player");return r=new i(a,t,n),je.hooks("setup").forEach(function(e){return e(r)}),r}var Ie=r(n(78)),xe=r(n(332)),Me=r(n(434)),De=r(n(433)),Le=r(n(435)),Re=r(n(1285)),Be="6.12.1",Ue=Ie.navigator&&Ie.navigator.userAgent||"",Fe=/AppleWebKit\/([\d.]+)/i.exec(Ue),Ve=Fe?parseFloat(Fe.pop()):null,He=/iPad/i.test(Ue),We=/iPhone/i.test(Ue)&&!He,ze=/iPod/i.test(Ue),qe=We||He||ze,Ge=function(){var e=Ue.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Ye=/Android/i.test(Ue),Ke=function(){var e=Ue.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t?t:null}(),Qe=Ye&&/webkit/i.test(Ue)&&Ke<2.3,Xe=Ye&&Ke<5&&Ve<537,$e=/Firefox/i.test(Ue),Je=/Edge/i.test(Ue),Ze=!Je&&(/Chrome/i.test(Ue)||/CriOS/i.test(Ue)),et=function(){var e=Ue.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),tt=/MSIE\s8\.0/.test(Ue),nt=function(){var e=/MSIE\s(\d+)\.\d/.exec(Ue),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(Ue)&&/rv:11.0/.test(Ue)&&(t=11),t}(),rt=/Safari/i.test(Ue)&&!Ze&&!Ye&&!Je,at=(rt||qe)&&!Ze,it=p()&&("ontouchstart"in Ie||Ie.navigator.maxTouchPoints||Ie.DocumentTouch&&Ie.document instanceof Ie.DocumentTouch),ot=p()&&"backgroundSize"in Ie.document.createElement("video").style,st=(Object.freeze||Object)({IS_IPAD:He,IS_IPHONE:We,IS_IPOD:ze,IS_IOS:qe,IOS_VERSION:Ge,IS_ANDROID:Ye,ANDROID_VERSION:Ke,IS_OLD_ANDROID:Qe,IS_NATIVE_ANDROID:Xe,IS_FIREFOX:$e,IS_EDGE:Je,IS_CHROME:Ze,CHROME_VERSION:et,IS_IE8:tt,IE_VERSION:nt,IS_SAFARI:rt,IS_ANY_SAFARI:at,TOUCH_ENABLED:it,BACKGROUND_SIZE_SUPPORTED:ot}),lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ct=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},dt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},ft=function(e,t){return e.raw=t,e},pt=Object.prototype.toString,ht=function(e){return s(e)?Object.keys(e):[]},mt=void 0,yt="info",vt=[],gt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:!!nt&&nt<11,r=mt.levels[yt],a=new RegExp("^("+r+")$");if("log"!==e&&t.unshift(e.toUpperCase()+":"),vt&&vt.push([].concat(t)),t.unshift("VIDEOJS:"),Ie.console){var i=Ie.console[e];i||"debug"!==e||(i=Ie.console.info||Ie.console.log),i&&r&&a.test(e)&&(n&&(t=t.map(function(e){if(s(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),i.apply?i[Array.isArray(t)?"apply":"call"](Ie.console,t):i(t))}};mt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];gt("log",t)},mt.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:yt},mt.level=function(e){if("string"==typeof e){if(!mt.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');yt=e}return yt},mt.history=function(){return vt?[].concat(vt):[]},mt.history.clear=function(){vt&&(vt.length=0)},mt.history.disable=function(){null!==vt&&(vt.length=0,vt=null)},mt.history.enable=function(){null===vt&&(vt=[])},mt.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return gt("error",t)},mt.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return gt("warn",t)},mt.debug=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return gt("debug",t)};var bt=mt,_t=ft(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),wt=y("querySelector"),Et=y("querySelectorAll"),kt=(Object.freeze||Object)({isReal:p,isEl:h,isInFrame:m,createEl:v,textContent:g,prependTo:b,hasClass:_,addClass:w,removeClass:E,toggleClass:k,setAttributes:T,getAttributes:S,getAttribute:C,setAttribute:P,removeAttribute:O,blockTextSelection:N,unblockTextSelection:A,getBoundingClientRect:j,findPosition:I,getPointerPosition:x,isTextNode:M,emptyEl:D,normalizeContent:L,appendContent:R,insertContent:B,isSingleLeftClick:U,$:wt,$$:Et}),Tt=1,St={},Ct="vdata"+(new Date).getTime(),Pt=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){Pt=!0}});Ie.addEventListener("test",null,e),Ie.removeEventListener("test",null,e)}catch(t){}}();var Ot=["touchstart","touchmove"],Nt=(Object.freeze||Object)({fixEvent:G,on:Y,off:K,trigger:Q,one:X}),At=!1,jt=void 0,It=function(){if(p()&&jt.options.autoSetup!==!1){var e=xe.getElementsByTagName("video"),t=xe.getElementsByTagName("audio"),n=xe.getElementsByTagName("video-js"),r=[];if(e&&e.length>0)for(var a=0,i=e.length;a<i;a++)r.push(e[a]);if(t&&t.length>0)for(var o=0,s=t.length;o<s;o++)r.push(t[o]);if(n&&n.length>0)for(var l=0,u=n.length;l<u;l++)r.push(n[l]);if(r&&r.length>0)for(var c=0,d=r.length;c<d;c++){var f=r[c];if(!f||!f.getAttribute){$(1);break}if(void 0===f.player){var h=f.getAttribute("data-setup");null!==h&&jt(f)}}else At||$(1)}};p()&&"complete"===xe.readyState?At=!0:X(Ie,"load",function(){At=!0});var xt=function(e){var t=xe.createElement("style");return t.className=e,t},Mt=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},Dt=function(e,t,n){t.guid||(t.guid=F());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},Lt=function(e,t){var n=Date.now(),r=function(){var r=Date.now();r-n>=t&&(e.apply(void 0,arguments),n=r)};return r},Rt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ie,a=void 0;return function(){var i=this,o=arguments,s=function(){a=null,s=null,n||e.apply(i,o)};!a&&n&&e.apply(i,o),r.clearTimeout(a),a=r.setTimeout(s,t)}},Bt=function(){};Bt.prototype.allowedEvents_={},Bt.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Y(this,e,t),this.addEventListener=n},Bt.prototype.addEventListener=Bt.prototype.on,Bt.prototype.off=function(e,t){K(this,e,t)},Bt.prototype.removeEventListener=Bt.prototype.off,Bt.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},X(this,e,t),this.addEventListener=n},Bt.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=G(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Q(this,e)},Bt.prototype.dispatchEvent=Bt.prototype.trigger;var Ut=function(e){return e instanceof Bt||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},Ft=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Vt=function(e){if(!e.nodeName&&!Ut(e))throw new Error("Invalid target; must be a DOM node or evented object.")},Ht=function(e){if(!Ft(e))throw new Error("Invalid event type; must be a non-empty string or array.")},Wt=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},zt=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,a=void 0,i=void 0;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),a=t[0],i=t[1]):(r=t[0],a=t[1],i=t[2]),Vt(r),Ht(a),Wt(i),i=Dt(e,i),{isTargetingSelf:n,target:r,type:a,listener:i}},qt=function(e,t,n,r){Vt(e),e.nodeName?Nt[t](e,n,r):e[t](n,r)},Gt={on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=zt(this,n),i=a.isTargetingSelf,o=a.target,s=a.type,l=a.listener;if(qt(o,"on",s,l),!i){var u=function(){return e.off(o,s,l)};u.guid=l.guid;var c=function(){return e.off("dispose",u)};c.guid=l.guid,qt(this,"on","dispose",u),qt(o,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=zt(this,n),i=a.isTargetingSelf,o=a.target,s=a.type,l=a.listener;if(i)qt(o,"one",s,l);else{var u=function t(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];e.off(o,s,t),l.apply(null,r)};u.guid=l.guid,qt(o,"one",s,u)}},off:function(e,t,n){if(!e||Ft(e))K(this.eventBusEl_,e,t);else{var r=e,a=t;Vt(r),Ht(a),Wt(n),n=Dt(this,n),this.off("dispose",n),r.nodeName?(K(r,a,n),K(r,"dispose",n)):Ut(r)&&(r.off(a,n),r.off("dispose",n))}},trigger:function(e,t){return Q(this.eventBusEl_,e,t)}},Yt={state:{},setState:function(e){var t=this;"function"==typeof e&&(e=e());var n=void 0;return a(e,function(e,r){t.state[r]!==e&&(n=n||{},n[r]={from:t.state[r],to:e}),t.state[r]=e}),n&&Ut(this)&&this.trigger({changes:n,type:"statechanged"}),n}},Kt=function(){function e(t,n,r){if(ut(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=ne({},this.options_),n=this.options_=ne(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var a=t&&t.id&&t.id()||"no_player";this.id_=a+"_component_"+F()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.evented!==!1&&J(this,{eventBusKey:this.el_?"el_":null}),Z(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),W(this.el_),this.el_=null),this.player_=null},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return bt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=ne(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return v(e,t,n)},e.prototype.localize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),i=a&&a[r],o=r&&r.split("-")[0],s=a&&a[o],l=n;return i&&i[e]?l=i[e]:s&&s[e]&&(l=s[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],a=r;return"undefined"==typeof r&&(a=e),a})),l},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=ee(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,a=void 0,i=void 0;if("string"==typeof t){i=ee(t);var o=n.componentClass||i;n.name=i;var s=e.getComponent(o);if(!s)throw new Error("Component "+o+" does not exist");if("function"!=typeof s)return null;a=new s(this.player_||this,n)}else a=t;if(this.children_.splice(r,0,a),"function"==typeof a.id&&(this.childIndex_[a.id()]=a),i=i||a.name&&ee(a.name()),i&&(this.childNameIndex_[i]=a),"function"==typeof a.el&&a.el()){var l=this.contentEl().children,u=l[r]||null;this.contentEl().insertBefore(a.el(),u)}return a},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,a=function(e){var n=e.name,a=e.opts;if(void 0!==r[n]&&(a=r[n]),a!==!1){a===!0&&(a={}),a.playerOptions=t.options_.playerOptions;var i=t.addChild(n,a);i&&(t[n]=i)}},i=void 0,o=e.getComponent("Tech");i=Array.isArray(n)?n:Object.keys(n),i.concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,a=void 0;return"string"==typeof e?(r=e,a=n[r]||t.options_[r]||{}):(r=e.name,a=e),{name:r,opts:a}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||ee(t.name));return n&&!o.isTech(n)}).forEach(a)}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return wt(e,t||this.contentEl())},e.prototype.$$=function(e,t){return Et(e,t||this.contentEl())},e.prototype.hasClass=function(e){return _(this.el_,e)},e.prototype.addClass=function(e){w(this.el_,e)},e.prototype.removeClass=function(e){E(this.el_,e)},e.prototype.toggleClass=function(e,t){k(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return C(this.el_,e)},e.prototype.setAttribute=function(e,t){P(this.el_,e,t)},e.prototype.removeAttribute=function(e){O(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,n){if(void 0!==t)return null!==t&&t===t||(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:"auto"===t?this.el_.style[e]="":this.el_.style[e]=t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],a=r.indexOf("px");return a!==-1?parseInt(r.slice(0,a),10):parseInt(this.el_["offset"+ee(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof Ie.getComputedStyle){var n=Ie.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(t=parseFloat(t),0===t){var r="offset"+ee(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,a=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),a=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)a=!1;else if(t){var r=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,o=Math.sqrt(r*r+i*i);o>n&&(a=!1)}});var i=function(){a=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(n){if(t=null,a===!0){var i=(new Date).getTime()-e;i<r&&(n.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=Dt(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){var n,r,a=this;return e=Dt(this,e),n=Ie.setTimeout(function(){a.off("dispose",r),e()},t),r=function(){return a.clearTimeout(n)},r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){Ie.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){var n=this;e=Dt(this,e);var r=Ie.setInterval(e,t),a=function(){return n.clearInterval(r)};return a.guid="vjs-interval-"+r,this.on("dispose",a),r},e.prototype.clearInterval=function(e){Ie.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t,n,r=this;return this.supportsRaf_?(e=Dt(this,e),t=Ie.requestAnimationFrame(function(){r.off("dispose",n),e()}),n=function(){return r.cancelAnimationFrame(t)},n.guid="vjs-raf-"+t,this.on("dispose",n),t):this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){Ie.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),a=r&&r.isTech(n),i=e===n||e.prototype.isPrototypeOf(n.prototype);if(a||!i){var o=void 0;throw o=a?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+o+".")}t=ee(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var l=s.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(e){return l[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=ee(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Kt.prototype.supportsRaf_="function"==typeof Ie.requestAnimationFrame&&"function"==typeof Ie.cancelAnimationFrame,Kt.registerComponent("Component",Kt);for(var Qt={},Xt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],$t=Xt[0],Jt=void 0,Zt=0;Zt<Xt.length;Zt++)if(Xt[Zt][1]in xe){Jt=Xt[Zt];break}if(Jt)for(var en=0;en<Jt.length;en++)Qt[$t[en]]=Jt[en];le.prototype.code=0,le.prototype.message="",le.prototype.status=null,le.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],le.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var tn=0;tn<le.errorTypes.length;tn++)le[le.errorTypes[tn]]=tn,le.prototype[le.errorTypes[tn]]=tn;var nn=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n,r){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})});return t},rn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track}),r=Array.prototype.map.call(t,function(e){var t=nn(e.track);return e.src&&(t.src=e.src),t});return r.concat(Array.prototype.filter.call(e.textTracks(),function(e){return n.indexOf(e)===-1}).map(nn))},an=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},on={textTracksToJson:rn,jsonToTextTracks:an,trackToJson_:nn},sn="vjs-modal-dialog",ln=27,un=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=v("div",{className:sn+"-content"},{role:"document"}),a.descEl_=v("p",{className:sn+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),g(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return sn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===ln&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",Dt(this,this.handleKeyPress)),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",Dt(this,this.handleKeyPress)),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function e(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),B(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var a=this.getChild("closeButton");a&&n.appendChild(a.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),D(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return"undefined"!=typeof e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=xe.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(xe,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(xe,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,a=0;a<t.length;a++)if(n===t[a]){r=a;break}xe.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof Ie.HTMLAnchorElement||e instanceof Ie.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof Ie.HTMLInputElement||e instanceof Ie.HTMLSelectElement||e instanceof Ie.HTMLTextAreaElement||e instanceof Ie.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof Ie.HTMLIFrameElement||e instanceof Ie.HTMLObjectElement||e instanceof Ie.HTMLEmbedElement||e.hasAttribute("tabindex")&&e.getAttribute("tabindex")!==-1||e.hasAttribute("contenteditable")})},t}(Kt);un.prototype.options_={pauseOnOpen:!0,temporary:!0},Kt.registerComponent("ModalDialog",un);var cn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;ut(this,t);var i=dt(this,e.call(this));if(!a&&(a=i,tt)){a=xe.createElement("custom");for(var o in t.prototype)"constructor"!==o&&(a[o]=t.prototype[o])}a.tracks_=[],Object.defineProperty(a,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<r.length;s++)a.addTrack(r[s]);return n=a,dt(i,n)}return ct(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var a=this[n];if(a.id===e){t=a;break}}return t},t}(Bt);cn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var dn in cn.prototype.allowedEvents_)cn.prototype["on"+dn]=null;var fn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},pn=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ut(this,t);for(var i=void 0,o=a.length-1;o>=0;o--)if(a[o].enabled){fn(a,a[o]);break}if(tt){i=xe.createElement("custom");for(var s in cn.prototype)"constructor"!==s&&(i[s]=cn.prototype[s]);for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}return i=n=dt(this,e.call(this,a,i)),i.changing_=!1,r=i,dt(n,r)}return ct(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&fn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,fn(n,t),n.changing_=!1,n.trigger("change"))})},t}(cn),hn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},mn=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ut(this,t);for(var i=void 0,o=a.length-1;o>=0;o--)if(a[o].selected){hn(a,a[o]);break}if(tt){i=xe.createElement("custom");for(var s in cn.prototype)"constructor"!==s&&(i[s]=cn.prototype[s]);for(var l in t.prototype)"constructor"!==l&&(i[l]=t.prototype[l])}return i=n=dt(this,e.call(this,a,i)),i.changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=i,dt(n,r)}return ct(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&hn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,hn(n,t),n.changing_=!1,n.trigger("change"))})},t}(cn),yn=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ut(this,t);var i=void 0;
if(tt){i=xe.createElement("custom");for(var o in cn.prototype)"constructor"!==o&&(i[o]=cn.prototype[o]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return i=n=dt(this,e.call(this,a,i)),r=i,dt(n,r)}return ct(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",Dt(this,function(){this.trigger("change")}));var n=["metadata","chapters"];n.indexOf(t.kind)===-1&&t.addEventListener("modechange",Dt(this,function(){this.trigger("selectedlanguagechange")}))},t}(cn),vn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ut(this,e);var n=this;if(tt){n=xe.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var a=0,i=t.length;a<i;a++)n.addTrackElement_(t[a]);if(tt)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),gn=function(){function e(t){ut(this,e);var n=this;if(tt){n=xe.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),tt)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var a=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)a.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var a=this[n];if(a.id===e){t=a;break}}return t},e}(),bn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},_n={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},En={disabled:"disabled",hidden:"hidden",showing:"showing"},kn=function(e){function t(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ut(this,t);var a=dt(this,e.call(this)),i=a;if(tt){i=xe.createElement("custom");for(var o in t.prototype)"constructor"!==o&&(i[o]=t.prototype[o])}var s={id:r.id||"vjs_track_"+F(),kind:r.kind||"",label:r.label||"",language:r.language||""},l=function(e){Object.defineProperty(i,e,{get:function(){return s[e]},set:function(){}})};for(var u in s)l(u);return n=i,dt(a,n)}return ct(t,e),t}(Bt),Tn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=xe.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,a=void 0;r&&(a=xe.createElement("div"),a.innerHTML='<a href="'+e+'"></a>',n=a.firstChild,a.setAttribute("style","display:none; position:absolute;"),xe.body.appendChild(a));for(var i={},o=0;o<t.length;o++)i[t[o]]=n[t[o]];return"http:"===i.protocol&&(i.host=i.host.replace(/:80$/,"")),"https:"===i.protocol&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=Ie.location.protocol),r&&xe.body.removeChild(a),i},Sn=function(e){if(!e.match(/^https?:\/\//)){var t=xe.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Cn=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},Pn=function(e){var t=Ie.location,n=Tn(e),r=":"===n.protocol?t.protocol:n.protocol,a=r+n.host!==t.protocol+t.host;return a},On=(Object.freeze||Object)({parseUrl:Tn,getAbsoluteURL:Sn,getFileExtension:Cn,isCrossOrigin:Pn}),Nn=function(e,t){var n=new Ie.WebVTT.Parser(Ie,Ie.vttjs,Ie.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(Ie.console&&Ie.console.groupCollapsed&&Ie.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return bt.error(e)}),Ie.console&&Ie.console.groupEnd&&Ie.console.groupEnd()),n.flush()},An=function(e,t){var n={uri:e},r=Pn(e);r&&(n.cors=r),Le(n,Dt(this,function(e,n,r){if(e)return bt.error(e,n);if(t.loaded_=!0,"function"!=typeof Ie.WebVTT){if(t.tech_){var a=function(){return Nn(r,t)};t.tech_.on("vttjsloaded",a),t.tech_.on("vttjserror",function(){bt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",a)})}}else Nn(r,t)}))},jn=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ut(this,t),!a.tech)throw new Error("A tech was not provided.");var i=ne(a,{kind:wn[a.kind]||"subtitles",language:a.language||a.srclang||""}),o=En[i.mode]||"disabled",s=i.default;"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden");var l=n=dt(this,e.call(this,i));if(l.tech_=i.tech,tt)for(var u in t.prototype)"constructor"!==u&&(l[u]=t.prototype[u]);l.cues_=[],l.activeCues_=[];var c=new gn(l.cues_),d=new gn(l.activeCues_),f=!1,p=Dt(l,function(){this.activeCues=this.activeCues,f&&(this.trigger("cuechange"),f=!1)});return"disabled"!==o&&l.tech_.ready(function(){l.tech_.on("timeupdate",p)},!0),Object.defineProperty(l,"default",{get:function(){return s},set:function(){}}),Object.defineProperty(l,"mode",{get:function(){return o},set:function(e){var t=this;En[e]&&(o=e,"showing"===o&&this.tech_.ready(function(){t.tech_.on("timeupdate",p)},!0),this.trigger("modechange"))}}),Object.defineProperty(l,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(l,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return d;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var a=this.cues[n];a.startTime<=e&&a.endTime>=e?t.push(a):a.startTime===a.endTime&&a.startTime<=e&&a.startTime+.5>=e&&t.push(a)}if(f=!1,t.length!==this.activeCues_.length)f=!0;else for(var i=0;i<t.length;i++)this.activeCues_.indexOf(t[i])===-1&&(f=!0);return this.activeCues_=t,d.setCues_(this.activeCues_),d},set:function(){}}),i.src?(l.src=i.src,An(i.src,l)):l.loaded_=!0,r=l,dt(n,r)}return ct(t,e),t.prototype.addCue=function(e){var t=e;if(Ie.vttjs&&!(e instanceof Ie.vttjs.VTTCue)){t=new Ie.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),a=0;a<r.length;a++)r[a]!==this&&r[a].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(kn);jn.prototype.allowedEvents_={cuechange:"cuechange"};var In=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ut(this,t);var i=ne(a,{kind:_n[a.kind]||""}),o=n=dt(this,e.call(this,i)),s=!1;if(tt)for(var l in t.prototype)"constructor"!==l&&(o[l]=t.prototype[l]);return Object.defineProperty(o,"enabled",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("enabledchange"))}}),i.enabled&&(o.enabled=i.enabled),o.loaded_=!0,r=o,dt(n,r)}return ct(t,e),t}(kn),xn=function(e){function t(){var n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ut(this,t);var i=ne(a,{kind:bn[a.kind]||""}),o=n=dt(this,e.call(this,i)),s=!1;if(tt)for(var l in t.prototype)"constructor"!==l&&(o[l]=t.prototype[l]);return Object.defineProperty(o,"selected",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("selectedchange"))}}),i.selected&&(o.selected=i.selected),r=o,dt(n,r)}return ct(t,e),t}(kn),Mn=0,Dn=1,Ln=2,Rn=3,Bn=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ut(this,t);var r=dt(this,e.call(this)),a=void 0,i=r;if(tt){i=xe.createElement("custom");for(var o in t.prototype)"constructor"!==o&&(i[o]=t.prototype[o])}var s=new jn(n);if(i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i.default=s.default,Object.defineProperty(i,"readyState",{get:function(){return a}}),Object.defineProperty(i,"track",{get:function(){return s}}),a=Mn,s.addEventListener("loadeddata",function(){a=Ln,i.trigger({type:"load",target:i})}),tt){var l;return l=i,dt(r,l)}return r}return ct(t,e),t}(Bt);Bn.prototype.allowedEvents_={load:"load"},Bn.NONE=Mn,Bn.LOADING=Dn,Bn.LOADED=Ln,Bn.ERROR=Rn;var Un={audio:{ListClass:pn,TrackClass:In,capitalName:"Audio"},video:{ListClass:mn,TrackClass:xn,capitalName:"Video"},text:{ListClass:yn,TrackClass:jn,capitalName:"Text"}};Object.keys(Un).forEach(function(e){Un[e].getterName=e+"Tracks",Un[e].privateName=e+"Tracks_"});var Fn={remoteText:{ListClass:yn,TrackClass:jn,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:vn,TrackClass:Bn,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Vn=ne(Un,Fn);Fn.names=Object.keys(Fn),Un.names=Object.keys(Un),Vn.names=[].concat(Fn.names).concat(Un.names);var Hn=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};ut(this,t),n.reportTouchActivity=!1;var a=dt(this,e.call(this,null,n,r));return a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),Vn.names.forEach(function(e){var t=Vn[e];n&&n[t.getterName]&&(a[t.privateName]=n[t.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){n["native"+e+"Tracks"]===!1&&(a["featuresNative"+e+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?a.featuresNativeTextTracks=!1:n.nativeCaptions!==!0&&n.nativeTextTracks!==!0||(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.autoRemoteTextTracks_=new Vn.text.ListClass,a.initTrackListeners(),n.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}return ct(t,e),t.prototype.triggerSourceset=function(e){var t=this;this.isReady_||this.one("ready",function(){return t.setTimeout(function(){return t.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Dt(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(e){this.duration_=this.duration()},t.prototype.buffered=function(){return oe(0,0)},t.prototype.bufferedPercent=function(){return se(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(Un.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var a=n[r];"text"===e&&t.removeRemoteTextTrack(a),n.removeTrack(a)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return void 0!==e&&(this.error_=new le(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?oe(0,0):oe()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;Un.names.forEach(function(t){var n=Un[t],r=function(){e.trigger(t+"trackchange")},a=e[n.getterName]();a.addEventListener("removetrack",r),a.addEventListener("addtrack",r),e.on("dispose",function(){a.removeEventListener("removetrack",r),a.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!Ie.WebVTT)if(xe.body.contains(this.el())){if(!this.options_["vtt.js"]&&l(Re)&&Object.keys(Re).length>0)return void this.trigger("vttjsloaded");var t=xe.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),Ie.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},a=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",a),this.addWebVttScript_();var i=function(){return e.trigger("texttrackchange")},o=function(){i();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",i),"showing"===n.mode&&n.addEventListener("cuechange",i)}};o(),t.addEventListener("change",o),t.addEventListener("addtrack",o),t.addEventListener("removetrack",o),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",a),t.removeEventListener("change",o),t.removeEventListener("addtrack",o),t.removeEventListener("removetrack",o);for(var e=0;e<t.length;e++){var s=t[e];s.removeEventListener("cuechange",i)}})},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return de(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=ne(e,{tech:this});return new Fn.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(t);return n!==!0&&n!==!1&&(bt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n!==!0&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)}),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e,n){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=ee(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=ee(e),t.techs_&&t.techs_[e]?t.techs_[e]:Ie&&Ie.videojs&&Ie.videojs[e]?(bt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),Ie.videojs[e]):void 0},t}(Kt);Vn.names.forEach(function(e){var t=Vn[e];Hn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Hn.prototype.featuresVolumeControl=!0,Hn.prototype.featuresMuteControl=!0,Hn.prototype.featuresFullscreenResize=!1,Hn.prototype.featuresPlaybackRate=!1,Hn.prototype.featuresProgressEvents=!1,Hn.prototype.featuresSourceset=!1,Hn.prototype.featuresTimeupdateEvents=!1,Hn.prototype.featuresNativeTextTracks=!1,Hn.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,a=0;a<n.length;a++)if(r=n[a].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],a=void 0,i=0;i<r.length;i++)if(a=r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""};var t=["seekable","seeking","duration"];t.forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:bt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Kt.registerComponent("Tech",Hn),Hn.registerTech("Tech",Hn),Hn.defaultTechOrder_=[];var Wn={},zn={},qn={},Gn={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Yn={setCurrentTime:1},Kn={play:1,pause:1},Qn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Cn(e),n=Qn[t.toLowerCase()];return n||""},$n=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(e){return e.src===t});if(n.length)return n[0].type;for(var r=e.$$("source"),a=0;a<r.length;a++){var i=r[a];if(i.type&&i.src&&i.src===t)return i.type}return Xn(t)},Jn=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):s(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[ke({src:t})]:s(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[ke(t)]:[];return t},Zn=function(e){function t(n,r,a){ut(this,t);var i=ne({createEl:!1},r),o=dt(this,e.call(this,n,i,a));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,l=r.playerOptions.techOrder;s<l.length;s++){var u=ee(l[s]),c=Hn.getTech(u);if(u||(c=Kt.getComponent(u)),c&&c.isSupported()){n.loadTech_(u);break}}return o}return ct(t,e),t}(Kt);Kt.registerComponent("MediaLoader",Zn);var er=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.emitTapEvents(),a.enable(),a}return ct(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&bt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),r=o({role:"button"},r),this.tabIndex_=n.tabIndex;var a=e.prototype.createEl.call(this,t,n,r);return this.createControlTextEl(a),a},t.prototype.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=v("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,g(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(e){},t.prototype.handleFocus=function(e){Y(xe,"keydown",Dt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(e){K(xe,"keydown",Dt(this,this.handleKeyPress))},t}(Kt);Kt.registerComponent("ClickableComponent",er);var tr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.update(),n.on("posterchange",Dt(a,a.update)),a}return ct(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=v("div",{className:"vjs-poster",tabIndex:-1});return ot||(this.fallbackImg_=v("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(e){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(e){this.player_.controls()&&(this.player_.paused()?ce(this.player_.play()):this.player_.pause())},t}(er);Kt.registerComponent("PosterImage",tr);var nr="#222",rr="#ccc",ar={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},ir=function(e){function t(n,r,a){ut(this,t);var i=dt(this,e.call(this,n,r,a));return n.on("loadstart",Dt(i,i.toggleDisplay)),n.on("texttrackchange",Dt(i,i.updateDisplay)),n.on("loadstart",Dt(i,i.preselectTrack)),n.ready(Dt(i,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",Dt(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()})),i}return ct(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,a=void 0,i=void 0,o=0;o<t.length;o++){var s=t[o];n&&n.enabled&&n.language===s.language?s.kind===n.kind?i=s:i||(i=s):n&&!n.enabled?(i=null,r=null,a=null):s.default&&("descriptions"!==s.kind||r?s.kind in e&&!a&&(a=s):r=s)}i?i.mode="showing":a?a.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof Ie.WebVTT&&Ie.WebVTT.processCues(Ie,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var a=e[r];"showing"===a.mode&&("descriptions"===a.kind?t=a:n=a)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof Ie.WebVTT&&e.activeCues){for(var t=[],n=0;n<e.activeCues.length;n++)t.push(e.activeCues[n]);if(Ie.WebVTT.processCues(Ie,t,this.el_),this.player_.textTrackSettings)for(var r=this.player_.textTrackSettings.getValues(),a=t.length;a--;){var i=t[a];if(i){var o=i.displayState;if(r.color&&(o.firstChild.style.color=r.color),r.textOpacity&&Se(o.firstChild,"color",Te(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(o.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Se(o.firstChild,"backgroundColor",Te(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Se(o,"backgroundColor",Te(r.windowColor,r.windowOpacity)):o.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?o.firstChild.style.textShadow="2px 2px 3px "+nr+", 2px 2px 4px "+nr+", 2px 2px 5px "+nr:"raised"===r.edgeStyle?o.firstChild.style.textShadow="1px 1px "+nr+", 2px 2px "+nr+", 3px 3px "+nr:"depressed"===r.edgeStyle?o.firstChild.style.textShadow="1px 1px "+rr+", 0 1px "+rr+", -1px -1px "+nr+", 0 -1px "+nr:"uniform"===r.edgeStyle&&(o.firstChild.style.textShadow="0 0 4px "+nr+", 0 0 4px "+nr+", 0 0 4px "+nr+", 0 0 4px "+nr)),r.fontPercent&&1!==r.fontPercent){var s=Ie.parseFloat(o.style.fontSize);o.style.fontSize=s*r.fontPercent+"px",o.style.height="auto",o.style.top="auto",o.style.bottom="2px"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?o.firstChild.style.fontVariant="small-caps":o.firstChild.style.fontFamily=ar[r.fontFamily])}}}},t}(Kt);Kt.registerComponent("TextTrackDisplay",ir);var or=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){var t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=v("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[n])}),a=e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return a.appendChild(r),a},t}(Kt);Kt.registerComponent("LoadingSpinner",or);var sr=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e="button",t=o({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=o({type:"button"},n);var r=Kt.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(r),r},t.prototype.addChild=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.constructor.name;return bt.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Kt.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(er);Kt.registerComponent("Button",sr);var lr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.mouseused_=!1,a.on("mousedown",a.handleMouseDown),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return void ce(t);var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.focus();var a=function(){return r.focus()};ue(t)?t.then(a,function(){}):this.setTimeout(a,1)},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(e){this.mouseused_=!0},t}(sr);lr.prototype.controlText_="Play Video",Kt.registerComponent("BigPlayButton",lr);var ur=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.controlText(r&&r.controlText||a.localize("Close")),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t}(sr);Kt.registerComponent("CloseButton",ur);var cr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"play",a.handlePlay),a.on(n,"pause",a.handlePause),a.on(n,"ended",a.handleEnded),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.prototype.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},t}(sr);cr.prototype.controlText_="Play",Kt.registerComponent("PlayToggle",cr);var dr=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),a=Math.floor(e/3600),i=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(a=r=n="-"),a=a>0||o>0?a+":":"",r=((a||i>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,a+r+n},fr=dr,pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return fr(e,t)},hr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.throttledUpdateContent=Lt(Dt(a,a.updateContent),25),a.on(n,"timeupdate",a.throttledUpdateContent),
a}return ct(t,e),t.prototype.createEl=function(t){var n=this.buildCSSClass(),r=e.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+"</span>"});return this.contentEl_=v("span",{className:n+"-display"},{"aria-live":"off"}),this.updateTextNode_(),r.appendChild(this.contentEl_),r},t.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},t.prototype.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=xe.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},t.prototype.formatTime_=function(e){return pr(e)},t.prototype.updateFormattedTime_=function(e){var t=this.formatTime_(e);t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t.prototype.updateContent=function(e){},t}(Kt);hr.prototype.labelText_="Time",hr.prototype.controlText_="Time",Kt.registerComponent("TimeDisplay",hr);var mr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"ended",a.handleEnded),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-current-time"},t.prototype.updateContent=function(e){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(t)},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},t}(hr);mr.prototype.labelText_="Current Time",mr.prototype.controlText_="Current Time",Kt.registerComponent("CurrentTimeDisplay",mr);var yr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"durationchange",a.updateContent),a.on(n,"loadedmetadata",a.throttledUpdateContent),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-duration"},t.prototype.updateContent=function(e){var t=this.player_.duration();t&&this.duration_!==t&&(this.duration_=t,this.updateFormattedTime_(t))},t}(hr);yr.prototype.labelText_="Duration",yr.prototype.controlText_="Duration",Kt.registerComponent("DurationDisplay",yr);var vr=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(Kt);Kt.registerComponent("TimeDivider",vr);var gr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"durationchange",a.throttledUpdateContent),a.on(n,"ended",a.handleEnded),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-remaining-time"},t.prototype.formatTime_=function(t){return"-"+e.prototype.formatTime_.call(this,t)},t.prototype.updateContent=function(e){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},t.prototype.handleEnded=function(e){this.player_.duration()&&this.updateFormattedTime_(0)},t}(hr);gr.prototype.labelText_="Remaining Time",gr.prototype.controlText_="Remaining Time",Kt.registerComponent("RemainingTimeDisplay",gr);var br=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.updateShowing(),a.on(a.player(),"durationchange",a.updateShowing),a}return ct(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=v("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},t}(Kt);Kt.registerComponent("LiveDisplay",br);var _r=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}return ct(t,e),t.prototype.enabled=function(){return this.enabled_},t.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.prototype.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.prototype.createEl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.className=n.className+" vjs-slider",n=o({tabIndex:0},n),r=o({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),e.prototype.createEl.call(this,t,n,r)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Ze||e.preventDefault(),N(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(e){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;A(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===1/0)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},t.prototype.calculateDistance=function(e){var t=x(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){return void 0===e?this.vertical_||!1:(this.vertical_=!!e,void(this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")))},t}(Kt);Kt.registerComponent("Slider",_r);var wr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.partEls_=[],a.on(n,"progress",a.update),a}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.dispose=function(){this.partEls_=null,e.prototype.dispose.call(this)},t.prototype.update=function(e){var t=this.player_.buffered(),n=this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(r,n);for(var o=0;o<t.length;o++){var s=t.start(o),l=t.end(o),u=a[o];u||(u=this.el_.appendChild(v()),a[o]=u),u.style.left=i(s,r),u.style.width=i(l-s,r)}for(var c=a.length;c>t.length;c--)this.el_.removeChild(a[c-1]);a.length=t.length},t}(Kt);Kt.registerComponent("LoadProgressBar",wr);var Er=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var r=j(this.el_),a=j(this.player_.el()),i=e.width*t;if(a&&r){var o=e.left-a.left+i,s=e.width-i+(a.right-e.right),l=r.width/2;o<l?l+=l-o:s<l&&(l=s),l<0?l=0:l>r.width&&(l=r.width),this.el_.style.right="-"+l+"px",g(this.el_,n)}},t}(Kt);Kt.registerComponent("TimeTooltip",Er);var kr=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),a=pr(r,n.player_.duration()),i=n.getChild("timeTooltip");i&&i.update(e,t,a)})},t}(Kt);kr.prototype.options_={children:[]},nt&&!(nt>8)||qe||Ye||kr.prototype.options_.children.push("timeTooltip"),Kt.registerComponent("PlayProgressBar",kr);var Tr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.update=Lt(Dt(a,a.update),25),a}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.duration(),a=pr(t*r,r);n.el_.style.left=e.width*t+"px",n.getChild("timeTooltip").update(e,t,a)})},t}(Kt);Tr.prototype.options_={children:["timeTooltip"]},Kt.registerComponent("MouseTimeDisplay",Tr);var Sr=5,Cr=30,Pr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.setEventHandlers_(),a}return ct(t,e),t.prototype.setEventHandlers_=function(){var e=this;this.update=Lt(Dt(this,this.update),Cr),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],function(){e.clearInterval(e.updateInterval),e.updateInterval=e.setInterval(function(){e.requestAnimationFrame(function(){e.update()})},Cr)}),this.on(this.player_,["ended","pause","waiting"],function(){e.clearInterval(e.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update_=function(e,t){var n=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[pr(e,n),pr(n,n)],"{1} of {2}")),this.bar.update(j(this.el_),t)},t.prototype.update=function(t){var n=e.prototype.update.call(this);return this.update_(this.getCurrentTime_(),n),n},t.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.prototype.handleEnded=function(e){this.update_(this.player_.duration(),1)},t.prototype.getPercent=function(){var e=this.getCurrentTime_()/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){U(t)&&(t.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t))},t.prototype.handleMouseMove=function(e){if(U(e)){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)}},t.prototype.enable=function(){e.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.show()},t.prototype.disable=function(){e.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");t&&t.hide()},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ce(this.player_.play())},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+Sr)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-Sr)},t.prototype.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(_r);Pr.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},nt&&!(nt>8)||qe||Ye||Pr.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Pr.prototype.playerEvent="timeupdate",Kt.registerComponent("SeekBar",Pr);var Or=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.handleMouseMove=Lt(Dt(a,a.handleMouseMove),25),a.throttledHandleMouseSeek=Lt(Dt(a,a.handleMouseSeek),25),a.enable(),a}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar");if(t){var n=t.getChild("mouseTimeDisplay"),r=t.el(),a=j(r),i=x(r,e).x;i>1?i=1:i<0&&(i=0),n&&n.update(a,i)}},t.prototype.handleMouseSeek=function(e){var t=this.getChild("seekBar");t&&t.handleMouseMove(e)},t.prototype.enabled=function(){return this.enabled_},t.prototype.disable=function(){this.children().forEach(function(e){return e.disable&&e.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},t.prototype.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t}(Kt);Or.prototype.options_={children:["seekBar"]},Kt.registerComponent("ProgressControl",Or);var Nr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"fullscreenchange",a.handleFullscreenChange),xe[Qt.fullscreenEnabled]===!1&&a.disable(),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(sr);Nr.prototype.controlText_="Fullscreen",Kt.registerComponent("FullscreenToggle",Nr);var Ar=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},jr=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Kt);Kt.registerComponent("VolumeLevel",jr);var Ir=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on("slideractive",a.updateLastVolume_),a.on(n,"volumechange",a.updateARIAAttributes),n.ready(function(){return a.updateARIAAttributes()}),a}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseDown=function(t){U(t)&&e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){U(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(e){var t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(_r);Ir.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ir.prototype.playerEvent="volumechange",Kt.registerComponent("VolumeBar",Ir);var xr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ut(this,t),r.vertical=r.vertical||!1,("undefined"==typeof r.volumeBar||l(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var a=dt(this,e.call(this,n,r));return Ar(a,n),a.throttledHandleMouseMove=Lt(Dt(a,a.handleMouseMove),25),a.on("mousedown",a.handleMouseDown),a.on("touchstart",a.handleMouseDown),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}return ct(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(e){var t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(e){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Kt);xr.prototype.options_={children:["volumeBar"]},Kt.registerComponent("VolumeControl",xr);var Mr=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Dr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return Mr(a,n),a.on(n,["loadstart","volumechange"],a.update),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(e){var t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){var r=n<.1?.1:n;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(e){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;qe&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)E(this.el_,"vjs-vol-"+n);w(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}(sr);Dr.prototype.controlText_="Mute",Kt.registerComponent("MuteToggle",Dr);var Lr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ut(this,t),"undefined"!=typeof r.inline?r.inline=r.inline:r.inline=!0,("undefined"==typeof r.volumeControl||l(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var a=dt(this,e.call(this,n,r));return a.on(n,["loadstart"],a.volumePanelState_),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}return ct(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Kt);Lr.prototype.options_={children:["muteToggle","volumeControl"]},Kt.registerComponent("VolumePanel",Lr);var Rr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return r&&(a.menuButton_=r.menuButton),a.focusedChild_=-1,a.on("keydown",a.handleKeyPress),a}return ct(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",Dt(this,function(t){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=v(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Y(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.children().slice(),n=t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className);n&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Kt);Kt.registerComponent("Menu",Rr);var Br=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ut(this,t);var a=dt(this,e.call(this,n,r));a.menuButton_=new sr(n,r),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var i=sr.prototype.buildCSSClass();return a.menuButton_.el_.className=a.buildCSSClass()+" "+i,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0,a.on(a.menuButton_,"tap",a.handleClick),a.on(a.menuButton_,"click",a.handleClick),a.on(a.menuButton_,"focus",a.handleFocus),a.on(a.menuButton_,"blur",a.handleBlur),a.on("keydown",a.handleSubmenuKeyPress),a}return ct(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new Rr(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=v("li",{className:"vjs-menu-title",innerHTML:ee(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),b(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";t+=this.options_.inline===!0?"-inline":"-popup";var n=sr.prototype.buildCSSClass();return"vjs-menu-button "+t+" "+n+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return t+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(e){this.one(this.menu.contentEl(),"mouseleave",Dt(this,function(e){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){Y(xe,"keydown",Dt(this,this.handleKeyPress))},t.prototype.handleBlur=function(){K(xe,"keydown",Dt(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),qe&&m())return;this.menu.focus()}},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Kt);Kt.registerComponent("MenuButton",Br);var Ur=function(e){function t(n,r){ut(this,t);var a=r.tracks,i=dt(this,e.call(this,n,r));if(i.items.length<=1&&i.hide(),!a)return dt(i);var o=Dt(i,i.update);return a.addEventListener("removetrack",o),a.addEventListener("addtrack",o),i.player_.on("ready",o),i.player_.on("dispose",function(){a.removeEventListener("removetrack",o),a.removeEventListener("addtrack",o)}),i}return ct(t,e),t}(Br);Kt.registerComponent("TrackButton",Ur);var Fr=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.selectable=r.selectable,a.isSelected_=r.selected||!1,a.multiSelectable=r.multiSelectable,a.selected(a.isSelected_),a.selectable?a.multiSelectable?a.el_.setAttribute("role","menuitemcheckbox"):a.el_.setAttribute("role","menuitemradio"):a.el_.setAttribute("role","menuitem"),a}return ct(t,e),t.prototype.createEl=function(t,n,r){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",o({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),r)},t.prototype.handleClick=function(e){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(er);Kt.registerComponent("MenuItem",Fr);var Vr=function(e){function t(n,r){ut(this,t);var a=r.track,i=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode;var o=dt(this,e.call(this,n,r));o.track=a;var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)},l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleSelectedLanguageChange.apply(o,t)};if(n.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",l),o.on("dispose",function(){n.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",l)}),void 0===i.onchange){var u=void 0;o.on(["tap","click"],function(){if("object"!==lt(Ie.Event))try{u=new Ie.Event("change")}catch(e){}u||(u=xe.createEvent("Event"),u.initEvent("change",!0,!0)),i.dispatchEvent(u)})}return o.handleTracksChange(),o}return ct(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.track.kinds,a=this.player_.textTracks();if(r||(r=[n]),e.prototype.handleClick.call(this,t),a)for(var i=0;i<a.length;i++){var o=a[i];o===this.track&&r.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},t.prototype.handleTracksChange=function(e){var t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)},t.prototype.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.prototype.dispose=function(){this.track=null,e.prototype.dispose.call(this)},t}(Fr);Kt.registerComponent("TextTrackMenuItem",Vr);var Hr=function(e){function t(n,r){return ut(this,t),r.track={player:n,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,dt(this,e.call(this,n,r))}return ct(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,a=t.length;r<a;r++){var i=t[r];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)},t.prototype.handleSelectedLanguageChange=function(e){for(var t=this.player().textTracks(),n=!0,r=0,a=t.length;r<a;r++){var i=t[r];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Vr);Kt.registerComponent("OffTextTrackMenuItem",Hr);var Wr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ut(this,t),r.tracks=n.textTracks(),dt(this,e.call(this,n,r))}return ct(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vr,n=void 0;
this.label_&&(n=this.label_+" off"),e.push(new Hr(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var a=0;a<r.length;a++){var i=r[a];if(this.kinds_.indexOf(i.kind)>-1){var o=new t(this.player_,{track:i,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+i.kind+"-menu-item"),e.push(o)}}return e},t}(Ur);Kt.registerComponent("TextTrackButton",Wr);var zr=function(e){function t(n,r){ut(this,t);var a=r.track,i=r.cue,o=n.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=i.text,r.selected=i.startTime<=o&&o<i.endTime;var s=dt(this,e.call(this,n,r));return s.track=a,s.cue=i,a.addEventListener("cuechange",Dt(s,s.update)),s}return ct(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(e){var t=this.cue,n=this.player_.currentTime();this.selected(t.startTime<=n&&n<t.endTime)},t}(Fr);Kt.registerComponent("ChaptersTrackMenuItem",zr);var qr=function(e){function t(n,r,a){return ut(this,t),dt(this,e.call(this,n,r,a))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(ee(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var a=t[n],i=new zr(this.player_,{track:this.track_,cue:a});e.push(i)}return e},t}(Wr);qr.prototype.kind_="chapters",qr.prototype.controlText_="Chapters",Kt.registerComponent("ChaptersButton",qr);var Gr=function(e){function t(n,r,a){ut(this,t);var i=dt(this,e.call(this,n,r,a)),o=n.textTracks(),s=Dt(i,i.handleTracksChange);return o.addEventListener("change",s),i.on("dispose",function(){o.removeEventListener("change",s)}),i}return ct(t,e),t.prototype.handleTracksChange=function(e){for(var t=this.player().textTracks(),n=!1,r=0,a=t.length;r<a;r++){var i=t[r];if(i.kind!==this.kind_&&"showing"===i.mode){n=!0;break}}n?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Wr);Gr.prototype.kind_="descriptions",Gr.prototype.controlText_="Descriptions",Kt.registerComponent("DescriptionsButton",Gr);var Yr=function(e){function t(n,r,a){return ut(this,t),dt(this,e.call(this,n,r,a))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Wr);Yr.prototype.kind_="subtitles",Yr.prototype.controlText_="Subtitles",Kt.registerComponent("SubtitlesButton",Yr);var Kr=function(e){function t(n,r){ut(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var a=dt(this,e.call(this,n,r));return a.addClass("vjs-texttrack-settings"),a.controlText(", opens "+r.kind+" settings dialog"),a}return ct(t,e),t.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},t}(Vr);Kt.registerComponent("CaptionSettingsMenuItem",Kr);var Qr=function(e){function t(n,r,a){return ut(this,t),dt(this,e.call(this,n,r,a))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Kr(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Wr);Qr.prototype.kind_="captions",Qr.prototype.controlText_="Captions",Kt.registerComponent("CaptionsButton",Qr);var Xr=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(t,n,r){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(a+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),a+="</span>";var i=e.prototype.createEl.call(this,t,o({innerHTML:a},n),r);return i},t}(Vr);Kt.registerComponent("SubsCapsMenuItem",Xr);var $r=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ut(this,t);var a=dt(this,e.call(this,n,r));return a.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(ee(a.label_)),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(t.push(new Kr(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Xr)},t}(Wr);$r.prototype.kinds_=["captions","subtitles"],$r.prototype.controlText_="Subtitles",Kt.registerComponent("SubsCapsButton",$r);var Jr=function(e){function t(n,r){ut(this,t);var a=r.track,i=n.audioTracks();r.label=a.label||a.language||"Unknown",r.selected=a.enabled;var o=dt(this,e.call(this,n,r));o.track=a,o.addClass("vjs-"+a.kind+"-menu-item");var s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.handleTracksChange.apply(o,t)};return i.addEventListener("change",s),o.on("dispose",function(){i.removeEventListener("change",s)}),o}return ct(t,e),t.prototype.createEl=function(t,n,r){var a='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(a+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),a+="</span>";var i=e.prototype.createEl.call(this,t,o({innerHTML:a},n),r);return i},t.prototype.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var a=n[r];a.enabled=a===this.track}},t.prototype.handleTracksChange=function(e){this.selected(this.track.enabled)},t}(Fr);Kt.registerComponent("AudioTrackMenuItem",Jr);var Zr=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ut(this,t),r.tracks=n.audioTracks(),dt(this,e.call(this,n,r))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Jr(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e},t}(Ur);Zr.prototype.controlText_="Audio Track",Kt.registerComponent("AudioTrackButton",Zr);var ea=function(e){function t(n,r){ut(this,t);var a=r.rate,i=parseFloat(a,10);r.label=a,r.selected=1===i,r.selectable=!0,r.multiSelectable=!1;var o=dt(this,e.call(this,n,r));return o.label=a,o.rate=i,o.on(n,"ratechange",o.update),o}return ct(t,e),t.prototype.handleClick=function(t){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(e){this.selected(this.player().playbackRate()===this.rate)},t}(Fr);ea.prototype.contentElType="button",Kt.registerComponent("PlaybackRateMenuItem",ea);var ta=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.updateVisibility(),a.updateLabel(),a.on(n,"loadstart",a.updateVisibility),a.on(n,"ratechange",a.updateLabel),a}return ct(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=v("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.dispose=function(){this.labelEl_=null,e.prototype.dispose.call(this)},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new Rr(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new ea(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(e){for(var t=this.player().playbackRate(),n=this.playbackRates(),r=n[0],a=0;a<n.length;a++)if(n[a]>t){r=n[a];break}this.player().playbackRate(r)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Br);ta.prototype.controlText_="Playback Rate",Kt.registerComponent("PlaybackRateMenuButton",ta);var na=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Kt);Kt.registerComponent("Spacer",na);var ra=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="",t},t}(na);Kt.registerComponent("CustomControlSpacer",ra);var aa=function(e){function t(){return ut(this,t),dt(this,e.apply(this,arguments))}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(Kt);aa.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Kt.registerComponent("ControlBar",aa);var ia=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r));return a.on(n,"error",a.open),a}return ct(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(un);ia.prototype.options_=ne(un.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Kt.registerComponent("ErrorDisplay",ia);var oa="vjs-text-track-settings",sa=["#000","Black"],la=["#00F","Blue"],ua=["#0FF","Cyan"],ca=["#0F0","Green"],da=["#F0F","Magenta"],fa=["#F00","Red"],pa=["#FFF","White"],ha=["#FF0","Yellow"],ma=["1","Opaque"],ya=["0.5","Semi-Transparent"],va=["0","Transparent"],ga={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[sa,pa,fa,ca,la,ha,da,ua]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[ma,ya,va]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pa,sa,fa,ca,la,ha,da,ua]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[ma,ya]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[va,ya,ma]}};ga.windowColor.options=ga.backgroundColor.options;var ba=function(e){function t(n,r){ut(this,t),r.temporary=!1;var i=dt(this,e.call(this,n,r));return i.updateDisplay=Dt(i,i.updateDisplay),i.fill(),i.hasBeenOpened_=i.hasBeenFilled_=!0,i.endDialog=v("p",{className:"vjs-control-text",textContent:i.localize("End of dialog window.")}),i.el().appendChild(i.endDialog),i.setDefaults(),void 0===r.persistTextTrackSettings&&(i.options_.persistTextTrackSettings=i.options_.playerOptions.persistTextTrackSettings),i.on(i.$(".vjs-done-button"),"click",function(){i.saveSettings(),i.close()}),i.on(i.$(".vjs-default-button"),"click",function(){i.setDefaults(),i.updateDisplay()}),a(ga,function(e){i.on(i.$(e.selector),"change",i.updateDisplay)}),i.options_.persistTextTrackSettings&&i.restoreSettings(),i}return ct(t,e),t.prototype.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},t.prototype.createElSelect_=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",a=ga[e],i=a.id.replace("%s",this.id_),o=[n,i].join(" ").trim();return["<"+r+' id="'+i+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(a.label),"</"+r+">",'<select aria-labelledby="'+o+'">'].concat(a.options.map(function(e){var n=i+"-"+e[1].replace(/\W+/g,"");return['<option id="'+n+'" value="'+e[0]+'" ','aria-labelledby="'+o+" "+n+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},t.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.prototype.createElColors_=function(){return v("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.prototype.createElFont_=function(){return v("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return v("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.prototype.label=function(){return this.localize("Caption Settings Dialog")},t.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.prototype.getValues=function(){var e=this;return i(ga,function(t,n,r){var a=Ne(e.$(n.selector),n.parser);return void 0!==a&&(t[r]=a),t},{})},t.prototype.setValues=function(e){var t=this;a(ga,function(n,r){Ae(t.$(n.selector),e[r],n.parser)})},t.prototype.setDefaults=function(){var e=this;a(ga,function(t){var n=t.hasOwnProperty("default")?t.default:0;e.$(t.selector).selectedIndex=n})},t.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(Ie.localStorage.getItem(oa))}catch(t){bt.warn(t)}e&&this.setValues(e)},t.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?Ie.localStorage.setItem(oa,JSON.stringify(e)):Ie.localStorage.removeItem(oa)}catch(t){bt.warn(t)}}},t.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(xe,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},t}(un);Kt.registerComponent("TextTrackSettings",ba);var _a=function(e){function t(n,r){ut(this,t);var a=r.ResizeObserver||Ie.ResizeObserver;null===r.ResizeObserver&&(a=!1);var i=ne({createEl:!a},r),o=dt(this,e.call(this,n,i));return o.ResizeObserver=r.ResizeObserver||Ie.ResizeObserver,o.loadListener_=null,o.resizeObserver_=null,o.debouncedHandler_=Rt(function(){o.resizeHandler()},100,!1,n),a?(o.resizeObserver_=new o.ResizeObserver(o.debouncedHandler_),o.resizeObserver_.observe(n.el())):(o.loadListener_=function(){o.el_.contentWindow&&Y(o.el_.contentWindow,"resize",o.debouncedHandler_),o.off("load",o.loadListener_)},o.on("load",o.loadListener_)),o}return ct(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},t.prototype.resizeHandler=function(){this.player_.trigger("playerresize")},t.prototype.dispose=function(){this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&K(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},t}(Kt);Kt.registerComponent("ResizeManager",_a);var wa=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),r=[],a="";if(!n.length)return!1;for(var i=0;i<n.length;i++){var o=n[i].src;o&&r.indexOf(o)===-1&&r.push(o)}return!!r.length&&(1===r.length&&(a=r[0]),e.triggerSourceset(a),!0)},Ea={};tt||(Ea=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=xe.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=xe.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",Ie.Element.prototype.appendChild.call(this,n),this.innerHTML}}));var ka=function(e,t){for(var n={},r=0;r<e.length&&(n=Object.getOwnPropertyDescriptor(e[r],t),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},Ta=function(e){return ka([e.el(),Ie.HTMLMediaElement.prototype,Ie.Element.prototype,Ea],"innerHTML")},Sa=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},r=Ta(e),a=function(n){return function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=n.apply(t,a);return wa(e),o}};["append","appendChild","insertAdjacentHTML"].forEach(function(e){t[e]&&(n[e]=t[e],t[e]=a(n[e]))}),Object.defineProperty(t,"innerHTML",ne(r,{set:a(r.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(e){t[e]=n[e]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)}},Ca={};tt||(Ca=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Sn(Ie.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return Ie.Element.prototype.setAttribute.call(this,"src",e),e}}));var Pa=function(e){return ka([e.el(),Ie.HTMLMediaElement.prototype,Ca],"src")},Oa=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=Pa(e),r=t.setAttribute,a=t.load;Object.defineProperty(t,"src",ne(n,{set:function(r){var a=n.set.call(t,r);return e.triggerSourceset(t.src),a}})),t.setAttribute=function(n,a){var i=r.call(t,n,a);return/src/i.test(n)&&e.triggerSourceset(t.src),i},t.load=function(){var n=a.call(t);return wa(e)||(e.triggerSourceset(""),Sa(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):wa(e)||Sa(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},Na=ft(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Aa=function(e){function t(n,r){ut(this,t);var a=dt(this,e.call(this,n,r)),i=n.source,o=!1;if(i&&(a.el_.currentSrc!==i.src||n.tag&&3===n.tag.initNetworkState_)?a.setSource(i):a.handleLateInit_(a.el_),n.enableSourceset&&a.setupSourcesetHandling_(),a.el_.hasChildNodes()){for(var s=a.el_.childNodes,l=s.length,u=[];l--;){var c=s[l],d=c.nodeName.toLowerCase();"track"===d&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(c),a.remoteTextTracks().addTrack(c.track),a.textTracks().addTrack(c.track),o||a.el_.hasAttribute("crossorigin")||!Pn(c.src)||(o=!0)):u.push(c))}for(var f=0;f<u.length;f++)a.el_.removeChild(u[f])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&o&&bt.warn(Me(Na)),a.restoreMetadataTracksInIOSNativePlayer_(),(it||We||Xe)&&n.nativeControlsForTouch===!0&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}return ct(t,e),t.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},t.prototype.setupSourcesetHandling_=function(){Oa(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n),this.on("dispose",function(){return e.removeEventListener("change",n)});var r=function n(){for(var r=0;r<t.length;r++){var a=t[r];"disabled"===a.track.mode&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)})},t.prototype.proxyNativeTracks_=function(){var e=this;Un.names.forEach(function(t){var n=Un[t],r=e.el()[n.getterName],a=e[n.getterName]();if(e["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var i={change:function(e){a.trigger({type:"change",target:a,currentTarget:a,srcElement:a})},addtrack:function(e){a.addTrack(e.track)},removetrack:function(e){a.removeTrack(e.track)}},o=function(){for(var e=[],t=0;t<a.length;t++){for(var n=!1,i=0;i<r.length;i++)if(r[i]===a[t]){n=!0;break}n||e.push(a[t])}for(;e.length;)a.removeTrack(e.shift())};Object.keys(i).forEach(function(t){var n=i[t];r.addEventListener(t,n),e.on("dispose",function(e){return r.removeEventListener(t,n)})}),e.on("loadstart",o),e.on("dispose",function(t){return e.off("loadstart",o)})}})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=xe.createElement("video");var r=this.options_.tag&&S(this.options_.tag),a=ne({},r);it&&this.options_.nativeControlsForTouch===!0||delete a.controls,T(e,o(a,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&P(e,"preload",this.options_.preload);for(var i=["loop","muted","playsinline","autoplay"],s=0;s<i.length;s++){var l=i[s],u=this.options_[l];"undefined"!=typeof u&&(u?P(e,l,l):O(e,l),e[l]=u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var a=["loadstart"];a.push("loadedmetadata"),e.readyState>=2&&a.push("loadeddata"),e.readyState>=3&&a.push("canplay"),e.readyState>=4&&a.push("canplaythrough"),this.ready(function(){a.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){bt(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===1/0&&Ye&&Ze&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=Ie.navigator&&Ie.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){return void 0===e?this.el_.src:void this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=xe.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),Ie.performance&&"function"==typeof Ie.performance.now?e.creationTime=Ie.performance.now():Ie.performance&&Ie.performance.timing&&"number"==typeof Ie.performance.timing.navigationStart&&(e.creationTime=Ie.Date.now()-Ie.performance.timing.navigationStart),e},t}(Hn);if(p()){Aa.TEST_VID=xe.createElement("video");var ja=xe.createElement("track");ja.kind="captions",ja.srclang="en",ja.label="English",Aa.TEST_VID.appendChild(ja)}Aa.isSupported=function(){try{Aa.TEST_VID.volume=.5}catch(e){return!1}return!(!Aa.TEST_VID||!Aa.TEST_VID.canPlayType)},Aa.canPlayType=function(e){return Aa.TEST_VID.canPlayType(e)},Aa.canPlaySource=function(e,t){return Aa.canPlayType(e.type)},Aa.canControlVolume=function(){try{var e=Aa.TEST_VID.volume;return Aa.TEST_VID.volume=e/2+.1,e!==Aa.TEST_VID.volume}catch(t){return!1}},Aa.canMuteVolume=function(){try{var e=Aa.TEST_VID.muted;return Aa.TEST_VID.muted=!e,Aa.TEST_VID.muted?P(Aa.TEST_VID,"muted","muted"):O(Aa.TEST_VID,"muted","muted"),e!==Aa.TEST_VID.muted}catch(t){return!1}},Aa.canControlPlaybackRate=function(){if(Ye&&Ze&&et<58)return!1;try{var e=Aa.TEST_VID.playbackRate;return Aa.TEST_VID.playbackRate=e/2+.1,e!==Aa.TEST_VID.playbackRate;
}catch(t){return!1}},Aa.canOverrideAttributes=function(){if(tt)return!1;try{var e=function(){};Object.defineProperty(xe.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(xe.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(xe.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(xe.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Aa.supportsNativeTextTracks=function(){return at||qe&&Ze},Aa.supportsNativeVideoTracks=function(){return!(!Aa.TEST_VID||!Aa.TEST_VID.videoTracks)},Aa.supportsNativeAudioTracks=function(){return!(!Aa.TEST_VID||!Aa.TEST_VID.audioTracks)},Aa.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Aa.prototype.featuresVolumeControl=Aa.canControlVolume(),Aa.prototype.featuresMuteControl=Aa.canMuteVolume(),Aa.prototype.featuresPlaybackRate=Aa.canControlPlaybackRate(),Aa.prototype.featuresSourceset=Aa.canOverrideAttributes(),Aa.prototype.movingMediaElementInDOM=!qe,Aa.prototype.featuresFullscreenResize=!0,Aa.prototype.featuresProgressEvents=!0,Aa.prototype.featuresTimeupdateEvents=!0,Aa.prototype.featuresNativeTextTracks=Aa.supportsNativeTextTracks(),Aa.prototype.featuresNativeVideoTracks=Aa.supportsNativeVideoTracks(),Aa.prototype.featuresNativeAudioTracks=Aa.supportsNativeAudioTracks();var Ia=Aa.TEST_VID&&Aa.TEST_VID.constructor.prototype.canPlayType,xa=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Ma=/^video\/mp4/i;Aa.patchCanPlayType=function(){Ke>=4&&!$e&&!Ze?Aa.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&xa.test(e)?"maybe":Ia.call(this,e)}:Qe&&(Aa.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&Ma.test(e)?"maybe":Ia.call(this,e)})},Aa.unpatchCanPlayType=function(){var e=Aa.TEST_VID.constructor.prototype.canPlayType;return Aa.TEST_VID.constructor.prototype.canPlayType=Ia,e},Aa.patchCanPlayType(),Aa.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},Aa.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&!function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Aa.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Aa.prototype["set"+ee(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){Aa.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){Aa.prototype["set"+ee(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){Aa.prototype[e]=function(){return this.el_[e]()}}),Hn.withSourceHandlers(Aa),Aa.nativeSourceHandler={},Aa.nativeSourceHandler.canPlayType=function(e){try{return Aa.TEST_VID.canPlayType(e)}catch(t){return""}},Aa.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Aa.nativeSourceHandler.canPlayType(e.type);if(e.src){var n=Cn(e.src);return Aa.nativeSourceHandler.canPlayType("video/"+n)}return""},Aa.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},Aa.nativeSourceHandler.dispose=function(){},Aa.registerSourceHandler(Aa.nativeSourceHandler),Hn.registerTech("Html5",Aa);var Da=ft(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),La=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ra={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Ba=function(e){function t(n,r,a){if(ut(this,t),n.id=n.id||r.id||"vjs_video_"+F(),r=o(t.getTagSettings(n),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof n.closest){var i=n.closest("[lang]");i&&i.getAttribute&&(r.language=i.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(S(s).hasOwnProperty("lang")){r.language=s.getAttribute("lang");break}s=s.parentNode}var l=dt(this,e.call(this,null,r,a));if(l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=n,l.tagAttributes=n&&S(n),l.language(l.options_.language),r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach(function(e){u[e.toLowerCase()]=r.languages[e]}),l.languages_=u}else l.languages_=t.prototype.options_.languages;l.cache_={},l.poster_=r.poster||"",l.controls_=!!r.controls,l.cache_.lastVolume=1,n.controls=!1,n.removeAttribute("controls"),n.hasAttribute("autoplay")?l.options_.autoplay=!0:l.autoplay(l.options_.autoplay),l.scrubbing_=!1,l.el_=l.createEl(),l.cache_.lastPlaybackRate=l.defaultPlaybackRate(),J(l,{eventBusKey:"el_"});var c=ne(l.options_);if(r.plugins){var d=r.plugins;Object.keys(d).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](d[e])},l)}l.options_.playerOptions=c,l.middleware_=[],l.initChildren(),l.isAudio("audio"===n.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),qe||l.addClass("vjs-workinghover"),t.players[l.id_]=l;var f=Be.split(".")[0];return l.addClass("vjs-v"+f),l.userActive(!0),l.reportUserActivity(),l.one("play",l.listenForUserActivity_),l.on("fullscreenchange",l.handleFullscreenChange_),l.on("stageclick",l.handleStageClick_),l.changingSrc_=!1,l.playWaitingForReady_=!1,l.playOnLoadstart_=null,l}return ct(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),_e(this),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();r?n=this.el_=t.parentNode:a||(n=this.el_=e.prototype.createEl.call(this,"div"));var i=S(t);if(a){for(n=this.el_=t,t=this.tag=xe.createElement("video");n.children.length;)t.appendChild(n.firstChild);_(n,"video-js")||w(n,"video-js"),n.appendChild(t),r=this.playerElIngest_=n,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach(function(e){"undefined"!=typeof n[e]&&(t[e]=n[e])})}if(t.setAttribute("tabindex","-1"),nt&&t.setAttribute("role","application"),t.removeAttribute("width"),t.removeAttribute("height"),Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?(n.className+=" "+i[e],a&&(t.className+=" "+i[e])):(n.setAttribute(e,i[e]),a&&t.setAttribute(e,i[e]))}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),Ie.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=xt("vjs-styles-dimensions");var o=wt(".vjs-styles-defaults"),s=wt("head");s.insertBefore(this.styleEl_,o?o.nextSibling:s.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var l=t.getElementsByTagName("a"),u=0;u<l.length;u++){var c=l.item(u);w(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),b(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(void 0===t)return this[n]||0;if(""===t)return this[n]=void 0,void this.updateStyleEl_();var r=parseFloat(t);return isNaN(r)?void bt.error('Improper value "'+t+'" supplied for for '+e):(this[n]=r,void this.updateStyleEl_())},t.prototype.fluid=function(e){return void 0===e?!!this.fluid_:(this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),void this.updateStyleEl_())},t.prototype.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(Ie.VIDEOJS_NO_DYNAMIC_STYLE===!0){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,a=void 0,i=void 0,o=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=i.split(":"),l=s[1]/s[0];r=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/l:this.videoWidth()||300,a=void 0!==this.height_?this.height_:r*l,o=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(o),Mt(this.styleEl_,"\n      ."+o+" {\n        width: "+r+"px;\n        height: "+a+"px;\n      }\n\n      ."+o+".vjs-fluid {\n        padding-top: "+100*l+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var r=ee(e),a=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Hn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var i="string"!=typeof this.autoplay()&&this.autoplay(),s={source:t,autoplay:i,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Vn.names.forEach(function(e){var t=Vn[e];s[t.getterName]=n[t.privateName]}),o(s,this.options_[r]),o(s,this.options_[a]),o(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);var l=Hn.getTech(e);if(!l)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new l(s),this.tech_.ready(Dt(this,this.handleTechReady_),!0),on.jsonToTextTracks(this.textTracksJson_||[],this.tech_),La.forEach(function(e){n.on(n.tech_,e,n["handleTech"+ee(e)+"_"])}),Object.keys(Ra).forEach(function(e){n.on(n.tech_,e,function(t){return 0===n.tech_.playbackRate()&&n.tech_.seeking()?void n.queuedCallbacks_.push({callback:n["handleTech"+Ra[e]+"_"].bind(n),event:t}):void n["handleTech"+Ra[e]+"_"](t)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||b(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;Vn.names.forEach(function(t){var n=Vn[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=on.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.prototype.tech=function(e){return void 0===e&&bt.warn(Me(Da)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(e){bt("deleting tag.poster throws in some browsers",e)}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},t.prototype.manualAutoplay_=function(e){var t=this;if(this.tech_&&"string"==typeof e){var n=function(){var e=t.muted();t.muted(!0);var n=t.play();if(n&&n.then&&n.catch)return n.catch(function(n){t.muted(e)})},r=void 0;if("any"===e?(r=this.play(),r&&r.then&&r.catch&&r.catch(function(){return n()})):r="muted"===e?n():this.play(),r&&r.then&&r.catch)return r.then(function(){t.trigger({type:"autoplay-success",autoplay:e})}).catch(function(n){t.trigger({type:"autoplay-failure",autoplay:e})})}},t.prototype.updateSourceCaches_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,n="";if("string"!=typeof t&&(t=e.src,n=e.type),!/^blob:/.test(t)){this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=$n(this,t)),this.cache_.source=ne({},e,{src:t,type:n});for(var r=this.cache_.sources.filter(function(e){return e.src&&e.src===t}),a=[],i=this.$$("source"),o=[],s=0;s<i.length;s++){var l=S(i[s]);a.push(l),l.src&&l.src===t&&o.push(l.src)}o.length&&!r.length?this.cache_.sources=a:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}},t.prototype.handleTechSourceset_=function(e){var t=this;if(!this.changingSrc_&&(this.updateSourceCaches_(e.src),!e.src)){var n=function e(n){"sourceset"!==n.type&&t.updateSourceCaches_(t.techGet_("currentSrc")),t.tech_.off(["sourceset","loadstart"],e)};this.tech_.one(["sourceset","loadstart"],n)}this.trigger({src:e.src,type:"sourceset"})},t.prototype.hasStarted=function(e){return void 0===e?this.hasStarted_:void(e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(bt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){U(e)&&this.controls_&&(this.paused()?ce(this.play()):this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in Yn)return ye(this.middleware_,this.tech_,e,t);if(e in Kn)return ve(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw bt(n),n}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Gn)return me(this.middleware_,this.tech_,e);if(e in Kn)return ve(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){if(void 0===this.tech_[e])throw bt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t),t;if("TypeError"===t.name)throw bt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1,t;throw bt(t),t}}},t.prototype.play=function(){var e=this,t=this.options_.Promise||Ie.Promise;return t?new t(function(t){e.play_(t)}):this.play_()},t.prototype.play_=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return this.techGet_("paused")!==!1},t.prototype.played=function(){return this.techGet_("played")||oe(0,0)},t.prototype.scrubbing=function(e){return"undefined"==typeof e?this.scrubbing_:(this.scrubbing_=!!e,void(e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")))},t.prototype.currentTime=function(e){return"undefined"!=typeof e?(e<0&&(e=0),void this.techCall_("setCurrentTime",e)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){return void 0===e?void 0!==this.cache_.duration?this.cache_.duration:NaN:(e=parseFloat(e),e<0&&(e=1/0),void(e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.prototype.buffered=function e(){var e=this.techGet_("buffered");return e&&e.length||(e=oe(0,0)),e},t.prototype.bufferedPercent=function(){return se(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return void 0!==e?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return void 0!==e?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},t.prototype.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){return void 0!==e&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return void 0!==e?void(this.isFullscreen_=!!e):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=Qt;this.isFullscreen(!0),e.requestFullscreen?(Y(xe,e.fullscreenchange,Dt(this,function t(n){this.isFullscreen(xe[e.fullscreenElement]),this.isFullscreen()===!1&&K(xe,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=Qt;this.isFullscreen(!1),e.requestFullscreen?xe[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=xe.documentElement.style.overflow,Y(xe,"keydown",Dt(this,this.fullWindowOnEscKey)),xe.documentElement.style.overflow="hidden",w(xe.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,K(xe,"keydown",this.fullWindowOnEscKey),xe.documentElement.style.overflow=this.docOrigOverflow,E(xe.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var a=r[n],i=Hn.getTech(a);if(i||(i=Kt.getComponent(a)),i){if(i.isSupported()&&(t=i.canPlayType(e)))return t}else bt.error('The "'+a+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(function(e){return[e,Hn.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(bt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},a=void 0,i=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0],a=e[1];if(a.canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return a=this.options_.sourceOrder?r(e,n,i(o)):r(n,e,o),a||!1},t.prototype.src=function(e){var t=this;if("undefined"==typeof e)return this.cache_.src||"";var n=Jn(e);return n.length?(this.changingSrc_=!0,this.cache_.sources=n,this.updateSourceCaches_(n[0]),void pe(this,n[0],function(e,r){t.middleware_=r,t.cache_.sources=n,t.updateSourceCaches_(e);var a=t.src_(e);return a?n.length>1?t.src(n.slice(1)):(t.changingSrc_=!1,t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady()):void he(r,t.tech_)})):void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.prototype.src_=function(e){var t=this,n=this.selectSource([e]);return!n||(te(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(function(){t.changingSrc_=!1}),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var t=void 0;"string"==typeof e&&/(any|play|muted)/.test(e)?(this.options_.autoplay=e,this.manualAutoplay_(e),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t=t||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",t)},t.prototype.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){return void 0===e?this.poster_:(e||(e=""),void(e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))))},t.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.prototype.controls=function(e){return void 0===e?!!this.controls_:(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))))},t.prototype.usingNativeControls=function(e){return void 0===e?!!this.usingNativeControls_:(e=!!e,void(this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))))},t.prototype.error=function(e){return void 0===e?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new le(e),this.addClass("vjs-error"),bt.error("(CODE:"+this.error_.code+" "+le.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(e){this.userActivity_=!0},t.prototype.userActive=function(e){if(void 0===e)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=Dt(this,this.reportUserActivity),a=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},i=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},o=function(t){r(),this.clearInterval(e)};this.on("mousedown",i),this.on("mousemove",a),this.on("mouseup",o),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return void 0!==e?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},t.prototype.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){return void 0!==e?void(this.isAudio_=!!e):!!this.isAudio_},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.track,n=void 0===t?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){return void 0===e?this.language_:void(this.language_=String(e).toLowerCase());
},t.prototype.languages=function(){return ne(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=ne(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=ne(r),r.player=void 0,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new un(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=S(e),r=n["data-setup"];if(_(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var a=De(r||"{}"),i=a[0],s=a[1];i&&bt.error(i),o(n,s)}if(o(t,n),e.hasChildNodes())for(var l=e.childNodes,u=0,c=l.length;u<c;u++){var d=l[u],f=d.nodeName.toLowerCase();"source"===f?t.sources.push(S(d)):"track"===f&&t.tracks.push(S(d))}return t},t.prototype.flexNotSupported_=function(){var e=xe.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Kt);Vn.names.forEach(function(e){var t=Vn[e];Ba.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Ba.players={};var Ua=Ie.navigator;Ba.prototype.options_={techOrder:Hn.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Ua&&(Ua.languages&&Ua.languages[0]||Ua.userLanguage||Ua.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},tt||Ba.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach(function(e){Ba.prototype[e]=function(){return this.techGet_(e)}}),La.forEach(function(e){Ba.prototype["handleTech"+ee(e)+"_"]=function(){return this.trigger(e)}}),Kt.registerComponent("Player",Ba);var Fa="plugin",Va="activePlugins_",Ha={},Wa=function(e){return Ha.hasOwnProperty(e)},za=function(e){return Wa(e)?Ha[e]:void 0},qa=function(e,t){e[Va]=e[Va]||{},e[Va][t]=!0},Ga=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Ya=function(e,t){var n=function(){Ga(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return qa(this,e),Ga(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},Ka=function(e,t){return t.prototype.name=e,function(){Ga(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return i},Ga(this,i.getEventHash()),i}},Qa=function(){function e(t){if(ut(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,J(this),delete this.trigger,Z(this,this.constructor.defaultState),qa(t,this.name),this.dispose=Dt(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.version=function(){return this.constructor.VERSION},e.prototype.getEventHash=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Q(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(e){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Va][e]=!1,this.player=this.state=null,t[e]=Ka(e,Ha[e])},e.isBasic=function(t){var n="string"==typeof t?za(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+("undefined"==typeof t?"undefined":lt(t))+".");if(Wa(t))bt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(Ba.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+("undefined"==typeof n?"undefined":lt(n))+".");return Ha[t]=n,t!==Fa&&(e.isBasic(n)?Ba.prototype[t]=Ya(t,n):Ba.prototype[t]=Ka(t,n)),n},e.deregisterPlugin=function(e){if(e===Fa)throw new Error("Cannot de-register base plugin.");Wa(e)&&(delete Ha[e],delete Ba.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(Ha),t=void 0;return e.forEach(function(e){var n=za(e);n&&(t=t||{},t[e]=n)}),t},e.getPluginVersion=function(e){var t=za(e);return t&&t.VERSION||""},e}();Qa.getPlugin=za,Qa.BASE_PLUGIN_NAME=Fa,Qa.registerPlugin(Fa,Qa),Ba.prototype.usingPlugin=function(e){return!!this[Va]&&this[Va][e]===!0},Ba.prototype.hasPlugin=function(e){return!!Wa(e)};var Xa=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":lt(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},$a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};"object"===("undefined"==typeof t?"undefined":lt(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),Xa(n,e);for(var a in r)r.hasOwnProperty(a)&&(n.prototype[a]=r[a]);return n};"undefined"==typeof HTMLVideoElement&&p()&&(xe.createElement("video"),xe.createElement("audio"),xe.createElement("track"),xe.createElement("video-js"));var Ja=function(e){return 0===e.indexOf("#")?e.slice(1):e};if(je.hooks_={},je.hooks=function(e,t){return je.hooks_[e]=je.hooks_[e]||[],t&&(je.hooks_[e]=je.hooks_[e].concat(t)),je.hooks_[e]},je.hook=function(e,t){je.hooks(e,t)},je.hookOnce=function(e,t){je.hooks(e,[].concat(t).map(function(t){var n=function n(){return je.removeHook(e,n),t.apply(void 0,arguments)};return n}))},je.removeHook=function(e,t){var n=je.hooks(e).indexOf(t);return!(n<=-1)&&(je.hooks_[e]=je.hooks_[e].slice(),je.hooks_[e].splice(n,1),!0)},Ie.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&p()){var Za=wt(".vjs-styles-defaults");if(!Za){Za=xt("vjs-styles-defaults");var ei=wt("head");ei&&ei.insertBefore(Za,ei.firstChild),Mt(Za,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}$(1,je),je.VERSION=Be,je.options=Ba.prototype.options_,je.getPlayers=function(){return Ba.players},je.getPlayer=function(e){var t=Ba.players,n=void 0;if("string"==typeof e){var r=Ja(e),a=t[r];if(a)return a;n=wt("#"+r)}else n=e;if(h(n)){var i=n,o=i.player,s=i.playerId;if(o||t[s])return o||t[s]}},je.getAllPlayers=function(){return Object.keys(Ba.players).map(function(e){return Ba.players[e]}).filter(Boolean)},je.players=Ba.players,je.getComponent=Kt.getComponent,je.registerComponent=function(e,t){Hn.isTech(t)&&bt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Kt.registerComponent.call(Kt,e,t)},je.getTech=Hn.getTech,je.registerTech=Hn.registerTech,je.use=fe,!tt&&Object.defineProperty?(Object.defineProperty(je,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(je.middleware,"TERMINATOR",{value:qn,writeable:!1,enumerable:!0})):je.middleware={TERMINATOR:qn},je.browser=st,je.TOUCH_ENABLED=it,je.extend=$a,je.mergeOptions=ne,je.bind=Dt,je.registerPlugin=Qa.registerPlugin,je.deregisterPlugin=Qa.deregisterPlugin,je.plugin=function(e,t){return bt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Qa.registerPlugin(e,t)},je.getPlugins=Qa.getPlugins,je.getPlugin=Qa.getPlugin,je.getPluginVersion=Qa.getPluginVersion,je.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),je.options.languages=ne(je.options.languages,(n={},n[e]=t,n)),je.options.languages[e]},je.log=bt,je.createTimeRange=je.createTimeRanges=oe,je.formatTime=pr,je.setFormatTime=Ce,je.resetFormatTime=Pe,je.parseUrl=Tn,je.isCrossOrigin=Pn,je.EventTarget=Bt,je.on=Y,je.one=X,je.off=K,je.trigger=Q,je.xhr=Le,je.TextTrack=jn,je.AudioTrack=In,je.VideoTrack=xn,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){je[e]=function(){return bt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),kt[e].apply(null,arguments)}}),je.computedStyle=u,je.dom=kt,je.url=On,e.exports=je},[1297,1286,1287,1288],function(e,t){function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function r(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function a(){this.values=y(null)}function i(e,t,n,r){var a=r?e.split(r):[e];for(var i in a)if("string"==typeof a[i]){var o=a[i].split(n);if(2===o.length){var s=o[0],l=o[1];t(s,l)}}}function o(e,t,o){function s(){var t=r(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+c);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function l(e,t){var n=new a;i(e,function(e,t){switch(e){case"region":for(var r=o.length-1;r>=0;r--)if(o[r].id===t){n.set(e,o[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),i=a[0];n.integer(e,i),n.percent(e,i)?n.set("snapToLines",!1):null,n.alt(e,i,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start","middle","end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start","middle","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical",""),t.line=n.get("line","auto"),t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100),t.align=n.get("align","middle"),t.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function u(){e=e.replace(/^\s+/,"")}var c=e;if(u(),t.startTime=s(),u(),"-->"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+c);e=e.substr(3),u(),t.endTime=s(),u(),l(e,t)}function s(e,t){function n(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]*>?)?/);return e(n[1]?n[1]:n[2])}function a(e){return v[e]}function i(e){for(;h=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(h[0],a);return e}function o(e,t){return!_[t.localName]||_[t.localName]===e.localName}function s(t,n){var r=g[t];if(!r)return null;var a=e.document.createElement(r);a.localName=r;var i=b[t];return i&&n&&(a[i]=n.trim()),a}for(var l,u=e.document.createElement("div"),c=u,d=[];null!==(l=n());)if("<"!==l[0])c.appendChild(e.document.createTextNode(i(l)));else{if("/"===l[1]){d.length&&d[d.length-1]===l.substr(2).replace(">","")&&(d.pop(),c=c.parentNode);continue}var f,p=r(l.substr(1,l.length-2));if(p){f=e.document.createProcessingInstruction("timestamp",p),c.appendChild(f);continue}var h=l.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(f=s(h[1],h[3]),!f)continue;if(!o(c,f))continue;h[2]&&(f.className=h[2].substr(1).replace("."," ")),d.push(h[1]),c.appendChild(f),c=f}return u}function l(e){for(var t=0;t<w.length;t++){var n=w[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function u(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),a=r.textContent||r.innerText;if(a){var i=a.match(/^.*(\n|\r)/);return i?(e.length=0,i[0]):a}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,a=[],i="";if(!e||!e.childNodes)return"ltr";for(t(a,e);i=n(a);)for(var o=0;o<i.length;o++)if(r=i.charCodeAt(o),l(r))return"rtl";return"ltr"}function c(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,a=0;a<n.length&&n[a]!==t;a++)"showing"===n[a].mode&&r++;return++r*-1}function d(){}function f(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),a="rgba(255, 255, 255, 1)",i="rgba(0, 0, 0, 0.8)";r&&(a="rgb(255, 255, 255)",i="rgb(0, 0, 0)"),d.call(this),this.cue=t,this.cueDiv=s(e,t.text);var o={color:a,backgroundColor:i,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=e.document.createElement("div"),o={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(o.direction=u(this.cueDiv),o.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var l=0;switch(t.positionAlign){case"start":l=t.position;break;case"middle":l=t.position-t.size/2;break;case"end":l=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(l,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(l,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function p(e){var t,n,r,a,i=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,a=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||a,this.height=e.height||n,this.bottom=e.bottom||a+(e.height||n),this.width=e.width||r,this.lineHeight=void 0!==t?t:e.lineHeight,i&&!this.lineHeight&&(this.lineHeight=13)}function h(e,t,n,r){function a(e,t){for(var a,i=new p(e),o=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var l=e.intersectPercentage(n);o>l&&(a=new p(e),o=l),e=new p(i)}return a||i}var i=new p(t),o=t.cue,s=c(o),l=[];if(o.snapToLines){var u;switch(o.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width"}var d=i.lineHeight,f=d*Math.round(s),h=n[u]+d,m=l[0];Math.abs(f)>h&&(f=f<0?-1:1,f*=Math.ceil(h/d)*d),s<0&&(f+=""===o.vertical?n.height:n.width,l=l.reverse()),i.move(m,f)}else{var y=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":s-=y/2;break;case"end":s-=y}switch(o.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}l=["+y","-x","+x","-y"],i=new p(t)}var v=a(i,l);t.move(v.toCSSCompatValues(n))}function m(){}var y=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();n.prototype=y(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){var n;return!!((n=t.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(t=parseFloat(t),t>=0&&t<=100))&&(this.set(e,t),!0)}};var v={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},g={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},b={v:"title",lang:"lang"},_={rt:"ruby"},w=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];d.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},d.prototype.formatStyle=function(e,t){return 0===e?0:e+t},f.prototype=y(d.prototype),f.prototype.constructor=f,p.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},p.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},p.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},p.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},p.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},p.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)},p.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},p.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var a={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return a},m.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},m.convertCueToDOMTree=function(e,t){return e&&t?s(e,t):null};var E=.05,k="sans-serif",T="1.5%";m.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var a=e.document.createElement("div");if(a.style.position="absolute",a.style.left="0",a.style.right="0",a.style.top="0",a.style.bottom="0",a.style.margin=T,n.appendChild(a),r(t)){var i=[],o=p.getSimpleBoxPosition(a),s=Math.round(o.height*E*100)/100,l={font:s+"px "+k};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new f(e,r,l),a.appendChild(n.div),h(e,n,o,i),r.displayState=n.div,i.push(p.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)a.appendChild(t[u].displayState)},m.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},m.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=c.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,c.buffer=e.substr(t),n}function s(e){var t=new a;if(i(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new a;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(c.vttjs.VTTRegion||c.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),c.onregion&&c.onregion(n),c.regionList.push({id:t.get("id"),region:n})}}function l(e){var t=new a;i(e,function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",r(n))}},/[^\d]:/,/,/),c.ontimestampmap&&c.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}function u(e){e.match(/X-TIMESTAMP-MAP/)?i(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":l(t)}},/=/):i(e,function(e,t){switch(e){case"Region":s(t)}},/:/)}var c=this;e&&(c.buffer+=c.decoder.decode(e,{stream:!0}));try{var d;if("INITIAL"===c.state){if(!/\r\n|\n/.test(c.buffer))return this;d=t();var f=d.match(/^WEBVTT([ \t].*)?$/);if(!f||!f[0])throw new n(n.Errors.BadSignature);c.state="HEADER"}for(var p=!1;c.buffer;){if(!/\r\n|\n/.test(c.buffer))return this;switch(p?p=!1:d=t(),c.state){case"HEADER":/:/.test(d)?u(d):d||(c.state="ID");continue;case"NOTE":d||(c.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(d)){c.state="NOTE";break}if(!d)continue;if(c.cue=new(c.vttjs.VTTCue||c.window.VTTCue)(0,0,""),c.state="CUE",d.indexOf("-->")===-1){c.cue.id=d;continue}case"CUE":try{o(d,c.cue,c.regionList)}catch(h){c.reportOrThrowError(h),c.cue=null,c.state="BADCUE";continue}c.state="CUETEXT";continue;case"CUETEXT":var m=d.indexOf("-->")!==-1;if(!d||m&&(p=!0)){c.oncue&&c.oncue(c.cue),c.cue=null,c.state="ID";continue}c.cue.text&&(c.cue.text+="\n"),c.cue.text+=d;continue;case"BADCUE":d||(c.state="ID");continue}}}catch(h){c.reportOrThrowError(h),"CUETEXT"===c.state&&c.cue&&c.oncue&&c.oncue(c.cue),c.cue=null,c.state="INITIAL"===c.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new n(n.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}},e.exports=m},function(e,t){function n(e){if("string"!=typeof e)return!1;var t=s[e.toLowerCase()];return!!t&&e.toLowerCase()}function r(e){if("string"!=typeof e)return!1;var t=l[e.toLowerCase()];return!!t&&e.toLowerCase()}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function i(e,t,i){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=e,p=t,h=i,m=null,y="",v=!0,g="auto",b="start",_=50,w="middle",E=50,k="middle";if(Object.defineProperty(s,"id",a({},u,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",a({},u,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",a({},u,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",a({},u,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",a({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",a({},u,{get:function(){return m},set:function(e){m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",a({},u,{get:function(){return y},set:function(e){var t=n(e);if(t===!1)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",a({},u,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",a({},u,{get:function(){return g},set:function(e){if("number"!=typeof e&&e!==o)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",a({},u,{get:function(){return b},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",a({},u,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",a({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",a({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",a({},u,{get:function(){return k},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");k=t,this.hasBeenReset=!0}})),s.displayState=void 0,l)return s}var o="auto",s={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0};i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},e.exports=i},1292,,,,,,function(e,t,n){function r(e){return n(a(e))}function a(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./15_active.png":899,"./15_inactive.png":900,"./30_active.png":901,"./30_inactive.png":902,"./45_active.png":903,"./45_inactive.png":904,"./60_active.png":905,"./60_inactive.png":906,"./boxing_bag_active.png":907,"./boxing_bag_inactive.png":908,"./boxing_glove_active.png":909,"./boxing_glove_inactive.png":910,"./dumbbells_active.png":911,"./dumbbells_inactive.png":912,"./jump_box_active.png":913,"./jump_box_inactive.png":914,"./jump_rope_active.png":915,"./jump_rope_inactive.png":916,"./kettlebell_active.png":917,"./kettlebell_inactive.png":918,"./no_weight_active.png":919,"./no_weight_inactive.png":920,"./resistance_bands_active.png":921,"./resistance_bands_inactive.png":922,"./weight_ball_active.png":923,"./weight_ball_inactive.png":924,"./yoga_blocks_active.png":925,"./yoga_blocks_inactive.png":926,"./yoga_mat_active.png":927,"./yoga_mat_inactive.png":928};r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=1294}]);
//# sourceMappingURL=app.js.map